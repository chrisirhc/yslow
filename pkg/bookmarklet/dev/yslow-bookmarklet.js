/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.3.0
build: 3167
*/
if(typeof YUI!="undefined"){YUI._YUI=YUI}var YUI=function(){var c=0,f=this,b=arguments,a=b.length,e=function(h,g){return(h&&h.hasOwnProperty&&(h instanceof g))},d=(typeof YUI_config!=="undefined")&&YUI_config;if(!(e(f,YUI))){f=new YUI()}else{f._init();if(YUI.GlobalConfig){f.applyConfig(YUI.GlobalConfig)}if(d){f.applyConfig(d)}if(!a){f._setup()}}if(a){for(;c<a;c++){f.applyConfig(b[c])}f._setup()}f.instanceOf=e;return f};(function(){var p,b,q="3.3.0",h=".",n="http://yui.yahooapis.com/",t="yui3-js-enabled",l=function(){},g=Array.prototype.slice,r={"io.xdrReady":1,"io.xdrResponse":1,"SWF.eventHandler":1},f=(typeof window!="undefined"),e=(f)?window:null,v=(f)?e.document:null,d=v&&v.documentElement,a=d&&d.className,c={},i=new Date().getTime(),m=function(z,y,x,w){if(z&&z.addEventListener){z.addEventListener(y,x,w)}else{if(z&&z.attachEvent){z.attachEvent("on"+y,x)}}},u=function(A,z,y,w){if(A&&A.removeEventListener){try{A.removeEventListener(z,y,w)}catch(x){}}else{if(A&&A.detachEvent){A.detachEvent("on"+z,y)}}},s=function(){YUI.Env.windowLoaded=true;YUI.Env.DOMReady=true;if(f){u(window,"load",s)}},j=function(y,x){var w=y.Env._loader;if(w){w.ignoreRegistered=false;w.onEnd=null;w.data=null;w.required=[];w.loadType=null}else{w=new y.Loader(y.config);y.Env._loader=w}return w},o=function(y,x){for(var w in x){if(x.hasOwnProperty(w)){y[w]=x[w]}}},k={success:true};if(d&&a.indexOf(t)==-1){if(a){a+=" "}a+=t;d.className=a}if(q.indexOf("@")>-1){q="3.2.0"}p={applyConfig:function(D){D=D||l;var y,A,z=this.config,B=z.modules,x=z.groups,C=z.rls,w=this.Env._loader;for(A in D){if(D.hasOwnProperty(A)){y=D[A];if(B&&A=="modules"){o(B,y)}else{if(x&&A=="groups"){o(x,y)}else{if(C&&A=="rls"){o(C,y)}else{if(A=="win"){z[A]=y.contentWindow||y;z.doc=z[A].document}else{if(A=="_yuid"){}else{z[A]=y}}}}}}}if(w){w._config(D)}},_config:function(w){this.applyConfig(w)},_init:function(){var y,z=this,w=YUI.Env,x=z.Env,A;z.version=q;if(!x){z.Env={mods:{},versions:{},base:n,cdn:n+q+"/build/",_idx:0,_used:{},_attached:{},_yidx:0,_uidx:0,_guidp:"y",_loaded:{},serviced:{},getBase:w&&w.getBase||function(G,F){var B,C,E,H,D;C=(v&&v.getElementsByTagName("script"))||[];for(E=0;E<C.length;E=E+1){H=C[E].src;if(H){D=H.match(G);B=D&&D[1];if(B){y=D[2];if(y){D=y.indexOf("js");if(D>-1){y=y.substr(0,D)}}D=H.match(F);if(D&&D[3]){B=D[1]+D[3]}break}}}return B||x.cdn}};x=z.Env;x._loaded[q]={};if(w&&z!==YUI){x._yidx=++w._yidx;x._guidp=("yui_"+q+"_"+x._yidx+"_"+i).replace(/\./g,"_")}else{if(YUI._YUI){w=YUI._YUI.Env;x._yidx+=w._yidx;x._uidx+=w._uidx;for(A in w){if(!(A in x)){x[A]=w[A]}}delete YUI._YUI}}z.id=z.stamp(z);c[z.id]=z}z.constructor=YUI;z.config=z.config||{win:e,doc:v,debug:true,useBrowserConsole:true,throwFail:true,bootstrap:true,cacheUse:true,fetchCSS:true};z.config.base=YUI.config.base||z.Env.getBase(/^(.*)yui\/yui([\.\-].*)js(\?.*)?$/,/^(.*\?)(.*\&)(.*)yui\/yui[\.\-].*js(\?.*)?$/);if(!y||(!("-min.-debug.").indexOf(y))){y="-min."}z.config.loaderPath=YUI.config.loaderPath||"loader/loader"+(y||"-min.")+"js"},_setup:function(B){var x,A=this,w=[],z=YUI.Env.mods,y=A.config.core||["get","rls","intl-base","loader","yui-log","yui-later","yui-throttle"];for(x=0;x<y.length;x++){if(z[y[x]]){w.push(y[x])}}A._attach(["yui-base"]);A._attach(w)},applyTo:function(C,B,y){if(!(B in r)){this.log(B+": applyTo not allowed","warn","yui");return null}var x=c[C],A,w,z;if(x){A=B.split(".");w=x;for(z=0;z<A.length;z=z+1){w=w[A[z]];if(!w){this.log("applyTo not found: "+B,"warn","yui")}}return w.apply(x,y)}return null},add:function(x,C,B,w){w=w||{};var A=YUI.Env,D={name:x,fn:C,version:B,details:w},E,z,y=A.versions;A.mods[x]=D;y[B]=y[B]||{};y[B][x]=D;for(z in c){if(c.hasOwnProperty(z)){E=c[z].Env._loader;if(E){if(!E.moduleInfo[x]){E.addModule(w,x)}}}}return this},_attach:function(w,C){var F,A,J,x,I,y,z,L=YUI.Env.mods,B=this,E,D=B.Env._attached,G=w.length,K;for(F=0;F<G;F++){if(!D[w[F]]){A=w[F];J=L[A];if(!J){K=B.Env._loader;if(!K||!K.moduleInfo[A]){B.message("NOT loaded: "+A,"warn","yui")}}else{D[A]=true;x=J.details;I=x.requires;y=x.use;z=x.after;if(I){for(E=0;E<I.length;E++){if(!D[I[E]]){if(!B._attach(I)){return false}break}}}if(z){for(E=0;E<z.length;E++){if(!D[z[E]]){if(!B._attach(z)){return false}break}}}if(y){for(E=0;E<y.length;E++){if(!D[y[E]]){if(!B._attach(y)){return false}break}}}if(J.fn){try{J.fn(B,A)}catch(H){B.error("Attach error: "+A,H,A);return false}}}}}return true},use:function(){var w=g.call(arguments,0),z=w[w.length-1],y=this,x;if(y.Lang.isFunction(z)){w.pop()}else{z=null}if(y._loading){y._useQueue=y._useQueue||new y.Queue();y._useQueue.add([w,z])}else{x=w.join();if(y.config.cacheUse&&y.Env.serviced[x]){y._notify(z,k,w)}else{y._use(w,function(B,A){if(B.config.cacheUse){B.Env.serviced[x]=true}B._notify(z,A,w)})}}return y},_notify:function(z,w,x){if(!w.success&&this.config.loadErrorFn){this.config.loadErrorFn.call(this,this,z,w,x)}else{if(z){try{z(this,w)}catch(y){this.error("use callback error",y,x)}}}},_use:function(y,A){if(!this.Array){this._attach(["yui-base"])}var L,F,M,x=this,N=YUI.Env,z=N.mods,w=x.Env,C=w._used,J=N._loaderQueue,Q=y[0],E=x.Array,O=x.config,D=O.bootstrap,K=[],H=[],P=true,B=O.fetchCSS,I=function(S,R){if(!S.length){return}E.each(S,function(V){if(!R){H.push(V)}if(C[V]){return}var T=z[V],W,U;if(T){C[V]=true;W=T.details.requires;U=T.details.use}else{if(!N._loaded[q][V]){K.push(V)}else{C[V]=true}}if(W&&W.length){I(W)}if(U&&U.length){I(U,1)}})},G=function(V){var T=V||{success:true,msg:"not dynamic"},S,R,U=true,W=T.data;x._loading=false;if(W){R=K;K=[];H=[];I(W);S=K.length;if(S){if(K.sort().join()==R.sort().join()){S=false}}}if(S&&W){x._loading=false;x._use(y,function(){if(x._attach(W)){x._notify(A,T,W)}})}else{if(W){U=x._attach(W)}if(U){x._notify(A,T,y)}}if(x._useQueue&&x._useQueue.size()&&!x._loading){x._use.apply(x,x._useQueue.next())}};if(Q==="*"){P=x._attach(x.Object.keys(z));if(P){G()}return x}if(D&&x.Loader&&y.length){F=j(x);F.require(y);F.ignoreRegistered=true;F.calculate(null,(B)?null:"js");y=F.sorted}I(y);L=K.length;if(L){K=x.Object.keys(E.hash(K));L=K.length}if(D&&L&&x.Loader){x._loading=true;F=j(x);F.onEnd=G;F.context=x;F.data=y;F.ignoreRegistered=false;F.require(y);F.insert(null,(B)?null:"js")}else{if(L&&x.config.use_rls){x.Get.script(x._rls(y),{onEnd:function(R){G(R)},data:y})}else{if(D&&L&&x.Get&&!w.bootstrapped){x._loading=true;M=function(){x._loading=false;J.running=false;w.bootstrapped=true;if(x._attach(["loader"])){x._use(y,A)}};if(N._bootstrapping){J.add(M)}else{N._bootstrapping=true;x.Get.script(O.base+O.loaderPath,{onEnd:M})}}else{P=x._attach(y);if(P){G()}}}}return x},namespace:function(){var x=arguments,B=this,z=0,y,A,w;for(;z<x.length;z++){w=x[z];if(w.indexOf(h)){A=w.split(h);for(y=(A[0]=="YAHOO")?1:0;y<A.length;y++){B[A[y]]=B[A[y]]||{};B=B[A[y]]}}else{B[w]=B[w]||{}}}return B},log:l,message:l,error:function(A,y,x){var z=this,w;if(z.config.errorFn){w=z.config.errorFn.apply(z,arguments)}if(z.config.throwFail&&!w){throw (y||new Error(A))}else{z.message(A,"error")}return z},guid:function(w){var x=this.Env._guidp+(++this.Env._uidx);return(w)?(w+x):x},stamp:function(y,z){var w;if(!y){return y}if(y.uniqueID&&y.nodeType&&y.nodeType!==9){w=y.uniqueID}else{w=(typeof y==="string")?y:y._yuid}if(!w){w=this.guid();if(!z){try{y._yuid=w}catch(x){w=null}}}return w},destroy:function(){var w=this;if(w.Event){w.Event._unload()}delete c[w.id];delete w.Env;delete w.config}};YUI.prototype=p;for(b in p){if(p.hasOwnProperty(b)){YUI[b]=p[b]}}YUI._init();if(f){m(window,"load",s)}else{s()}YUI.Env.add=m;YUI.Env.remove=u;if(typeof exports=="object"){exports.YUI=YUI}}());YUI.add("yui-base",function(c){c.Lang=c.Lang||{};var k=c.Lang,B="array",p="boolean",f="date",g="error",i="function",t="number",A="null",n="object",y="regexp",r="string",s=String.prototype,m=Object.prototype.toString,D="undefined",b={"undefined":D,number:t,"boolean":p,string:r,"[object Function]":i,"[object RegExp]":y,"[object Array]":B,"[object Date]":f,"[object Error]":g},x=/^\s+|\s+$/g,z="",e=/\{\s*([^\|\}]+?)\s*(?:\|([^\}]*))?\s*\}/g;k.isArray=function(E){return k.type(E)===B};k.isBoolean=function(E){return typeof E===p};k.isFunction=function(E){return k.type(E)===i};k.isDate=function(E){return k.type(E)===f&&E.toString()!=="Invalid Date"&&!isNaN(E)};k.isNull=function(E){return E===null};k.isNumber=function(E){return typeof E===t&&isFinite(E)};k.isObject=function(G,F){var E=typeof G;return(G&&(E===n||(!F&&(E===i||k.isFunction(G)))))||false};k.isString=function(E){return typeof E===r};k.isUndefined=function(E){return typeof E===D};k.trim=s.trim?function(E){return(E&&E.trim)?E.trim():E}:function(E){try{return E.replace(x,z)}catch(F){return E}};k.trimLeft=s.trimLeft?function(E){return E.trimLeft()}:function(E){return E.replace(/^\s+/,"")};k.trimRight=s.trimRight?function(E){return E.trimRight()}:function(E){return E.replace(/\s+$/,"")};k.isValue=function(F){var E=k.type(F);switch(E){case t:return isFinite(F);case A:case D:return false;default:return !!(E)}};k.type=function(E){return b[typeof E]||b[m.call(E)]||(E?n:A)};k.sub=function(E,F){return((E.replace)?E.replace(e,function(G,H){return(!k.isUndefined(F[H]))?F[H]:G}):E)};k.now=Date.now||function(){return new Date().getTime()};var u=Array.prototype,w="length",l=function(K,I,G){var H=(G)?2:l.test(K),F,E,L=I||0;if(H){try{return u.slice.call(K,L)}catch(J){E=[];F=K.length;for(;L<F;L++){E.push(K[L])}return E}}else{return[K]}};c.Array=l;l.test=function(G){var E=0;if(c.Lang.isObject(G)){if(c.Lang.isArray(G)){E=1}else{try{if((w in G)&&!G.tagName&&!G.alert&&!G.apply){E=2}}catch(F){}}}return E};l.each=(u.forEach)?function(E,F,G){u.forEach.call(E||[],F,G||c);return c}:function(F,H,I){var E=(F&&F.length)||0,G;for(G=0;G<E;G=G+1){H.call(I||c,F[G],G,F)}return c};l.hash=function(G,F){var J={},E=G.length,I=F&&F.length,H;for(H=0;H<E;H=H+1){J[G[H]]=(I&&I>H)?F[H]:true}return J};l.indexOf=(u.indexOf)?function(E,F){return u.indexOf.call(E,F)}:function(E,G){for(var F=0;F<E.length;F=F+1){if(E[F]===G){return F}}return -1};l.numericSort=function(F,E){return(F-E)};l.some=(u.some)?function(E,F,G){return u.some.call(E,F,G)}:function(F,H,I){var E=F.length,G;for(G=0;G<E;G=G+1){if(H.call(I,F[G],G,F)){return true}}return false};function C(){this._init();this.add.apply(this,arguments)}C.prototype={_init:function(){this._q=[]},next:function(){return this._q.shift()},last:function(){return this._q.pop()},add:function(){this._q.push.apply(this._q,arguments);return this},size:function(){return this._q.length}};c.Queue=C;YUI.Env._loaderQueue=YUI.Env._loaderQueue||new C();var o="__",a=function(G,F){var E=F.toString;if(c.Lang.isFunction(E)&&E!=Object.prototype.toString){G.toString=E}};c.merge=function(){var F=arguments,H={},G,E=F.length;for(G=0;G<E;G=G+1){c.mix(H,F[G],true)}return H};c.mix=function(E,N,G,M,J,L){if(!N||!E){return E||c}if(J){switch(J){case 1:return c.mix(E.prototype,N.prototype,G,M,0,L);case 2:c.mix(E.prototype,N.prototype,G,M,0,L);break;case 3:return c.mix(E,N.prototype,G,M,0,L);case 4:return c.mix(E.prototype,N,G,M,0,L);default:}}var I,H,F,K;if(M&&M.length){for(I=0,H=M.length;I<H;++I){F=M[I];K=c.Lang.type(E[F]);if(N.hasOwnProperty(F)){if(L&&K=="object"){c.mix(E[F],N[F])}else{if(G||!(F in E)){E[F]=N[F]}}}}}else{for(I in N){if(N.hasOwnProperty(I)){if(L&&c.Lang.isObject(E[I],true)){c.mix(E[I],N[I],G,M,0,true)}else{if(G||!(I in E)){E[I]=N[I]}}}}if(c.UA.ie){a(E,N)}}return E};c.cached=function(G,E,F){E=E||{};return function(I){var H=(arguments.length>1)?Array.prototype.join.call(arguments,o):I;if(!(H in E)||(F&&E[H]==F)){E[H]=G.apply(G,arguments)}return E[H]}};var q=function(){},h=function(E){q.prototype=E;return new q()},j=function(F,E){return F&&F.hasOwnProperty&&F.hasOwnProperty(E)},v,d=function(I,H){var G=(H===2),E=(G)?0:[],F;for(F in I){if(j(I,F)){if(G){E++}else{E.push((H)?I[F]:F)}}}return E};c.Object=h;h.keys=function(E){return d(E)};h.values=function(E){return d(E,1)};h.size=Object.size||function(E){return d(E,2)};h.hasKey=j;h.hasValue=function(F,E){return(c.Array.indexOf(h.values(F),E)>-1)};h.owns=j;h.each=function(I,H,J,G){var F=J||c,E;for(E in I){if(G||j(I,E)){H.call(F,I[E],E,I)}}return c};h.some=function(I,H,J,G){var F=J||c,E;for(E in I){if(G||j(I,E)){if(H.call(F,I[E],E,I)){return true}}}return false};h.getValue=function(I,H){if(!c.Lang.isObject(I)){return v}var F,G=c.Array(H),E=G.length;for(F=0;I!==v&&F<E;F++){I=I[G[F]]}return I};h.setValue=function(K,I,J){var E,H=c.Array(I),G=H.length-1,F=K;if(G>=0){for(E=0;F!==v&&E<G;E++){F=F[H[E]]}if(F!==v){F[H[E]]=J}else{return v}}return K};h.isEmpty=function(F){for(var E in F){if(j(F,E)){return false}}return true};YUI.Env.parseUA=function(K){var J=function(N){var O=0;return parseFloat(N.replace(/\./g,function(){return(O++==1)?"":"."}))},M=c.config.win,E=M&&M.navigator,H={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:E&&E.cajaVersion,secure:false,os:null},F=K||E&&E.userAgent,L=M&&M.location,G=L&&L.href,I;H.secure=G&&(G.toLowerCase().indexOf("https")===0);if(F){if((/windows|win32/i).test(F)){H.os="windows"}else{if((/macintosh/i).test(F)){H.os="macintosh"}else{if((/rhino/i).test(F)){H.os="rhino"}}}if((/KHTML/).test(F)){H.webkit=1}I=F.match(/AppleWebKit\/([^\s]*)/);if(I&&I[1]){H.webkit=J(I[1]);if(/ Mobile\//.test(F)){H.mobile="Apple";I=F.match(/OS ([^\s]*)/);if(I&&I[1]){I=J(I[1].replace("_","."))}H.ios=I;H.ipad=H.ipod=H.iphone=0;I=F.match(/iPad|iPod|iPhone/);if(I&&I[0]){H[I[0].toLowerCase()]=H.ios}}else{I=F.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/);if(I){H.mobile=I[0]}if(/webOS/.test(F)){H.mobile="WebOS";I=F.match(/webOS\/([^\s]*);/);if(I&&I[1]){H.webos=J(I[1])}}if(/ Android/.test(F)){H.mobile="Android";I=F.match(/Android ([^\s]*);/);if(I&&I[1]){H.android=J(I[1])}}}I=F.match(/Chrome\/([^\s]*)/);if(I&&I[1]){H.chrome=J(I[1])}else{I=F.match(/AdobeAIR\/([^\s]*)/);if(I){H.air=I[0]}}}if(!H.webkit){I=F.match(/Opera[\s\/]([^\s]*)/);if(I&&I[1]){H.opera=J(I[1]);I=F.match(/Opera Mini[^;]*/);if(I){H.mobile=I[0]}}else{I=F.match(/MSIE\s([^;]*)/);if(I&&I[1]){H.ie=J(I[1])}else{I=F.match(/Gecko\/([^\s]*)/);if(I){H.gecko=1;I=F.match(/rv:([^\s\)]*)/);if(I&&I[1]){H.gecko=J(I[1])}}}}}}YUI.Env.UA=H;return H};c.UA=YUI.Env.UA||YUI.Env.parseUA()},"3.3.0");YUI.add("features",function(b){var c={};b.mix(b.namespace("Features"),{tests:c,add:function(d,e,f){c[d]=c[d]||{};c[d][e]=f},all:function(e,f){var g=c[e],d="";if(g){b.Object.each(g,function(i,h){d+=h+":"+(b.Features.test(e,h,f)?1:0)+";"})}return d},test:function(e,g,f){f=f||[];var d,i,k,j=c[e],h=j&&j[g];if(!h){}else{d=h.result;if(b.Lang.isUndefined(d)){i=h.ua;if(i){d=(b.UA[i])}k=h.test;if(k&&((!i)||d)){d=k.apply(b,f)}h.result=d}}return d}});var a=b.Features.add;a("load","0",{test:function(d){return !(d.UA.ios||d.UA.android)},trigger:"autocomplete-list"});a("load","1",{test:function(j){var h=j.Features.test,i=j.Features.add,f=j.config.win,g=j.config.doc,d="documentElement",e=false;i("style","computedStyle",{test:function(){return f&&"getComputedStyle" in f}});i("style","opacity",{test:function(){return g&&"opacity" in g[d].style}});e=(!h("style","opacity")&&!h("style","computedStyle"));return e},trigger:"dom-style"});a("load","2",{trigger:"widget-base",ua:"ie"});a("load","3",{test:function(e){var d=e.config.doc&&e.config.doc.implementation;return(d&&(!d.hasFeature("Events","2.0")))},trigger:"node-base"});a("load","4",{test:function(d){return(d.config.win&&("ontouchstart" in d.config.win&&!d.UA.chrome))},trigger:"dd-drag"});a("load","5",{test:function(e){var d=e.config.doc.documentMode;return e.UA.ie&&(!("onhashchange" in e.config.win)||!d||d<8)},trigger:"history-hash"})},"3.3.0",{requires:["yui-base"]});YUI.add("get",function(f){var b=f.UA,a=f.Lang,d="text/javascript",e="text/css",c="stylesheet";f.Get=function(){var m,n,j,l={},k=0,u,w=function(A,x,B){var y=B||f.config.win,C=y.document,D=C.createElement(A),z;for(z in x){if(x[z]&&x.hasOwnProperty(z)){D.setAttribute(z,x[z])}}return D},t=function(y,z,x){var A={id:f.guid(),type:e,rel:c,href:y};if(x){f.mix(A,x)}return w("link",A,z)},s=function(y,z,x){var A={id:f.guid(),type:d};if(x){f.mix(A,x)}A.src=y;return w("script",A,z)},p=function(y,z,x){return{tId:y.tId,win:y.win,data:y.data,nodes:y.nodes,msg:z,statusText:x,purge:function(){n(this.tId)}}},o=function(B,A,x){var y=l[B],z;if(y&&y.onEnd){z=y.context||y;y.onEnd.call(z,p(y,A,x))}},v=function(A,z){var x=l[A],y;if(x.timer){clearTimeout(x.timer)}if(x.onFailure){y=x.context||x;x.onFailure.call(y,p(x,z))}o(A,z,"failure")},i=function(A){var x=l[A],z,y;if(x.timer){clearTimeout(x.timer)}x.finished=true;if(x.aborted){z="transaction "+A+" was aborted";v(A,z);return}if(x.onSuccess){y=x.context||x;x.onSuccess.call(y,p(x))}o(A,z,"OK")},q=function(z){var x=l[z],y;if(x.onTimeout){y=x.context||x;x.onTimeout.call(y,p(x))}o(z,"timeout","timeout")},h=function(z,C){var y=l[z],B,G,F,D,A,x,H,E;if(y.timer){clearTimeout(y.timer)}if(y.aborted){B="transaction "+z+" was aborted";v(z,B);return}if(C){y.url.shift();if(y.varName){y.varName.shift()}}else{y.url=(a.isString(y.url))?[y.url]:y.url;if(y.varName){y.varName=(a.isString(y.varName))?[y.varName]:y.varName}}G=y.win;F=G.document;D=F.getElementsByTagName("head")[0];if(y.url.length===0){i(z);return}x=y.url[0];if(!x){y.url.shift();return h(z)}if(y.timeout){y.timer=setTimeout(function(){q(z)},y.timeout)}if(y.type==="script"){A=s(x,G,y.attributes)}else{A=t(x,G,y.attributes)}j(y.type,A,z,x,G,y.url.length);y.nodes.push(A);E=y.insertBefore||F.getElementsByTagName("base")[0];if(E){H=m(E,z);if(H){H.parentNode.insertBefore(A,H)}}else{D.appendChild(A)}if((b.webkit||b.gecko)&&y.type==="css"){h(z,x)}},g=function(){if(u){return}u=true;var x,y;for(x in l){if(l.hasOwnProperty(x)){y=l[x];if(y.autopurge&&y.finished){n(y.tId);delete l[x]}}}u=false},r=function(y,x,z){z=z||{};var C="q"+(k++),A,B=z.purgethreshold||f.Get.PURGE_THRESH;if(k%B===0){g()}l[C]=f.merge(z,{tId:C,type:y,url:x,finished:false,nodes:[]});A=l[C];A.win=A.win||f.config.win;A.context=A.context||A;A.autopurge=("autopurge" in A)?A.autopurge:(y==="script")?true:false;A.attributes=A.attributes||{};A.attributes.charset=z.charset||A.attributes.charset||"utf-8";h(C);return{tId:C}};j=function(z,E,D,y,C,B,x){var A=x||h;if(b.ie){E.onreadystatechange=function(){var F=this.readyState;if("loaded"===F||"complete"===F){E.onreadystatechange=null;A(D,y)}}}else{if(b.webkit){if(z==="script"){E.addEventListener("load",function(){A(D,y)})}}else{E.onload=function(){A(D,y)};E.onerror=function(F){v(D,F+": "+y)}}}};m=function(x,A){var y=l[A],z=(a.isString(x))?y.win.document.getElementById(x):x;if(!z){v(A,"target node not found: "+x)}return z};n=function(C){var y,A,G,D,H,B,z,F,E,x=l[C];if(x){y=x.nodes;A=y.length;G=x.win.document;D=G.getElementsByTagName("head")[0];E=x.insertBefore||G.getElementsByTagName("base")[0];if(E){H=m(E,C);if(H){D=H.parentNode}}for(B=0;B<A;B=B+1){z=y[B];if(z.clearAttributes){z.clearAttributes()}else{for(F in z){if(z.hasOwnProperty(F)){delete z[F]}}}D.removeChild(z)}}x.nodes=[]};return{PURGE_THRESH:20,_finalize:function(x){setTimeout(function(){i(x)},0)},abort:function(y){var z=(a.isString(y))?y:y.tId,x=l[z];if(x){x.aborted=true}},script:function(x,y){return r("script",x,y)},css:function(x,y){return r("css",x,y)}}}()},"3.3.0",{requires:["yui-base"]});YUI.add("oop",function(h){var d=h.Lang,c=h.Array,b=Object.prototype,a="_~yuim~_",e="each",g="some",f=function(l,k,m,i,j){if(l&&l[j]&&l!==h){return l[j].call(l,k,m)}else{switch(c.test(l)){case 1:return c[j](l,k,m);case 2:return c[j](h.Array(l,0,true),k,m);default:return h.Object[j](l,k,m,i)}}};h.augment=function(i,x,l,v,p){var n=x.prototype,t=null,w=x,q=(p)?h.Array(p):[],k=i.prototype,o=k||i,u=false,j,m;if(k&&w){j={};m={};t={};h.Object.each(n,function(s,r){m[r]=function(){for(var y in j){if(j.hasOwnProperty(y)&&(this[y]===m[y])){this[y]=j[y]}}w.apply(this,q);return j[r].apply(this,arguments)};if((!v||(r in v))&&(l||!(r in this))){if(d.isFunction(s)){j[r]=s;this[r]=m[r]}else{this[r]=s}}},t,true)}else{u=true}h.mix(o,t||n,l,v);if(u){x.apply(o,q)}return i};h.aggregate=function(k,j,i,l){return h.mix(k,j,i,l,0,true)};h.extend=function(l,k,i,n){if(!k||!l){h.error("extend failed, verify dependencies")}var m=k.prototype,j=h.Object(m);l.prototype=j;j.constructor=l;l.superclass=m;if(k!=Object&&m.constructor==b.constructor){m.constructor=k}if(i){h.mix(j,i,true)}if(n){h.mix(l,n,true)}return l};h.each=function(k,j,l,i){return f(k,j,l,i,e)};h.some=function(k,j,l,i){return f(k,j,l,i,g)};h.clone=function(l,m,r,s,k,q){if(!d.isObject(l)){return l}if(h.instanceOf(l,YUI)){return l}var n,j=q||{},i,p=h.each;switch(d.type(l)){case"date":return new Date(l);case"regexp":return l;case"function":return l;case"array":n=[];break;default:if(l[a]){return j[l[a]]}i=h.guid();n=(m)?{}:h.Object(l);l[a]=i;j[i]=l}if(!l.addEventListener&&!l.attachEvent){p(l,function(t,o){if((o||o===0)&&(!r||(r.call(s||this,t,o,this,l)!==false))){if(o!==a){if(o=="prototype"){}else{this[o]=h.clone(t,m,r,s,k||l,j)}}}},n)}if(!q){h.Object.each(j,function(t,o){if(t[a]){try{delete t[a]}catch(u){t[a]=null}}},this);j=null}return n};h.bind=function(i,k){var j=arguments.length>2?h.Array(arguments,2,true):null;return function(){var m=d.isString(i)?k[i]:i,l=(j)?j.concat(h.Array(arguments,0,true)):arguments;return m.apply(k||m,l)}};h.rbind=function(i,k){var j=arguments.length>2?h.Array(arguments,2,true):null;return function(){var m=d.isString(i)?k[i]:i,l=(j)?h.Array(arguments,0,true).concat(j):arguments;return m.apply(k||m,l)}}},"3.3.0");YUI.add("jsonp",function(c){var b=c.Lang.isFunction;function a(){this._init.apply(this,arguments)}a.prototype={_requests:0,_init:function(d,f){this.url=d;f=(b(f))?{on:{success:f}}:f||{};var e=f.on||{};if(!e.success){e.success=this._defaultCallback(d,f)}this._config=c.merge({context:this,args:[],format:this._format,allowCache:false},f,{on:e})},_defaultCallback:function(){},send:function(){var d=this,g=c.Array(arguments,0,true),f=d._config,h=d._proxy||c.guid(),e;if(f.allowCache){d._proxy=h;d._requests++}g.unshift(d.url,"YUI.Env.JSONP."+h);e=f.format.apply(d,g);if(!f.on.success){return d}function i(j){return(b(j))?function(k){if(!f.allowCache||!--d._requests){delete YUI.Env.JSONP[h]}j.apply(f.context,[k].concat(f.args))}:null}YUI.Env.JSONP[h]=i(f.on.success);c.Get.script(e,{onFailure:i(f.on.failure),onTimeout:i(f.on.timeout),timeout:f.timeout});return d},_format:function(d,e){return d.replace(/\{callback\}/,e)}};c.JSONPRequest=a;c.jsonp=function(d,f){var e=new c.JSONPRequest(d,f);return e.send.apply(e,c.Array(arguments,2,true))};if(!YUI.Env.JSONP){YUI.Env.JSONP={}}},"3.3.0",{requires:["get","oop"]});YUI.add("jsonp-url",function(d){var a=d.JSONPRequest,c=d.Object.getValue,b=function(){};d.mix(a.prototype,{_pattern:/\bcallback=(.*?)(?=&|$)/i,_template:"callback={callback}",_defaultCallback:function(g){var f=g.match(this._pattern),j=[],h=0,e,k,l;if(f){e=f[1].replace(/\[(['"])(.*?)\1\]/g,function(m,i,n){j[h]=n;return".@"+(h++)}).replace(/\[(\d+)\]/g,function(m,i){j[h]=parseInt(i,10)|0;return".@"+(h++)}).replace(/^\./,"");if(!/[^\w\.\$@]/.test(e)){k=e.split(".");for(h=k.length-1;h>=0;--h){if(k[h].charAt(0)==="@"){k[h]=j[parseInt(k[h].substr(1),10)]}}l=c(d.config.win,k)||c(d,k)||c(d,k.slice(1))}}return l||b},_format:function(e,g){var h=this._template.replace(/\{callback\}/,g),f;if(this._pattern.test(e)){return e.replace(this._pattern,h)}else{f=e.slice(-1);if(f!=="&"&&f!=="?"){e+=(e.indexOf("?")>-1)?"&":"?"}return e+h}}},true)},"3.3.0",{requires:["jsonp"]});YUI.add("yql",function(b){var a=function(e,f,d,c){if(!d){d={}}d.q=e;if(!d.format){d.format=b.YQLRequest.FORMAT}if(!d.env){d.env=b.YQLRequest.ENV}this._params=d;this._opts=c;this._callback=f};a.prototype={_jsonp:null,_opts:null,_callback:null,_params:null,send:function(){var c="",d=((this._opts&&this._opts.proto)?this._opts.proto:b.YQLRequest.PROTO);b.each(this._params,function(g,f){c+=f+"="+encodeURIComponent(g)+"&"});d+=((this._opts&&this._opts.base)?this._opts.base:b.YQLRequest.BASE_URL)+c;var e=(!b.Lang.isFunction(this._callback))?this._callback:{on:{success:this._callback}};if(e.allowCache!==false){e.allowCache=true}if(!this._jsonp){this._jsonp=b.jsonp(d,e)}else{this._jsonp.url=d;if(e.on&&e.on.success){this._jsonp._config.on.success=e.on.success}this._jsonp.send()}return this}};a.FORMAT="json";a.PROTO="http";a.BASE_URL="://query.yahooapis.com/v1/public/yql?";a.ENV="http://datatables.org/alltables.env";b.YQLRequest=a;b.YQL=function(d,e,c){return new b.YQLRequest(d,e,c).send()}},"3.3.0",{requires:["jsonp"]});YUI.add("event-custom-base",function(b){b.Env.evt={handles:{},plugins:{}};var g=0,i=1,p={objs:{},before:function(s,u,v,w){var t=s,r;if(w){r=[s,w].concat(b.Array(arguments,4,true));t=b.rbind.apply(b,r)}return this._inject(g,t,u,v)},after:function(s,u,v,w){var t=s,r;if(w){r=[s,w].concat(b.Array(arguments,4,true));t=b.rbind.apply(b,r)}return this._inject(i,t,u,v)},_inject:function(r,t,u,w){var x=b.stamp(u),v,s;if(!this.objs[x]){this.objs[x]={}}v=this.objs[x];if(!v[w]){v[w]=new b.Do.Method(u,w);u[w]=function(){return v[w].exec.apply(v[w],arguments)}}s=x+b.stamp(t)+w;v[w].register(s,t,r);return new b.EventHandle(v[w],s)},detach:function(r){if(r.detach){r.detach()}},_unload:function(s,r){}};b.Do=p;p.Method=function(r,s){this.obj=r;this.methodName=s;this.method=r[s];this.before={};this.after={}};p.Method.prototype.register=function(s,t,r){if(r){this.after[s]=t}else{this.before[s]=t}};p.Method.prototype._delete=function(r){delete this.before[r];delete this.after[r]};p.Method.prototype.exec=function(){var t=b.Array(arguments,0,true),u,s,x,v=this.before,r=this.after,w=false;for(u in v){if(v.hasOwnProperty(u)){s=v[u].apply(this.obj,t);if(s){switch(s.constructor){case p.Halt:return s.retVal;case p.AlterArgs:t=s.newArgs;break;case p.Prevent:w=true;break;default:}}}}if(!w){s=this.method.apply(this.obj,t)}p.originalRetVal=s;p.currentRetVal=s;for(u in r){if(r.hasOwnProperty(u)){x=r[u].apply(this.obj,t);if(x&&x.constructor==p.Halt){return x.retVal}else{if(x&&x.constructor==p.AlterReturn){s=x.newRetVal;p.currentRetVal=s}}}}return s};p.AlterArgs=function(s,r){this.msg=s;this.newArgs=r};p.AlterReturn=function(s,r){this.msg=s;this.newRetVal=r};p.Halt=function(s,r){this.msg=s;this.retVal=r};p.Prevent=function(r){this.msg=r};p.Error=p.Halt;var m="after",q=["broadcast","monitored","bubbles","context","contextFn","currentTarget","defaultFn","defaultTargetOnly","details","emitFacade","fireOnce","async","host","preventable","preventedFn","queuable","silent","stoppedFn","target","type"],n=9,a="yui:log";b.EventHandle=function(r,s){this.evt=r;this.sub=s};b.EventHandle.prototype={batch:function(r,s){r.call(s||this,this);if(b.Lang.isArray(this.evt)){b.Array.each(this.evt,function(t){t.batch.call(s||t,r)})}},detach:function(){var r=this.evt,t=0,s;if(r){if(b.Lang.isArray(r)){for(s=0;s<r.length;s++){t+=r[s].detach()}}else{r._delete(this.sub);t=1}}return t},monitor:function(r){return this.evt.monitor.apply(this.evt,arguments)}};b.CustomEvent=function(r,s){s=s||{};this.id=b.stamp(this);this.type=r;this.context=b;this.logSystem=(r==a);this.silent=this.logSystem;this.subscribers={};this.afters={};this.preventable=true;this.bubbles=true;this.signature=n;this.subCount=0;this.afterCount=0;this.applyConfig(s,true)};b.CustomEvent.prototype={hasSubs:function(r){var v=this.subCount,t=this.afterCount,u=this.sibling;if(u){v+=u.subCount;t+=u.afterCount}if(r){return(r=="after")?t:v}return(v+t)},monitor:function(t){this.monitored=true;var s=this.id+"|"+this.type+"_"+t,r=b.Array(arguments,0,true);r[0]=s;return this.host.on.apply(this.host,r)},getSubs:function(){var u=b.merge(this.subscribers),r=b.merge(this.afters),t=this.sibling;if(t){b.mix(u,t.subscribers);b.mix(r,t.afters)}return[u,r]},applyConfig:function(s,r){if(s){b.mix(this,s,r,q)}},_on:function(w,u,t,r){if(!w){this.log("Invalid callback for CE: "+this.type)}var v=new b.Subscriber(w,u,t,r);if(this.fireOnce&&this.fired){if(this.async){setTimeout(b.bind(this._notify,this,v,this.firedWith),0)}else{this._notify(v,this.firedWith)}}if(r==m){this.afters[v.id]=v;this.afterCount++}else{this.subscribers[v.id]=v;this.subCount++}return new b.EventHandle(this,v)},subscribe:function(t,s){var r=(arguments.length>2)?b.Array(arguments,2,true):null;return this._on(t,s,r,true)},on:function(t,s){var r=(arguments.length>2)?b.Array(arguments,2,true):null;if(this.host){this.host._monitor("attach",this.type,{args:arguments})}return this._on(t,s,r,true)},after:function(t,s){var r=(arguments.length>2)?b.Array(arguments,2,true):null;return this._on(t,s,r,m)},detach:function(w,u){if(w&&w.detach){return w.detach()}var t,v,x=0,r=b.merge(this.subscribers,this.afters);for(t in r){if(r.hasOwnProperty(t)){v=r[t];if(v&&(!w||w===v.fn)){this._delete(v);x++}}}return x},unsubscribe:function(){return this.detach.apply(this,arguments)},_notify:function(v,u,r){this.log(this.type+"->sub: "+v.id);var t;t=v.notify(u,this);if(false===t||this.stopped>1){this.log(this.type+" cancelled by subscriber");return false}return true},log:function(s,r){if(!this.silent){}},fire:function(){if(this.fireOnce&&this.fired){this.log("fireOnce event: "+this.type+" already fired");return true}else{var r=b.Array(arguments,0,true);this.fired=true;this.firedWith=r;if(this.emitFacade){return this.fireComplex(r)}else{return this.fireSimple(r)}}},fireSimple:function(r){this.stopped=0;this.prevented=0;if(this.hasSubs()){var s=this.getSubs();this._procSubs(s[0],r);this._procSubs(s[1],r)}this._broadcast(r);return this.stopped?false:true},fireComplex:function(r){r[0]=r[0]||{};return this.fireSimple(r)},_procSubs:function(v,t,r){var w,u;for(u in v){if(v.hasOwnProperty(u)){w=v[u];if(w&&w.fn){if(false===this._notify(w,t,r)){this.stopped=2}if(this.stopped==2){return false}}}}return true},_broadcast:function(s){if(!this.stopped&&this.broadcast){var r=b.Array(s);r.unshift(this.type);if(this.host!==b){b.fire.apply(b,r)}if(this.broadcast==2){b.Global.fire.apply(b.Global,r)}}},unsubscribeAll:function(){return this.detachAll.apply(this,arguments)},detachAll:function(){return this.detach()},_delete:function(r){if(r){if(this.subscribers[r.id]){delete this.subscribers[r.id];this.subCount--}if(this.afters[r.id]){delete this.afters[r.id];this.afterCount--}}if(this.host){this.host._monitor("detach",this.type,{ce:this,sub:r})}if(r){r.deleted=true}}};b.Subscriber=function(t,s,r){this.fn=t;this.context=s;this.id=b.stamp(this);this.args=r};b.Subscriber.prototype={_notify:function(v,t,u){if(this.deleted&&!this.postponed){if(this.postponed){delete this.fn;delete this.context}else{delete this.postponed;return null}}var r=this.args,s;switch(u.signature){case 0:s=this.fn.call(v,u.type,t,v);break;case 1:s=this.fn.call(v,t[0]||null,v);break;default:if(r||t){t=t||[];r=(r)?t.concat(r):t;s=this.fn.apply(v,r)}else{s=this.fn.call(v)}}if(this.once){u._delete(this)}return s},notify:function(s,u){var v=this.context,r=true;if(!v){v=(u.contextFn)?u.contextFn():u.context}if(b.config.throwFail){r=this._notify(v,s,u)}else{try{r=this._notify(v,s,u)}catch(t){b.error(this+" failed: "+t.message,t)}}return r},contains:function(s,r){if(r){return((this.fn==s)&&this.context==r)}else{return(this.fn==s)}}};var j=b.Lang,h=":",e="|",l="~AFTER~",k=b.Array,c=b.cached(function(r){return r.replace(/(.*)(:)(.*)/,"*$2$3")}),o=b.cached(function(r,s){if(!s||!j.isString(r)||r.indexOf(h)>-1){return r}return s+h+r}),f=b.cached(function(u,w){var s=u,v,x,r;if(!j.isString(s)){return s}r=s.indexOf(l);if(r>-1){x=true;s=s.substr(l.length)}r=s.indexOf(e);if(r>-1){v=s.substr(0,(r));s=s.substr(r+1);if(s=="*"){s=null}}return[v,(w)?o(s,w):s,x,s]}),d=function(r){var s=(j.isObject(r))?r:{};this._yuievt=this._yuievt||{id:b.guid(),events:{},targets:{},config:s,chain:("chain" in s)?s.chain:b.config.chain,bubbling:false,defaults:{context:s.context||this,host:this,emitFacade:s.emitFacade,fireOnce:s.fireOnce,queuable:s.queuable,monitored:s.monitored,broadcast:s.broadcast,defaultTargetOnly:s.defaultTargetOnly,bubbles:("bubbles" in s)?s.bubbles:true}}};d.prototype={once:function(){var r=this.on.apply(this,arguments);r.batch(function(s){if(s.sub){s.sub.once=true}});return r},parseType:function(r,s){return f(r,s||this._yuievt.config.prefix)},on:function(v,A,t){var D=f(v,this._yuievt.config.prefix),F,G,s,J,C,B,H,x=b.Env.evt.handles,u,r,y,I=b.Node,E,z,w;this._monitor("attach",D[1],{args:arguments,category:D[0],after:D[2]});if(j.isObject(v)){if(j.isFunction(v)){return b.Do.before.apply(b.Do,arguments)}F=A;G=t;s=k(arguments,0,true);J=[];if(j.isArray(v)){w=true}u=v._after;delete v._after;b.each(v,function(M,L){if(j.isObject(M)){F=M.fn||((j.isFunction(M))?M:F);G=M.context||G}var K=(u)?l:"";s[0]=K+((w)?M:L);s[1]=F;s[2]=G;J.push(this.on.apply(this,s))},this);return(this._yuievt.chain)?this:new b.EventHandle(J)}B=D[0];u=D[2];y=D[3];if(I&&b.instanceOf(this,I)&&(y in I.DOM_EVENTS)){s=k(arguments,0,true);s.splice(2,0,I.getDOMNode(this));return b.on.apply(b,s)}v=D[1];if(b.instanceOf(this,YUI)){r=b.Env.evt.plugins[v];s=k(arguments,0,true);s[0]=y;if(I){E=s[2];if(b.instanceOf(E,b.NodeList)){E=b.NodeList.getDOMNodes(E)}else{if(b.instanceOf(E,I)){E=I.getDOMNode(E)}}z=(y in I.DOM_EVENTS);if(z){s[2]=E}}if(r){H=r.on.apply(b,s)}else{if((!v)||z){H=b.Event._attach(s)}}}if(!H){C=this._yuievt.events[v]||this.publish(v);H=C._on(A,t,(arguments.length>3)?k(arguments,3,true):null,(u)?"after":true)}if(B){x[B]=x[B]||{};x[B][v]=x[B][v]||[];x[B][v].push(H)}return(this._yuievt.chain)?this:H},subscribe:function(){return this.on.apply(this,arguments)},detach:function(A,C,r){var G=this._yuievt.events,v,x=b.Node,E=x&&(b.instanceOf(this,x));if(!A&&(this!==b)){for(v in G){if(G.hasOwnProperty(v)){G[v].detach(C,r)}}if(E){b.Event.purgeElement(x.getDOMNode(this))}return this}var u=f(A,this._yuievt.config.prefix),z=j.isArray(u)?u[0]:null,H=(u)?u[3]:null,w,D=b.Env.evt.handles,F,B,y,t,s=function(M,K,L){var J=M[K],N,I;if(J){for(I=J.length-1;I>=0;--I){N=J[I].evt;if(N.host===L||N.el===L){J[I].detach()}}}};if(z){B=D[z];A=u[1];F=(E)?b.Node.getDOMNode(this):this;if(B){if(A){s(B,A,F)}else{for(v in B){if(B.hasOwnProperty(v)){s(B,v,F)}}}return this}}else{if(j.isObject(A)&&A.detach){A.detach();return this}else{if(E&&((!H)||(H in x.DOM_EVENTS))){y=k(arguments,0,true);y[2]=x.getDOMNode(this);b.detach.apply(b,y);return this}}}w=b.Env.evt.plugins[H];if(b.instanceOf(this,YUI)){y=k(arguments,0,true);if(w&&w.detach){w.detach.apply(b,y);return this}else{if(!A||(!w&&x&&(A in x.DOM_EVENTS))){y[0]=A;b.Event.detach.apply(b.Event,y);return this}}}t=G[u[1]];if(t){t.detach(C,r)}return this},unsubscribe:function(){return this.detach.apply(this,arguments)},detachAll:function(r){return this.detach(r)},unsubscribeAll:function(){return this.detachAll.apply(this,arguments)},publish:function(t,u){var s,y,r,x,w=this._yuievt,v=w.config.prefix;t=(v)?o(t,v):t;this._monitor("publish",t,{args:arguments});if(j.isObject(t)){r={};b.each(t,function(A,z){r[z]=this.publish(z,A||u)},this);return r}s=w.events;y=s[t];if(y){if(u){y.applyConfig(u,true)}}else{x=w.defaults;y=new b.CustomEvent(t,(u)?b.merge(x,u):x);s[t]=y}return s[t]},_monitor:function(u,r,v){var s,t=this.getEvent(r);if((this._yuievt.config.monitored&&(!t||t.monitored))||(t&&t.monitored)){s=r+"_"+u;v.monitored=u;this.fire.call(this,s,v)}},fire:function(v){var z=j.isString(v),u=(z)?v:(v&&v.type),y,s,x=this._yuievt.config.prefix,w,r=(z)?k(arguments,1,true):arguments;u=(x)?o(u,x):u;this._monitor("fire",u,{args:r});y=this.getEvent(u,true);w=this.getSibling(u,y);if(w&&!y){y=this.publish(u)}if(!y){if(this._yuievt.hasTargets){return this.bubble({type:u},r,this)}s=true}else{y.sibling=w;s=y.fire.apply(y,r)}return(this._yuievt.chain)?this:s},getSibling:function(r,t){var s;if(r.indexOf(h)>-1){r=c(r);s=this.getEvent(r,true);if(s){s.applyConfig(t);s.bubbles=false;s.broadcast=0}}return s},getEvent:function(s,r){var u,t;if(!r){u=this._yuievt.config.prefix;s=(u)?o(s,u):s}t=this._yuievt.events;return t[s]||null},after:function(t,s){var r=k(arguments,0,true);switch(j.type(t)){case"function":return b.Do.after.apply(b.Do,arguments);case"array":case"object":r[0]._after=true;break;default:r[0]=l+t}return this.on.apply(this,r)},before:function(){return this.on.apply(this,arguments)}};b.EventTarget=d;b.mix(b,d.prototype,false,false,{bubbles:false});d.call(b);YUI.Env.globalEvents=YUI.Env.globalEvents||new d();b.Global=YUI.Env.globalEvents},"3.3.0",{requires:["oop"]});var GLOBAL_ENV=YUI.Env;if(!GLOBAL_ENV._ready){GLOBAL_ENV._ready=function(){GLOBAL_ENV.DOMReady=true;GLOBAL_ENV.remove(YUI.config.doc,"DOMContentLoaded",GLOBAL_ENV._ready)};GLOBAL_ENV.add(YUI.config.doc,"DOMContentLoaded",GLOBAL_ENV._ready)}YUI.add("event-base",function(e){e.publish("domready",{fireOnce:true,async:true});if(GLOBAL_ENV.DOMReady){e.fire("domready")}else{e.Do.before(function(){e.fire("domready")},YUI.Env,"_ready")}var b=e.UA,d={},a={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9,63272:46,63273:36,63275:35},c=function(h){if(!h){return h}try{if(h&&3==h.nodeType){h=h.parentNode}}catch(g){return null}return e.one(h)},f=function(g,h,i){this._event=g;this._currentTarget=h;this._wrapper=i||d;this.init()};e.extend(f,Object,{init:function(){var i=this._event,j=this._wrapper.overrides,g=i.pageX,l=i.pageY,k,h=this._currentTarget;this.altKey=i.altKey;this.ctrlKey=i.ctrlKey;this.metaKey=i.metaKey;this.shiftKey=i.shiftKey;this.type=(j&&j.type)||i.type;this.clientX=i.clientX;this.clientY=i.clientY;this.pageX=g;this.pageY=l;k=i.keyCode||i.charCode;if(b.webkit&&(k in a)){k=a[k]}this.keyCode=k;this.charCode=k;this.which=i.which||i.charCode||k;this.button=this.which;this.target=c(i.target);this.currentTarget=c(h);this.relatedTarget=c(i.relatedTarget);if(i.type=="mousewheel"||i.type=="DOMMouseScroll"){this.wheelDelta=(i.detail)?(i.detail*-1):Math.round(i.wheelDelta/80)||((i.wheelDelta<0)?-1:1)}if(this._touch){this._touch(i,h,this._wrapper)}},stopPropagation:function(){this._event.stopPropagation();this._wrapper.stopped=1;this.stopped=1},stopImmediatePropagation:function(){var g=this._event;if(g.stopImmediatePropagation){g.stopImmediatePropagation()}else{this.stopPropagation()}this._wrapper.stopped=2;this.stopped=2},preventDefault:function(g){var h=this._event;h.preventDefault();h.returnValue=g||false;this._wrapper.prevented=1;this.prevented=1},halt:function(g){if(g){this.stopImmediatePropagation()}else{this.stopPropagation()}this.preventDefault()}});f.resolve=c;e.DOM2EventFacade=f;e.DOMEventFacade=f;(function(){e.Env.evt.dom_wrappers={};e.Env.evt.dom_map={};var o=e.Env.evt,h=e.config,l=h.win,q=YUI.Env.add,j=YUI.Env.remove,n=function(){YUI.Env.windowLoaded=true;e.Event._load();j(l,"load",n)},g=function(){e.Event._unload()},i="domready",k="~yui|2|compat~",m=function(s){try{return(s&&typeof s!=="string"&&e.Lang.isNumber(s.length)&&!s.tagName&&!s.alert)}catch(r){return false}},p=function(){var t=false,u=0,s=[],v=o.dom_wrappers,r=null,w=o.dom_map;return{POLL_RETRYS:1000,POLL_INTERVAL:40,lastError:null,_interval:null,_dri:null,DOMReady:false,startInterval:function(){if(!p._interval){p._interval=setInterval(p._poll,p.POLL_INTERVAL)}},onAvailable:function(x,B,F,y,C,E){var D=e.Array(x),z,A;for(z=0;z<D.length;z=z+1){s.push({id:D[z],fn:B,obj:F,override:y,checkReady:C,compat:E})}u=this.POLL_RETRYS;setTimeout(p._poll,0);A=new e.EventHandle({_delete:function(){if(A.handle){A.handle.detach();return}var H,G;for(H=0;H<D.length;H++){for(G=0;G<s.length;G++){if(D[H]===s[G].id){s.splice(G,1)}}}}});return A},onContentReady:function(B,z,A,y,x){return p.onAvailable(B,z,A,y,true,x)},attach:function(A,z,y,x){return p._attach(e.Array(arguments,0,true))},_createWrapper:function(D,C,x,y,B){var A,E=e.stamp(D),z="event:"+E+C;if(false===B){z+="native"}if(x){z+="capture"}A=v[z];if(!A){A=e.publish(z,{silent:true,bubbles:false,contextFn:function(){if(y){return A.el}else{A.nodeRef=A.nodeRef||e.one(A.el);return A.nodeRef}}});A.overrides={};A.el=D;A.key=z;A.domkey=E;A.type=C;A.fn=function(F){A.fire(p.getEvent(F,D,(y||(false===B))))};A.capture=x;if(D==l&&C=="load"){A.fireOnce=true;r=z}v[z]=A;w[E]=w[E]||{};w[E][z]=A;q(D,C,A.fn,x)}return A},_attach:function(D,C){var I,K,A,H,x,z=false,B,E=D[0],F=D[1],y=D[2]||l,L=C&&C.facade,J=C&&C.capture,G=C&&C.overrides;if(D[D.length-1]===k){I=true}if(!F||!F.call){return false}if(m(y)){K=[];e.each(y,function(N,M){D[2]=N;K.push(p._attach(D,C))});return new e.EventHandle(K)}else{if(e.Lang.isString(y)){if(I){A=e.DOM.byId(y)}else{A=e.Selector.query(y);switch(A.length){case 0:A=null;break;case 1:A=A[0];break;default:D[2]=A;return p._attach(D,C)}}if(A){y=A}else{B=p.onAvailable(y,function(){B.handle=p._attach(D,C)},p,true,false,I);return B}}}if(!y){return false}if(e.Node&&e.instanceOf(y,e.Node)){y=e.Node.getDOMNode(y)}H=p._createWrapper(y,E,J,I,L);if(G){e.mix(H.overrides,G)}if(y==l&&E=="load"){if(YUI.Env.windowLoaded){z=true}}if(I){D.pop()}x=D[3];B=H._on(F,x,(D.length>4)?D.slice(4):null);if(z){H.fire()}return B},detach:function(E,F,z,C){var D=e.Array(arguments,0,true),H,A,G,B,x,y;if(D[D.length-1]===k){H=true}if(E&&E.detach){return E.detach()}if(typeof z=="string"){if(H){z=e.DOM.byId(z)}else{z=e.Selector.query(z);A=z.length;if(A<1){z=null}else{if(A==1){z=z[0]}}}}if(!z){return false}if(z.detach){D.splice(2,1);return z.detach.apply(z,D)}else{if(m(z)){G=true;for(B=0,A=z.length;B<A;++B){D[2]=z[B];G=(e.Event.detach.apply(e.Event,D)&&G)}return G}}if(!E||!F||!F.call){return p.purgeElement(z,false,E)}x="event:"+e.stamp(z)+E;y=v[x];if(y){return y.detach(F)}else{return false}},getEvent:function(A,y,x){var z=A||l.event;return(x)?z:new e.DOMEventFacade(z,y,v["event:"+e.stamp(y)+A.type])},generateId:function(x){return e.DOM.generateID(x)},_isValidCollection:m,_load:function(x){if(!t){t=true;if(e.fire){e.fire(i)}p._poll()}},_poll:function(){if(p.locked){return}if(e.UA.ie&&!YUI.Env.DOMReady){p.startInterval();return}p.locked=true;var y,x,C,z,B,D,A=!t;if(!A){A=(u>0)}B=[];D=function(G,H){var F,E=H.override;if(H.compat){if(H.override){if(E===true){F=H.obj}else{F=E}}else{F=G}H.fn.call(F,H.obj)}else{F=H.obj||e.one(G);H.fn.apply(F,(e.Lang.isArray(E))?E:[])}};for(y=0,x=s.length;y<x;++y){C=s[y];if(C&&!C.checkReady){z=(C.compat)?e.DOM.byId(C.id):e.Selector.query(C.id,null,true);if(z){D(z,C);s[y]=null}else{B.push(C)}}}for(y=0,x=s.length;y<x;++y){C=s[y];if(C&&C.checkReady){z=(C.compat)?e.DOM.byId(C.id):e.Selector.query(C.id,null,true);if(z){if(t||(z.get&&z.get("nextSibling"))||z.nextSibling){D(z,C);s[y]=null}}else{B.push(C)}}}u=(B.length===0)?0:u-1;if(A){p.startInterval()}else{clearInterval(p._interval);p._interval=null}p.locked=false;return},purgeElement:function(A,x,E){var C=(e.Lang.isString(A))?e.Selector.query(A,null,true):A,G=p.getListeners(C,E),B,D,F,z,y;if(x&&C){G=G||[];z=e.Selector.query("*",C);B=0;D=z.length;for(;B<D;++B){y=p.getListeners(z[B],E);if(y){G=G.concat(y)}}}if(G){B=0;D=G.length;for(;B<D;++B){F=G[B];F.detachAll();j(F.el,F.type,F.fn,F.capture);delete v[F.key];delete w[F.domkey][F.key]}}},getListeners:function(B,A){var C=e.stamp(B,true),x=w[C],z=[],y=(A)?"event:"+C+A:null,D=o.plugins;if(!x){return null}if(y){if(D[A]&&D[A].eventDef){y+="_synth"}if(x[y]){z.push(x[y])}y+="native";if(x[y]){z.push(x[y])}}else{e.each(x,function(F,E){z.push(F)})}return(z.length)?z:null},_unload:function(x){e.each(v,function(z,y){z.detachAll();j(z.el,z.type,z.fn,z.capture);delete v[y];delete w[z.domkey][y]});j(l,"unload",g)},nativeAdd:q,nativeRemove:j}}();e.Event=p;if(h.injected||YUI.Env.windowLoaded){n()}else{q(l,"load",n)}if(e.UA.ie){e.on(i,p._poll)}q(l,"unload",g);p.Custom=e.CustomEvent;p.Subscriber=e.Subscriber;p.Target=e.EventTarget;p.Handle=e.EventHandle;p.Facade=e.EventFacade;p._poll()})();e.Env.evt.plugins.available={on:function(i,h,k,j){var g=arguments.length>4?e.Array(arguments,4,true):null;return e.Event.onAvailable.call(e.Event,k,h,j,g)}};e.Env.evt.plugins.contentready={on:function(i,h,k,j){var g=arguments.length>4?e.Array(arguments,4,true):null;return e.Event.onContentReady.call(e.Event,k,h,j,g)}}},"3.3.0",{requires:["event-custom-base"]});YUI.add("dom-base",function(d){(function(h){var o="nodeType",u="ownerDocument",v="documentElement",g="defaultView",m="parentWindow",s="tagName",k="parentNode",e="firstChild",t="previousSibling",w="nextSibling",l="contains",r="compareDocumentPosition",f="",i=[],y=h.config.doc.documentElement,n=/<([a-z]+)/i,j=function(B,z){var C=h.config.doc.createElement("div"),A=true;C.innerHTML=B;if(!C.firstChild||C.firstChild.tagName!==z.toUpperCase()){A=false}return A},p=h.Features.add,q=h.Features.test,x={byId:function(A,z){return x.allById(A,z)[0]||null},getText:(y.textContent!==undefined)?function(A){var z="";if(A){z=A.textContent}return z||""}:function(A){var z="";if(A){z=A.innerText||A.nodeValue}return z||""},setText:(y.textContent!==undefined)?function(z,A){if(z){z.textContent=A}}:function(z,A){if("innerText" in z){z.innerText=A}else{if("nodeValue" in z){z.nodeValue=A}}},ancestor:function(A,B,C){var z=null;if(C){z=(!B||B(A))?A:null}return z||x.elementByAxis(A,k,B,null)},ancestors:function(B,C,D){var A=x.ancestor.apply(x,arguments),z=(A)?[A]:[];while((A=x.ancestor(A,C))){if(A){z.unshift(A)}}return z},elementByAxis:function(z,C,B,A){while(z&&(z=z[C])){if((A||z[s])&&(!B||B(z))){return z}}return null},contains:function(A,B){var z=false;if(!B||!A||!B[o]||!A[o]){z=false}else{if(A[l]){if(h.UA.opera||B[o]===1){z=A[l](B)}else{z=x._bruteContains(A,B)}}else{if(A[r]){if(A===B||!!(A[r](B)&16)){z=true}}}}return z},inDoc:function(B,C){var A=false,z;if(B&&B.nodeType){(C)||(C=B[u]);z=C[v];if(z&&z.contains&&B.tagName){A=z.contains(B)}else{A=x.contains(z,B)}}return A},allById:function(E,z){z=z||h.config.doc;var A=[],B=[],C,D;if(z.querySelectorAll){B=z.querySelectorAll('[id="'+E+'"]')}else{if(z.all){A=z.all(E);if(A){if(A.nodeName){if(A.id===E){B.push(A);A=i}else{A=[A]}}if(A.length){for(C=0;D=A[C++];){if(D.id===E||(D.attributes&&D.attributes.id&&D.attributes.id.value===E)){B.push(D)}}}}}else{B=[x._getDoc(z).getElementById(E)]}}return B},create:function(D,G){if(typeof D==="string"){D=h.Lang.trim(D)}G=G||h.config.doc;var C=n.exec(D),E=x._create,A=x.creators,F=null,B,H,z;if(D!=undefined){if(C&&C[1]){B=A[C[1].toLowerCase()];if(typeof B==="function"){E=B}else{H=B}}z=E(D,G,H).childNodes;if(z.length===1){F=z[0].parentNode.removeChild(z[0])}else{if(z[0]&&z[0].className==="yui3-big-dummy"){if(z.length===2){F=z[0].nextSibling}else{z[0].parentNode.removeChild(z[0]);F=x._nl2frag(z,G)}}else{F=x._nl2frag(z,G)}}}return F},_nl2frag:function(A,D){var B=null,C,z;if(A&&(A.push||A.item)&&A[0]){D=D||A[0].ownerDocument;B=D.createDocumentFragment();if(A.item){A=h.Array(A,0,true)}for(C=0,z=A.length;C<z;C++){B.appendChild(A[C])}}return B},CUSTOM_ATTRIBUTES:(!y.hasAttribute)?{"for":"htmlFor","class":"className"}:{htmlFor:"for",className:"class"},setAttribute:function(B,z,C,A){if(B&&z&&B.setAttribute){z=x.CUSTOM_ATTRIBUTES[z]||z;B.setAttribute(z,C,A)}},getAttribute:function(C,z,B){B=(B!==undefined)?B:2;var A="";if(C&&z&&C.getAttribute){z=x.CUSTOM_ATTRIBUTES[z]||z;A=C.getAttribute(z,B);if(A===null){A=""}}return A},isWindow:function(z){return !!(z&&z.alert&&z.document)},_fragClones:{},_create:function(A,B,z){z=z||"div";var C=x._fragClones[z];if(C){C=C.cloneNode(false)}else{C=x._fragClones[z]=B.createElement(z)}C.innerHTML=A;return C},_removeChildNodes:function(z){while(z.firstChild){z.removeChild(z.firstChild)}},addHTML:function(G,F,B){var z=G.parentNode,D=0,E,A=F,C;if(F!=undefined){if(F.nodeType){C=F}else{if(typeof F=="string"||typeof F=="number"){A=C=x.create(F)}else{if(F[0]&&F[0].nodeType){C=h.config.doc.createDocumentFragment();while((E=F[D++])){C.appendChild(E)}}}}}if(B){if(B.nodeType){B.parentNode.insertBefore(C,B)}else{switch(B){case"replace":while(G.firstChild){G.removeChild(G.firstChild)}if(C){G.appendChild(C)}break;case"before":z.insertBefore(C,G);break;case"after":if(G.nextSibling){z.insertBefore(C,G.nextSibling)}else{z.appendChild(C)}break;default:G.appendChild(C)}}}else{if(C){G.appendChild(C)}}return A},VALUE_SETTERS:{},VALUE_GETTERS:{},getValue:function(B){var A="",z;if(B&&B[s]){z=x.VALUE_GETTERS[B[s].toLowerCase()];if(z){A=z(B)}else{A=B.value}}if(A===f){A=f}return(typeof A==="string")?A:""},setValue:function(z,A){var B;if(z&&z[s]){B=x.VALUE_SETTERS[z[s].toLowerCase()];if(B){B(z,A)}else{z.value=A}}},siblings:function(C,B){var z=[],A=C;while((A=A[t])){if(A[s]&&(!B||B(A))){z.unshift(A)}}A=C;while((A=A[w])){if(A[s]&&(!B||B(A))){z.push(A)}}return z},_bruteContains:function(z,A){while(A){if(z===A){return true}A=A.parentNode}return false},_getRegExp:function(A,z){z=z||"";x._regexCache=x._regexCache||{};if(!x._regexCache[A+z]){x._regexCache[A+z]=new RegExp(A,z)}return x._regexCache[A+z]},_getDoc:function(z){var A=h.config.doc;if(z){A=(z[o]===9)?z:z[u]||z.document||h.config.doc}return A},_getWin:function(z){var A=x._getDoc(z);return A[g]||A[m]||h.config.win},_batch:function(z,I,F,E,D,B){I=(typeof I==="string")?x[I]:I;var J,H=Array.prototype.slice.call(arguments,2),C=0,A,G;if(I&&z){while((A=z[C++])){J=J=I.call(x,A,F,E,D,B);if(typeof J!=="undefined"){(G)||(G=[]);G.push(J)}}}return(typeof G!=="undefined")?G:z},wrap:function(C,A){var B=h.DOM.create(A),z=B.getElementsByTagName("*");if(z.length){B=z[z.length-1]}if(C.parentNode){C.parentNode.replaceChild(B,C)}B.appendChild(C)},unwrap:function(C){var A=C.parentNode,B=A.lastChild,C=A.firstChild,z=C,D;if(A){D=A.parentNode;if(D){while(C!==B){z=C.nextSibling;D.insertBefore(C,A);C=z}D.replaceChild(B,A)}else{A.removeChild(C)}}},generateID:function(z){var A=z.id;if(!A){A=h.stamp(z);z.id=A}return A},creators:{}};p("innerhtml","table",{test:function(){var z=h.config.doc.createElement("table");try{z.innerHTML="<tbody></tbody>"}catch(A){return false}return(z.firstChild&&z.firstChild.nodeName==="TBODY")}});p("innerhtml-div","tr",{test:function(){return j("<tr></tr>","tr")}});p("innerhtml-div","script",{test:function(){return j("<script><\/script>","script")}});p("value-set","select",{test:function(){var z=h.config.doc.createElement("select");z.innerHTML="<option>1</option><option>2</option>";z.value="2";return(z.value&&z.value==="2")}});(function(D){var E=x.creators,z=x.create,C=/(?:\/(?:thead|tfoot|tbody|caption|col|colgroup)>)+\s*<tbody/,B="<table>",A="</table>";if(!q("innerhtml","table")){E.tbody=function(G,H){var I=z(B+G+A,H),F=I.children.tags("tbody")[0];if(I.children.length>1&&F&&!C.test(G)){F[k].removeChild(F)}return I}}if(!q("innerhtml-div","script")){E.script=function(F,G){var H=G.createElement("div");H.innerHTML="-"+F;H.removeChild(H[e]);return H};x.creators.link=x.creators.style=x.creators.script}if(!q("value-set","select")){x.VALUE_SETTERS.select=function(I,J){for(var G=0,F=I.getElementsByTagName("option"),H;H=F[G++];){if(x.getValue(H)===J){H.selected=true;break}}}}D.mix(x.VALUE_GETTERS,{button:function(F){return(F.attributes&&F.attributes.value)?F.attributes.value.value:""}});D.mix(x.VALUE_SETTERS,{button:function(G,H){var F=G.attributes.value;if(!F){F=G[u].createAttribute("value");G.setAttributeNode(F)}F.value=H}});if(!q("innerhtml-div","tr")){D.mix(E,{option:function(F,G){return z('<select><option class="yui3-big-dummy" selected></option>'+F+"</select>",G)},tr:function(F,G){return z("<tbody>"+F+"</tbody>",G)},td:function(F,G){return z("<tr>"+F+"</tr>",G)},col:function(F,G){return z("<colgroup>"+F+"</colgroup>",G)},tbody:"table"});D.mix(E,{legend:"fieldset",th:E.td,thead:E.tbody,tfoot:E.tbody,caption:E.tbody,colgroup:E.tbody,optgroup:E.option})}D.mix(x.VALUE_GETTERS,{option:function(G){var F=G.attributes;return(F.value&&F.value.specified)?G.value:G.text},select:function(G){var H=G.value,F=G.options;if(F&&F.length){if(G.multiple){}else{H=x.getValue(F[G.selectedIndex])}}return H}})})(h);h.DOM=x})(d);var b,a,c;d.mix(d.DOM,{hasClass:function(g,f){var e=d.DOM._getRegExp("(?:^|\\s+)"+f+"(?:\\s+|$)");return e.test(g.className)},addClass:function(f,e){if(!d.DOM.hasClass(f,e)){f.className=d.Lang.trim([f.className,e].join(" "))}},removeClass:function(f,e){if(e&&a(f,e)){f.className=d.Lang.trim(f.className.replace(d.DOM._getRegExp("(?:^|\\s+)"+e+"(?:\\s+|$)")," "));if(a(f,e)){c(f,e)}}},replaceClass:function(f,e,g){c(f,e);b(f,g)},toggleClass:function(f,e,g){var h=(g!==undefined)?g:!(a(f,e));if(h){b(f,e)}else{c(f,e)}}});a=d.DOM.hasClass;c=d.DOM.removeClass;b=d.DOM.addClass;d.mix(d.DOM,{setWidth:function(f,e){d.DOM._setSize(f,"width",e)},setHeight:function(f,e){d.DOM._setSize(f,"height",e)},_setSize:function(f,h,g){g=(g>0)?g:0;var e=0;f.style[h]=g+"px";e=(h==="height")?f.offsetHeight:f.offsetWidth;if(e>g){g=g-(e-g);if(g<0){g=0}f.style[h]=g+"px"}}})},"3.3.0",{requires:["oop"]});YUI.add("dom-style",function(a){(function(e){var p="documentElement",b="defaultView",n="ownerDocument",h="style",i="float",r="cssFloat",s="styleFloat",k="transparent",d="getComputedStyle",c="getBoundingClientRect",o=e.config.win,g=e.config.doc,t=undefined,q=e.DOM,f="transform",l=["WebkitTransform","MozTransform","OTransform"],m=/color$/i,j=/width|height|top|left|right|bottom|margin|padding/i;e.Array.each(l,function(u){if(u in g[p].style){f=u}});e.mix(q,{DEFAULT_UNIT:"px",CUSTOM_STYLES:{},setStyle:function(x,u,y,w){w=w||x.style;var v=q.CUSTOM_STYLES;if(w){if(y===null||y===""){y=""}else{if(!isNaN(new Number(y))&&j.test(u)){y+=q.DEFAULT_UNIT}}if(u in v){if(v[u].set){v[u].set(x,y,w);return}else{if(typeof v[u]==="string"){u=v[u]}}}else{if(u===""){u="cssText";y=""}}w[u]=y}},getStyle:function(x,u,w){w=w||x.style;var v=q.CUSTOM_STYLES,y="";if(w){if(u in v){if(v[u].get){return v[u].get(x,u,w)}else{if(typeof v[u]==="string"){u=v[u]}}}y=w[u];if(y===""){y=q[d](x,u)}}return y},setStyles:function(v,w){var u=v.style;e.each(w,function(x,y){q.setStyle(v,y,x,u)},q)},getComputedStyle:function(v,u){var x="",w=v[n];if(v[h]&&w[b]&&w[b][d]){x=w[b][d](v,null)[u]}return x}});if(g[p][h][r]!==t){q.CUSTOM_STYLES[i]=r}else{if(g[p][h][s]!==t){q.CUSTOM_STYLES[i]=s}}if(e.UA.opera){q[d]=function(w,v){var u=w[n][b],x=u[d](w,"")[v];if(m.test(v)){x=e.Color.toRGB(x)}return x}}if(e.UA.webkit){q[d]=function(w,v){var u=w[n][b],x=u[d](w,"")[v];if(x==="rgba(0, 0, 0, 0)"){x=k}return x}}e.DOM._getAttrOffset=function(y,v){var A=e.DOM[d](y,v),x=y.offsetParent,u,w,z;if(A==="auto"){u=e.DOM.getStyle(y,"position");if(u==="static"||u==="relative"){A=0}else{if(x&&x[c]){w=x[c]()[v];z=y[c]()[v];if(v==="left"||v==="top"){A=z-w}else{A=w-y[c]()[v]}}}}return A};e.DOM._getOffset=function(u){var w,v=null;if(u){w=q.getStyle(u,"position");v=[parseInt(q[d](u,"left"),10),parseInt(q[d](u,"top"),10)];if(isNaN(v[0])){v[0]=parseInt(q.getStyle(u,"left"),10);if(isNaN(v[0])){v[0]=(w==="relative")?0:u.offsetLeft||0}}if(isNaN(v[1])){v[1]=parseInt(q.getStyle(u,"top"),10);if(isNaN(v[1])){v[1]=(w==="relative")?0:u.offsetTop||0}}}return v};q.CUSTOM_STYLES.transform={set:function(v,w,u){u[f]=w},get:function(v,u){return q[d](v,f)}}})(a);(function(d){var b=parseInt,c=RegExp;d.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(e){if(!d.Color.re_RGB.test(e)){e=d.Color.toHex(e)}if(d.Color.re_hex.exec(e)){e="rgb("+[b(c.$1,16),b(c.$2,16),b(c.$3,16)].join(", ")+")"}return e},toHex:function(f){f=d.Color.KEYWORDS[f]||f;if(d.Color.re_RGB.exec(f)){f=[Number(c.$1).toString(16),Number(c.$2).toString(16),Number(c.$3).toString(16)];for(var e=0;e<f.length;e++){if(f[e].length<2){f[e]="0"+f[e]}}f=f.join("")}if(f.length<6){f=f.replace(d.Color.re_hex3,"$1$1")}if(f!=="transparent"&&f.indexOf("#")<0){f="#"+f}return f.toUpperCase()}}})(a)},"3.3.0",{requires:["dom-base"]});YUI.add("selector-native",function(a){(function(e){e.namespace("Selector");var c="compareDocumentPosition",d="ownerDocument";var b={_foundCache:[],useNative:true,_compare:("sourceIndex" in e.config.doc.documentElement)?function(i,h){var g=i.sourceIndex,f=h.sourceIndex;if(g===f){return 0}else{if(g>f){return 1}}return -1}:(e.config.doc.documentElement[c]?function(g,f){if(g[c](f)&4){return -1}else{return 1}}:function(j,i){var h,f,g;if(j&&i){h=j[d].createRange();h.setStart(j,0);f=i[d].createRange();f.setStart(i,0);g=h.compareBoundaryPoints(1,f)}return g}),_sort:function(f){if(f){f=e.Array(f,0,true);if(f.sort){f.sort(b._compare)}}return f},_deDupe:function(f){var g=[],h,j;for(h=0;(j=f[h++]);){if(!j._found){g[g.length]=j;j._found=true}}for(h=0;(j=g[h++]);){j._found=null;j.removeAttribute("_found")}return g},query:function(g,o,p,f){o=o||e.config.doc;var l=[],h=(e.Selector.useNative&&e.config.doc.querySelector&&!f),k=[[g,o]],m,q,j,n=(h)?e.Selector._nativeQuery:e.Selector._bruteQuery;if(g&&n){if(!f&&(!h||o.tagName)){k=b._splitQueries(g,o)}for(j=0;(m=k[j++]);){q=n(m[0],m[1],p);if(!p){q=e.Array(q,0,true)}if(q){l=l.concat(q)}}if(k.length>1){l=b._sort(b._deDupe(l))}}return(p)?(l[0]||null):l},_splitQueries:function(h,l){var g=h.split(","),j=[],m="",k,f;if(l){if(l.tagName){l.id=l.id||e.guid();m='[id="'+l.id+'"] '}for(k=0,f=g.length;k<f;++k){h=m+g[k];j.push([h,l])}}return j},_nativeQuery:function(f,g,h){if(e.UA.webkit&&f.indexOf(":checked")>-1&&(e.Selector.pseudos&&e.Selector.pseudos.checked)){return e.Selector.query(f,g,h,true)}try{return g["querySelector"+(h?"":"All")](f)}catch(i){return e.Selector.query(f,g,h,true)}},filter:function(g,f){var h=[],j,k;if(g&&f){for(j=0;(k=g[j++]);){if(e.Selector.test(k,f)){h[h.length]=k}}}else{}return h},test:function(h,k,p){var n=false,g=k.split(","),f=false,q,t,o,s,m,l,r;if(h&&h.tagName){if(!p&&!e.DOM.inDoc(h)){q=h.parentNode;if(q){p=q}else{s=h[d].createDocumentFragment();s.appendChild(h);p=s;f=true}}p=p||h[d];if(!h.id){h.id=e.guid()}for(m=0;(r=g[m++]);){r+='[id="'+h.id+'"]';o=e.Selector.query(r,p);for(l=0;t=o[l++];){if(t===h){n=true;break}}if(n){break}}if(f){s.removeChild(h)}}return n},ancestor:function(g,f,h){return e.DOM.ancestor(g,function(i){return e.Selector.test(i,f)},h)}};e.mix(e.Selector,b,true)})(a)},"3.3.0",{requires:["dom-base"]});YUI.add("selector-css2",function(g){var h="parentNode",d="tagName",e="attributes",a="combinator",f="pseudos",c=g.Selector,b={_reRegExpTokens:/([\^\$\?\[\]\*\+\-\.\(\)\|\\])/,SORT_RESULTS:true,_children:function(n,j){var k=n.children,m,l=[],o,p;if(n.children&&j&&n.children.tags){l=n.children.tags(j)}else{if((!k&&n[d])||(k&&j)){o=k||n.childNodes;k=[];for(m=0;(p=o[m++]);){if(p.tagName){if(!j||j===p.tagName){k.push(p)}}}}}return k||[]},_re:{attr:/(\[[^\]]*\])/g,pseudos:/:([\-\w]+(?:\(?:['"]?(.+)['"]?\)))*/i},shorthand:{"\\#(-?[_a-z]+[-\\w]*)":"[id=$1]","\\.(-?[_a-z]+[-\\w]*)":"[className~=$1]"},operators:{"":function(j,i){return g.DOM.getAttribute(j,i)!==""},"~=":"(?:^|\\s+){val}(?:\\s+|$)","|=":"^{val}-?"},pseudos:{"first-child":function(i){return g.Selector._children(i[h])[0]===i}},_bruteQuery:function(n,r,t){var o=[],i=[],q=c._tokenize(n),m=q[q.length-1],s=g.DOM._getDoc(r),k,j,p,l;if(m){j=m.id;p=m.className;l=m.tagName||"*";if(r.getElementsByTagName){if(j&&(r.all||(r.nodeType===9||g.DOM.inDoc(r)))){i=g.DOM.allById(j,r)}else{if(p){i=r.getElementsByClassName(p)}else{i=r.getElementsByTagName(l)}}}else{k=r.firstChild;while(k){if(k.tagName){i.push(k)}k=k.nextSilbing||k.firstChild}}if(i.length){o=c._filterNodes(i,q,t)}}return o},_filterNodes:function(u,q,s){var z=0,y,A=q.length,t=A-1,p=[],w=u[0],D=w,B=g.Selector.getters,o,x,m,r,k,v,l,C;for(z=0;(D=w=u[z++]);){t=A-1;r=null;testLoop:while(D&&D.tagName){m=q[t];l=m.tests;y=l.length;if(y&&!k){while((C=l[--y])){o=C[1];if(B[C[0]]){v=B[C[0]](D,C[0])}else{v=D[C[0]];if(v===undefined&&D.getAttribute){v=D.getAttribute(C[0])}}if((o==="="&&v!==C[2])||(typeof o!=="string"&&o.test&&!o.test(v))||(!o.test&&typeof o==="function"&&!o(D,C[0]))){if((D=D[r])){while(D&&(!D.tagName||(m.tagName&&m.tagName!==D.tagName))){D=D[r]}}continue testLoop}}}t--;if(!k&&(x=m.combinator)){r=x.axis;D=D[r];while(D&&!D.tagName){D=D[r]}if(x.direct){r=null}}else{p.push(w);if(s){return p}break}}}w=D=null;return p},combinators:{" ":{axis:"parentNode"},">":{axis:"parentNode",direct:true},"+":{axis:"previousSibling",direct:true}},_parsers:[{name:e,re:/^\[(-?[a-z]+[\w\-]*)+([~\|\^\$\*!=]=?)?['"]?([^\]]*?)['"]?\]/i,fn:function(k,l){var j=k[2]||"",i=g.Selector.operators,m;if((k[1]==="id"&&j==="=")||(k[1]==="className"&&g.config.doc.documentElement.getElementsByClassName&&(j==="~="||j==="="))){l.prefilter=k[1];l[k[1]]=k[3]}if(j in i){m=i[j];if(typeof m==="string"){k[3]=k[3].replace(g.Selector._reRegExpTokens,"\\$1");m=g.DOM._getRegExp(m.replace("{val}",k[3]))}k[2]=m}if(!l.last||l.prefilter!==k[1]){return k.slice(1)}}},{name:d,re:/^((?:-?[_a-z]+[\w-]*)|\*)/i,fn:function(j,k){var i=j[1].toUpperCase();k.tagName=i;if(i!=="*"&&(!k.last||k.prefilter)){return[d,"=",i]}if(!k.prefilter){k.prefilter="tagName"}}},{name:a,re:/^\s*([>+~]|\s)\s*/,fn:function(i,j){}},{name:f,re:/^:([\-\w]+)(?:\(['"]?(.+)['"]?\))*/i,fn:function(i,j){var k=c[f][i[1]];if(k){return[i[2],k]}else{return false}}}],_getToken:function(i){return{tagName:null,id:null,className:null,attributes:{},combinator:null,tests:[]}},_tokenize:function(l){l=l||"";l=c._replaceShorthand(g.Lang.trim(l));var k=c._getToken(),q=l,p=[],r=false,n,o,m,j;outer:do{r=false;for(m=0;(j=c._parsers[m++]);){if((n=j.re.exec(l))){if(j.name!==a){k.selector=l}l=l.replace(n[0],"");if(!l.length){k.last=true}if(c._attrFilters[n[1]]){n[1]=c._attrFilters[n[1]]}o=j.fn(n,k);if(o===false){r=false;break outer}else{if(o){k.tests.push(o)}}if(!l.length||j.name===a){p.push(k);k=c._getToken(k);if(j.name===a){k.combinator=g.Selector.combinators[n[1]]}}r=true}}}while(r&&l.length);if(!r||l.length){p=[]}return p},_replaceShorthand:function(k){var l=c.shorthand,m=k.match(c._re.attr),p=k.match(c._re.pseudos),o,n,j;if(p){k=k.replace(c._re.pseudos,"!!REPLACED_PSEUDO!!")}if(m){k=k.replace(c._re.attr,"!!REPLACED_ATTRIBUTE!!")}for(o in l){if(l.hasOwnProperty(o)){k=k.replace(g.DOM._getRegExp(o,"gi"),l[o])}}if(m){for(n=0,j=m.length;n<j;++n){k=k.replace("!!REPLACED_ATTRIBUTE!!",m[n])}}if(p){for(n=0,j=p.length;n<j;++n){k=k.replace("!!REPLACED_PSEUDO!!",p[n])}}return k},_attrFilters:{"class":"className","for":"htmlFor"},getters:{href:function(j,i){return g.DOM.getAttribute(j,i)}}};g.mix(g.Selector,b,true);g.Selector.getters.src=g.Selector.getters.rel=g.Selector.getters.href;if(g.Selector.useNative&&g.config.doc.querySelector){g.Selector.shorthand["\\.(-?[_a-z]+[-\\w]*)"]="[class~=$1]"}},"3.3.0",{requires:["selector-native"]});YUI.add("node-base",function(c){var i=".",e="nodeName",m="nodeType",b="ownerDocument",l="tagName",d="_yuid",o=Array.prototype.slice,f=c.DOM,j=function(q){var p=(q.nodeType!==9)?q.uniqueID:q[d];if(p&&j._instances[p]&&j._instances[p]._node!==q){q[d]=null}p=p||c.stamp(q);if(!p){p=c.guid()}this[d]=p;this._node=q;j._instances[p]=this;this._stateProxy=q;c.EventTarget.call(this,{emitFacade:true});if(this._initPlugins){this._initPlugins()}this.SHOW_TRANSITION=j.SHOW_TRANSITION;this.HIDE_TRANSITION=j.HIDE_TRANSITION},n=function(q){var p=null;if(q){p=(typeof q=="string")?function(r){return c.Selector.test(r,q)}:function(r){return q(c.one(r))}}return p};j.NAME="node";j.re_aria=/^(?:role$|aria-)/;j.SHOW_TRANSITION="fadeIn";j.HIDE_TRANSITION="fadeOut";j.DOM_EVENTS={abort:1,beforeunload:1,blur:1,change:1,click:1,close:1,command:1,contextmenu:1,dblclick:1,DOMMouseScroll:1,drag:1,dragstart:1,dragenter:1,dragover:1,dragleave:1,dragend:1,drop:1,error:1,focus:1,key:1,keydown:1,keypress:1,keyup:1,load:1,message:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mousemultiwheel:1,mouseout:1,mouseover:1,mouseup:1,mousewheel:1,orientationchange:1,reset:1,resize:1,select:1,selectstart:1,submit:1,scroll:1,textInput:1,unload:1};c.mix(j.DOM_EVENTS,c.Env.evt.plugins);j._instances={};j.getDOMNode=function(p){if(p){return(p.nodeType)?p:p._node||null}return null};j.scrubVal=function(q,p){if(q){if(typeof q=="object"||typeof q=="function"){if(m in q||f.isWindow(q)){q=c.one(q)}else{if((q.item&&!q._nodes)||(q[0]&&q[0][m])){q=c.all(q)}}}}else{if(typeof q==="undefined"){q=p}else{if(q===null){q=null}}}return q};j.addMethod=function(p,r,q){if(p&&r&&typeof r=="function"){j.prototype[p]=function(){var t=o.call(arguments),u=this,s;if(t[0]&&c.instanceOf(t[0],j)){t[0]=t[0]._node}if(t[1]&&c.instanceOf(t[1],j)){t[1]=t[1]._node}t.unshift(u._node);s=r.apply(u,t);if(s){s=j.scrubVal(s,u)}(typeof s!="undefined")||(s=u);return s}}else{}};j.importMethod=function(r,p,q){if(typeof p=="string"){q=q||p;j.addMethod(q,r[p],r)}else{c.Array.each(p,function(s){j.importMethod(r,s)})}};j.one=function(s){var p=null,r,q;if(s){if(typeof s=="string"){if(s.indexOf("doc")===0){s=c.config.doc}else{if(s.indexOf("win")===0){s=c.config.win}else{s=c.Selector.query(s,null,true)}}if(!s){return null}}else{if(c.instanceOf(s,j)){return s}}if(s.nodeType||c.DOM.isWindow(s)){q=(s.uniqueID&&s.nodeType!==9)?s.uniqueID:s._yuid;p=j._instances[q];r=p?p._node:null;if(!p||(r&&s!==r)){p=new j(s)}}}return p};j.create=function(p,q){if(q&&q._node){q=q._node}return c.one(f.create(p,q))};j.ATTRS={text:{getter:function(){return f.getText(this._node)},setter:function(p){f.setText(this._node,p);return p}},options:{getter:function(){return this._node.getElementsByTagName("option")}},children:{getter:function(){var s=this._node,r=s.children,t,q,p;if(!r){t=s.childNodes;r=[];for(q=0,p=t.length;q<p;++q){if(t[q][l]){r[r.length]=t[q]}}}return c.all(r)}},value:{getter:function(){return f.getValue(this._node)},setter:function(p){f.setValue(this._node,p);return p}}};j.DEFAULT_SETTER=function(p,r){var q=this._stateProxy,s;if(p.indexOf(i)>-1){s=p;p=p.split(i);c.Object.setValue(q,p,r)}else{if(typeof q[p]!="undefined"){q[p]=r}}return r};j.DEFAULT_GETTER=function(p){var q=this._stateProxy,r;if(p.indexOf&&p.indexOf(i)>-1){r=c.Object.getValue(q,p.split(i))}else{if(typeof q[p]!="undefined"){r=q[p]}}return r};c.mix(j,c.EventTarget,false,null,1);c.mix(j.prototype,{toString:function(){var s=this[d]+": not bound to a node",r=this._node,p,t,q;if(r){p=r.attributes;t=(p&&p.id)?r.getAttribute("id"):null;q=(p&&p.className)?r.getAttribute("className"):null;s=r[e];if(t){s+="#"+t}if(q){s+="."+q.replace(" ",".")}s+=" "+this[d]}return s},get:function(p){var q;if(this._getAttr){q=this._getAttr(p)}else{q=this._get(p)}if(q){q=j.scrubVal(q,this)}else{if(q===null){q=null}}return q},_get:function(p){var q=j.ATTRS[p],r;if(q&&q.getter){r=q.getter.call(this)}else{if(j.re_aria.test(p)){r=this._node.getAttribute(p,2)}else{r=j.DEFAULT_GETTER.apply(this,arguments)}}return r},set:function(p,r){var q=j.ATTRS[p];if(this._setAttr){this._setAttr.apply(this,arguments)}else{if(q&&q.setter){q.setter.call(this,r,p)}else{if(j.re_aria.test(p)){this._node.setAttribute(p,r)}else{j.DEFAULT_SETTER.apply(this,arguments)}}}return this},setAttrs:function(p){if(this._setAttrs){this._setAttrs(p)}else{c.Object.each(p,function(q,r){this.set(r,q)},this)}return this},getAttrs:function(q){var p={};if(this._getAttrs){this._getAttrs(q)}else{c.Array.each(q,function(r,s){p[r]=this.get(r)},this)}return p},create:j.create,compareTo:function(p){var q=this._node;if(c.instanceOf(p,j)){p=p._node}return q===p},inDoc:function(q){var p=this._node;q=(q)?q._node||q:p[b];if(q.documentElement){return f.contains(q.documentElement,p)}},getById:function(r){var q=this._node,p=f.byId(r,q[b]);if(p&&f.contains(q,p)){p=c.one(p)}else{p=null}return p},ancestor:function(p,q){return c.one(f.ancestor(this._node,n(p),q))},ancestors:function(p,q){return c.all(f.ancestors(this._node,n(p),q))},previous:function(q,p){return c.one(f.elementByAxis(this._node,"previousSibling",n(q),p))},next:function(q,p){return c.one(f.elementByAxis(this._node,"nextSibling",n(q),p))},siblings:function(p){return c.all(f.siblings(this._node,n(p)))},one:function(p){return c.one(c.Selector.query(p,this._node,true))},all:function(p){var q=c.all(c.Selector.query(p,this._node));q._query=p;q._queryRoot=this._node;return q},test:function(p){return c.Selector.test(this._node,p)},remove:function(q){var r=this._node,p=r.parentNode;if(p){p.removeChild(r)}if(q){this.destroy()}return this},replace:function(p){var q=this._node;if(typeof p=="string"){p=j.create(p)}q.parentNode.replaceChild(j.getDOMNode(p),q);return this},replaceChild:function(q,p){if(typeof q=="string"){q=f.create(q)}return c.one(this._node.replaceChild(j.getDOMNode(q),j.getDOMNode(p)))},appendChild:function(p){return j.scrubVal(this._insert(p))},insertBefore:function(q,p){return c.Node.scrubVal(this._insert(q,p))},purge:function(q,p){c.Event.purgeElement(this._node,q,p);return this},destroy:function(p){this.purge();if(this.unplug){this.unplug()}this.clearData();if(p){this.all("*").destroy()}this._node=null;this._stateProxy=null;delete j._instances[this[d]]},invoke:function(w,q,p,v,u,t){var s=this._node,r;if(q&&c.instanceOf(q,j)){q=q._node}if(p&&c.instanceOf(p,j)){p=p._node}r=s[w](q,p,v,u,t);return j.scrubVal(r,this)},insert:function(q,p){this._insert(q,p);return this},_insert:function(s,q){var r=this._node,p=null;if(typeof q=="number"){q=this._node.childNodes[q]}else{if(q&&q._node){q=q._node}}if(s&&typeof s!="string"){s=s._node||s._nodes||s}p=f.addHTML(r,s,q);return p},prepend:function(p){return this.insert(p,0)},append:function(p){return this.insert(p,null)},appendTo:function(p){c.one(p).append(this);return this},setContent:function(p){this._insert(p,"replace");return this},getContent:function(p){return this.get("innerHTML")},swap:c.config.doc.documentElement.swapNode?function(p){this._node.swapNode(j.getDOMNode(p))}:function(p){p=j.getDOMNode(p);var r=this._node,q=p.parentNode,s=p.nextSibling;if(s===r){q.insertBefore(r,p)}else{if(p===r.nextSibling){q.insertBefore(p,r)}else{r.parentNode.replaceChild(p,r);f.addHTML(q,r,s)}}return this},getData:function(q){var p;this._data=this._data||{};if(arguments.length){p=this._data[q]}else{p=this._data}return p},setData:function(p,q){this._data=this._data||{};if(arguments.length>1){this._data[p]=q}else{this._data=p}return this},clearData:function(p){if("_data" in this){if(p){delete this._data[p]}else{delete this._data}}return this},hasMethod:function(q){var p=this._node;return !!(p&&q in p&&typeof p[q]!="unknown"&&(typeof p[q]=="function"||String(p[q]).indexOf("function")===1))},SHOW_TRANSITION:null,HIDE_TRANSITION:null,show:function(p){p=arguments[arguments.length-1];this.toggleView(true,p);return this},_show:function(){this.setStyle("display","")},_isHidden:function(){return c.DOM.getStyle(this._node,"display")==="none"},toggleView:function(p,q){this._toggleView.apply(this,arguments)},_toggleView:function(p,q){q=arguments[arguments.length-1];if(typeof p!="boolean"){p=(this._isHidden())?1:0}if(p){this._show()}else{this._hide()}if(typeof q=="function"){q.call(this)}return this},hide:function(p){p=arguments[arguments.length-1];this.toggleView(false,p);return this},_hide:function(){this.setStyle("display","none")},isFragment:function(){return(this.get("nodeType")===11)},empty:function(p){this.get("childNodes").remove(p);return this}},true);c.Node=j;c.one=c.Node.one;var a=function(p){var q=[];if(typeof p==="string"){this._query=p;p=c.Selector.query(p)}else{if(p.nodeType||f.isWindow(p)){p=[p]}else{if(c.instanceOf(p,c.Node)){p=[p._node]}else{if(c.instanceOf(p[0],c.Node)){c.Array.each(p,function(r){if(r._node){q.push(r._node)}});p=q}else{p=c.Array(p,0,true)}}}}this._nodes=p};a.NAME="NodeList";a.getDOMNodes=function(p){return(p&&p._nodes)?p._nodes:p};a.each=function(p,s,r){var q=p._nodes;if(q&&q.length){c.Array.each(q,s,r||p)}else{}};a.addMethod=function(p,r,q){if(p&&r){a.prototype[p]=function(){var t=[],s=arguments;c.Array.each(this._nodes,function(y){var x=(y.uniqueID&&y.nodeType!==9)?"uniqueID":"_yuid",v=c.Node._instances[y[x]],w,u;if(!v){v=a._getTempNode(y)}w=q||v;u=r.apply(w,s);if(u!==undefined&&u!==v){t[t.length]=u}});return t.length?t:this}}else{}};a.importMethod=function(r,p,q){if(typeof p==="string"){q=q||p;a.addMethod(p,r[p])}else{c.Array.each(p,function(s){a.importMethod(r,s)})}};a._getTempNode=function(q){var p=a._tempNode;if(!p){p=c.Node.create("<div></div>");a._tempNode=p}p._node=q;p._stateProxy=q;return p};c.mix(a.prototype,{item:function(p){return c.one((this._nodes||[])[p])},each:function(r,q){var p=this;c.Array.each(this._nodes,function(t,s){t=c.one(t);return r.call(q||t,t,s,p)});return p},batch:function(q,p){var r=this;c.Array.each(this._nodes,function(u,t){var s=c.Node._instances[u[d]];if(!s){s=a._getTempNode(u)}return q.call(p||s,s,t,r)});return r},some:function(r,q){var p=this;return c.Array.some(this._nodes,function(t,s){t=c.one(t);q=q||t;return r.call(q,t,s,p)})},toFrag:function(){return c.one(c.DOM._nl2frag(this._nodes))},indexOf:function(p){return c.Array.indexOf(this._nodes,c.Node.getDOMNode(p))},filter:function(p){return c.all(c.Selector.filter(this._nodes,p))},modulus:function(s,q){q=q||0;var p=[];a.each(this,function(t,r){if(r%s===q){p.push(t)}});return c.all(p)},odd:function(){return this.modulus(2,1)},even:function(){return this.modulus(2)},destructor:function(){},refresh:function(){var s,q=this._nodes,r=this._query,p=this._queryRoot;if(r){if(!p){if(q&&q[0]&&q[0].ownerDocument){p=q[0].ownerDocument}}this._nodes=c.Selector.query(r,p)}return this},_prepEvtArgs:function(s,r,q){var p=c.Array(arguments,0,true);if(p.length<2){p[2]=this._nodes}else{p.splice(2,0,this._nodes)}p[3]=q||this;return p},on:function(r,q,p){return c.on.apply(c,this._prepEvtArgs.apply(this,arguments))},once:function(r,q,p){return c.once.apply(c,this._prepEvtArgs.apply(this,arguments))},after:function(r,q,p){return c.after.apply(c,this._prepEvtArgs.apply(this,arguments))},size:function(){return this._nodes.length},isEmpty:function(){return this._nodes.length<1},toString:function(){var s="",r=this[d]+": not bound to any nodes",p=this._nodes,q;if(p&&p[0]){q=p[0];s+=q[e];if(q.id){s+="#"+q.id}if(q.className){s+="."+q.className.replace(" ",".")}if(p.length>1){s+="...["+p.length+" items]"}}return s||r}},true);a.importMethod(c.Node.prototype,["append","destroy","detach","detachAll","empty","insert","prepend","remove","set","setContent","show","hide","toggleView"]);a.prototype.get=function(q){var t=[],s=this._nodes,r=false,u=a._getTempNode,p,v;if(s[0]){p=c.Node._instances[s[0]._yuid]||u(s[0]);v=p._get(q);if(v&&v.nodeType){r=true}}c.Array.each(s,function(w){p=c.Node._instances[w._yuid];if(!p){p=u(w)}v=p._get(q);if(!r){v=c.Node.scrubVal(v,p)}t.push(v)});return(r)?c.all(t):t};c.NodeList=a;c.all=function(p){return new a(p)};c.Node.all=c.all;c.Array.each(["removeChild","hasChildNodes","cloneNode","hasAttribute","removeAttribute","scrollIntoView","getElementsByTagName","focus","blur","submit","reset","select","createCaption"],function(p){c.Node.prototype[p]=function(t,r,q){var s=this.invoke(p,t,r,q);return s}});c.Node.importMethod(c.DOM,["contains","setAttribute","getAttribute","wrap","unwrap","generateID"]);c.NodeList.importMethod(c.Node.prototype,["getAttribute","setAttribute","removeAttribute","unwrap","wrap","generateID"]);(function(q){var p=["hasClass","addClass","removeClass","replaceClass","toggleClass"];q.Node.importMethod(q.DOM,p);q.NodeList.importMethod(q.Node.prototype,p)})(c);if(!c.config.doc.documentElement.hasAttribute){c.Node.prototype.hasAttribute=function(p){if(p==="value"){if(this.get("value")!==""){return true}}return !!(this._node.attributes[p]&&this._node.attributes[p].specified)}}c.Node.prototype.focus=function(){try{this._node.focus()}catch(p){}};c.Node.ATTRS.type={setter:function(q){if(q==="hidden"){try{this._node.type="hidden"}catch(p){this.setStyle("display","none");this._inputType="hidden"}}else{try{this._node.type=q}catch(p){}}return q},getter:function(){return this._inputType||this._node.type},_bypassProxy:true};if(c.config.doc.createElement("form").elements.nodeType){c.Node.ATTRS.elements={getter:function(){return this.all("input, textarea, button, select")}}}c.mix(c.Node.ATTRS,{offsetHeight:{setter:function(p){c.DOM.setHeight(this._node,p);return p},getter:function(){return this._node.offsetHeight}},offsetWidth:{setter:function(p){c.DOM.setWidth(this._node,p);return p},getter:function(){return this._node.offsetWidth}}});c.mix(c.Node.prototype,{sizeTo:function(p,q){var r;if(arguments.length<2){r=c.one(p);p=r.get("offsetWidth");q=r.get("offsetHeight")}this.setAttrs({offsetWidth:p,offsetHeight:q})}});var k=c.NodeList,h=Array.prototype,g=["concat","pop","push","shift","slice","splice","unshift"];c.Array.each(g,function(p){k.prototype[p]=function(){var r=[],s=0,q;while((q=arguments[s++])){r.push(q._node||q._nodes||q)}return c.Node.scrubVal(h[p].apply(this._nodes,r))}})},"3.3.0",{requires:["dom-base","selector-css2","event-base"]});YUI.add("node-style",function(a){(function(c){var b=["getStyle","getComputedStyle","setStyle","setStyles"];c.Node.importMethod(c.DOM,b);c.NodeList.importMethod(c.Node.prototype,b)})(a)},"3.3.0",{requires:["dom-style","node-base"]});
/**
 * Copyright (c) 2012, Yahoo! Inc.  All rights reserved.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */

if(typeof YSLOW==="undefined"){YSLOW={}}YSLOW.DEBUG=true;YSLOW.registerRule=function(a){YSLOW.controller.addRule(a)};YSLOW.registerRuleset=function(a){YSLOW.controller.addRuleset(a)};YSLOW.registerRenderer=function(a){YSLOW.controller.addRenderer(a)};YSLOW.registerTool=function(a){YSLOW.Tools.addCustomTool(a)};YSLOW.addEventListener=function(b,c,a){YSLOW.util.event.addListener(b,c,a)};YSLOW.removeEventListener=function(a,b){return YSLOW.util.event.removeListener(a,b)};YSLOW.Error=function(a,b){this.name=a;this.message=b};YSLOW.Error.prototype={toString:function(){return this.name+"\n"+this.message}};YSLOW.version="dev";YSLOW.ComponentSet=function(a,b){this.root_node=a;this.components=[];this.outstanding_net_request=0;this.component_info=[];this.onloadTimestamp=b;this.nextID=1;this.notified_fetch_done=false};YSLOW.ComponentSet.prototype={clear:function(){this.components=[];this.component_info=[];this.cleared=true;if(this.outstanding_net_request>0){YSLOW.util.dump("YSLOW.ComponentSet.Clearing component set before all net requests finish.")}},addComponent:function(c,d,b,e){var a;if(!c){if(!this.empty_url){this.empty_url=[]}this.empty_url[d]=(this.empty_url[d]||0)+1}if(c&&d){if(!YSLOW.ComponentSet.isValidProtocol(c)||!YSLOW.ComponentSet.isValidURL(c)){return a}c=YSLOW.util.makeAbsoluteUrl(c,b);c=YSLOW.util.escapeHtml(c);if(typeof this.component_info[c]==="undefined"){this.component_info[c]={state:"NONE",count:0};a=new YSLOW.Component(c,d,this,e);if(a){a.id=this.nextID+=1;this.components[this.components.length]=a;if(!this.doc_comp&&a.type==="doc"){this.doc_comp=a}if(this.component_info[c].state==="NONE"){this.component_info[c].state="REQUESTED";this.outstanding_net_request+=1}}else{this.component_info[c].state="ERROR";YSLOW.util.event.fire("componentFetchError")}}this.component_info[c].count+=1}return a},addComponentNoDuplicate:function(b,c,a){if(b&&c){b=YSLOW.util.escapeHtml(b);b=YSLOW.util.makeAbsoluteUrl(b,a);if(this.component_info[b]===undefined){return this.addComponent(b,c,a)}}},getComponentsByType:function(o,l,d){var f,e,m,c,p,h,b,g=this.components,n=this.component_info,a=[],k={};if(typeof l==="undefined"){l=!(YSLOW.util.Preference.getPref("excludeAfterOnload",true))}if(typeof d==="undefined"){d=!(YSLOW.util.Preference.getPref("excludeBeaconsFromLint",true))}if(typeof o==="string"){k[o]=1}else{for(f=0,m=o.length;f<m;f+=1){p=o[f];if(p){k[p]=1}}}for(f=0,m=g.length;f<m;f+=1){h=g[f];if(!h||(h&&!k[h.type])||(h.is_beacon&&!d)||(h.after_onload&&!l)){continue}a[a.length]=h;b=n[f];if(!b||(b&&b.count<=1)){continue}for(e=1,c=b.count;e<c;e+=1){a[a.length]=h}}return a},getProgress:function(){var a,b=0,c=0;for(a in this.component_info){if(this.component_info.hasOwnProperty(a)&&this.component_info[a]){if(this.component_info[a].state==="RECEIVED"){c+=1}b+=1}}return{total:b,received:c}},onComponentGetInfoStateChange:function(d){var a,c,b;if(d){if(typeof d.comp!=="undefined"){a=d.comp}if(typeof d.state!=="undefined"){c=d.state}}if(typeof this.component_info[a.url]==="undefined"){YSLOW.util.dump("YSLOW.ComponentSet.onComponentGetInfoStateChange(): Unexpected component: "+a.url);return}if(this.component_info[a.url].state==="NONE"&&c==="DONE"){this.component_info[a.url].state="RECEIVED"}else{if(this.component_info[a.url].state==="REQUESTED"&&c==="DONE"){this.component_info[a.url].state="RECEIVED";this.outstanding_net_request-=1;if(this.outstanding_net_request===0){this.notified_fetch_done=true;YSLOW.util.event.fire("componentFetchDone",{component_set:this})}}else{YSLOW.util.dump("Unexpected component info state: ["+a.type+"]"+a.url+"state: "+c+" comp_info_state: "+this.component_info[a.url].state)}}b=this.getProgress();YSLOW.util.event.fire("componentFetchProgress",{total:b.total,current:b.received,last_component_url:a.url})},notifyPeelDone:function(){if(this.outstanding_net_request===0&&!this.notified_fetch_done){this.notified_fetch_done=true;YSLOW.util.event.fire("componentFetchDone",{component_set:this})}},setSimpleAfterOnload:function(f,m){var p,o,s,b,g,h,c,e,a,d,q,r,l,t,n,k;if(m){l=m.docBody;t=m.doc;n=m.components;k=m.components}else{l=this.doc_comp&&this.doc_comp.body;t=this.root_node;n=this.components;k=this}if(!l){YSLOW.util.dump("doc body is empty");return f(k)}b=t.createElement("div");b.innerHTML=l;g=b.getElementsByTagName("*");for(p=0,q=n.length;p<q;p+=1){s=n[p];d=s.type;if(d==="cssimage"||d==="doc"){continue}c=false;e=s.url;for(o=0,r=g.length;!c&&o<r;o+=1){a=g[o];h=a.src||a.href||a.getAttribute("src")||a.getAttribute("href")||(a.nodeName==="PARAM"&&a.value);c=(h===e)}s.after_onload=!c}f(k)},setAfterOnload:function(c,i){var k,p,s,h,m,a,e,f,x,j,v,d,g,b=YSLOW.util,n=b.addEventListener,o=b.removeEventListener,u=setTimeout,r=clearTimeout,l=[],w={},t=function(C){var A,y,B,D,z;r(h);A=C.type;y=C.attrName;B=C.target;D=B.src||B.href||(B.getAttribute&&(B.getAttribute("src")||B.getAttribute("href")));z=B.dataOldSrc;if(D&&(A==="DOMNodeInserted"||(A==="DOMSubtreeModified"&&D!==z)||(A==="DOMAttrModified"&&(y==="src"||y==="href")))&&!w[D]){w[D]=1;l.push(B)}h=u(m,1000)},q=function(C){var z,y,B,A,D;r(a);B=p.getElementsByTagName("*");for(z=0,y=B.length;z<y;z+=1){A=B[z];D=A.src||A.href;if(D){A.dataOldSrc=D}}n(s,"DOMSubtreeModified",t);n(s,"DOMNodeInserted",t);n(s,"DOMAttrModified",t);h=u(m,3000);d=u(m,10000)};if(i){e=YSLOW.ComponentSet.prototype;f=i.docBody;x=i.doc;j=i.components;v=j}else{e=this;f=e.doc_comp&&e.doc_comp.body;x=e.root_node;j=e.components;v=e}if(typeof MutationEvent==="undefined"||YSLOW.antiIframe){return e.setSimpleAfterOnload(c,i)}if(!f){b.dump("doc body is empty");return c(v)}m=function(){var C,B,z,y,A,E,D;if(g){return}r(d);r(h);o(s,"DOMSubtreeModified",t);o(s,"DOMNodeInserted",t);o(s,"DOMAttrModified",t);o(k,"load",q);o(s,"load",q);for(C=0,z=l.length;C<z;C+=1){A=l[C];E=A.src||A.href||(A.getAttribute&&(A.getAttribute("src")||A.getAttribute("href")));if(!E){continue}for(B=0,y=j.length;B<y;B+=1){D=j[B];if(D.url===E){D.after_onload=true}}}k.parentNode.removeChild(k);g=1;c(v)};k=x.createElement("iframe");k.style.cssText="position:absolute;top:-999em;";x.body.appendChild(k);s=k.contentWindow;a=u(m,3000);if(s){p=s.document}else{s=p=k.contentDocument}n(s,"load",q);n(k,"load",q);p.open().write(f);p.close();n(s,"load",q)}};YSLOW.ComponentSet.ignoreProtocols=["data","chrome","javascript","about","resource","jar","chrome-extension","file"];YSLOW.ComponentSet.isValidProtocol=function(d){var c,b,f,e=this.ignoreProtocols,a=e.length;d=d.toLowerCase();b=d.indexOf(":");if(b>0){f=d.substr(0,b);for(c=0;c<a;c+=1){if(f===e[c]){return false}}}return true};YSLOW.ComponentSet.isValidURL=function(b){var a,c;b=b.toLowerCase();a=b.split(":");if(a[0]==="http"||a[0]==="https"){if(a[1].substr(0,2)!=="//"){return false}c=a[1].substr(2);if(c.length===0||c.indexOf("/")===0){return false}}return true};YSLOW.Component=function(b,c,e,f){var d=f&&f.obj,a=(f&&f.comp)||{};this.url=b;this.type=c;this.parent=e;this.headers={};this.raw_headers="";this.req_headers=null;this.body="";this.compressed=false;this.expires=undefined;this.size=0;this.status=0;this.is_beacon=false;this.method="unknown";this.cookie="";this.respTime=null;this.after_onload=false;this.object_prop=undefined;if(c===undefined){this.type="unknown"}this.get_info_state="NONE";if(d&&c==="image"&&d.width&&d.height){this.object_prop={width:d.width,height:d.height}}if(a.containerNode){this.containerNode=a.containerNode}this.setComponentDetails(f)};YSLOW.Component.prototype.setComponentDetails=function(d){var b=this,e=function(f){var g;b.status=f.status;for(g in f.headers){if(f.headers.hasOwnProperty(g)){b.headers[g.toLowerCase()]=f.headers[g]}}b.raw_headers=f.raw_headers;if(f.req_headers){b.req_headers={};for(g in f.req_headers){if(f.req_headers.hasOwnProperty(g)){b.req_headers[g.toLowerCase()]=f.req_headers[g]}}}b.body=(f.body!==null)?f.body:"";if(typeof f.method==="string"){b.method=f.method}if((b.type==="unknown"&&f.type!==undefined)||(b.type==="doc"&&(f.type!==undefined&&f.type!=="unknown"))){b.type=f.type}b.response_type=f.type;if(typeof f.cookie==="string"){b.cookie=f.cookie}if(typeof f.size==="number"&&f.size>0){b.nsize=f.size}if(typeof f.respTime!=="undefined"){b.respTime=f.respTime}if(typeof f.startTimestamp!=="undefined"&&b.parent.onloadTimestamp!==null){b.after_onload=(f.startTimestamp>b.parent.onloadTimestamp)}else{if(typeof f.after_onload!=="undefined"){b.after_onload=f.after_onload}}b.populateProperties(true);b.get_info_state="DONE";b.parent.onComponentGetInfoStateChange({comp:b,state:"DONE"})},a=function(l){var j,m,h,f,g=l.response,k=l.request;b.status=g.status;b.headers={};b.raw_headers="";for(j=0,f=g.headers.length;j<f;j+=1){m=g.headers[j];b.headers[m.name.toLowerCase()]=m.value;b.raw_headers+=m.name+": "+m.value+"\n"}b.req_headers={};for(j=0,f=k.headers.length;j<f;j+=1){m=k.headers[j];b.req_headers[m.name.toLowerCase()]=m.value}b.method=k.method;if(g.content&&g.content.text){b.body=g.content.text}else{b.body={toString:function(){return""},length:g.content.size||0}}b.response_type=b.type;b.cookie=(b.headers["set-cookie"]||"")+(b.req_headers.cookie||"");b.nsize=parseInt(b.headers["content-length"],10)||g.bodySize||g.content.size;b.respTime=l.time;b.after_onload=(new Date(l.startedDateTime).getTime())>b.parent.onloadTimestamp;b.populateProperties(false,true);b.get_info_state="DONE";b.parent.onComponentGetInfoStateChange({comp:b,state:"DONE"})},c=function(j){var p,l,k,g,f,o=/^([^:]+):\s*([\s\S]+)$/,n=j.rawHeaders;b.status=j.status;b.raw_headers=n;if(j.headers){for(p in j.headers){if(j.headers.hasOwnProperty(p)){b.headers[p.toLowerCase()]=j.headers[p]}}}else{if(typeof n==="string"){l=n.split("\n");for(k=0,g=l.length;k<g;k+=1){f=o.exec(l[k]);if(f){b.headers[f[1].toLowerCase()]=f[2]}}}}b.req_headers={};b.method="GET";b.body=j.content||j.body||"";b.type=j.type;b.response_type=b.type;b.cookie=b.headers["set-cookie"]||"";b.nsize=parseInt(b.headers["content-length"],10)||b.body.length;b.respTime=0;if(j.after_onload){b.after_onload=j.after_onload}if(typeof j.injected!=="undefined"){b.injected=j.injected}if(typeof j.defer!=="undefined"){b.defer=j.defer}if(typeof j.async!=="undefined"){b.async=j.async}b.populateProperties();b.get_info_state="DONE";b.parent.onComponentGetInfoStateChange({comp:b,state:"DONE"})};if(d&&d.component){c(d.component)}else{if(d&&d.entry){a(d.entry)}else{YSLOW.net.getInfo(this.url,e,(this.type.indexOf("image")>-1))}}};YSLOW.Component.prototype.getInfoState=function(){return this.get_info_state};YSLOW.Component.prototype.populateProperties=function(k,c){var f,a,b,h,i,e,j,g=this,d=null,l="undefined";if(g.headers.location&&k){f=g.parent.addComponentNoDuplicate(g.headers.location,(g.type!=="redirect"?g.type:"unknown"),g.url);if(f&&g.after_onload){f.after_onload=true}g.type="redirect"}h=g.headers["content-length"];a=YSLOW.util.trim(g.headers["content-encoding"]);if(a==="gzip"||a==="deflate"){g.compressed=a;g.size=(g.body.length)?g.body.length:d;if(h){g.size_compressed=parseInt(h,10)||h}else{if(typeof g.nsize!==l){g.size_compressed=g.nsize}else{g.size_compressed=g.size/3}}}else{g.compressed=false;g.size_compressed=d;if(h){g.size=parseInt(h,10)}else{if(typeof g.nsize!==l){g.size=parseInt(g.nsize,10)}else{g.size=g.body.length}}}if(!g.size){if(typeof g.nsize!==l){g.size=g.nsize}else{g.size=g.body.length}}g.uncompressed_size=g.body.length;b=g.headers.expires;if(b&&b.length>0){g.expires=new Date(b);if(g.expires.toString()==="Invalid Date"){g.expires=g.getMaxAge()}}else{g.expires=g.getMaxAge()}if(g.type==="image"&&!c){if(typeof Image!==l){e=new Image()}else{e=document.createElement("img")}if(g.body.length){i="data:"+g.headers["content-type"]+";base64,"+YSLOW.util.base64Encode(g.body);j=1}else{i=g.url}e.onerror=function(){e.onerror=d;if(j){e.src=g.url}};e.onload=function(){e.onload=d;if(e&&e.width&&e.height){if(g.object_prop){g.object_prop.actual_width=e.width;g.object_prop.actual_height=e.height}else{g.object_prop={width:e.width,height:e.height,actual_width:e.width,actual_height:e.height}}if(e.width<2&&e.height<2){g.is_beacon=true}}};e.src=i}};YSLOW.Component.prototype.hasOldModifiedDate=function(){var a=Number(new Date()),b=this.headers["last-modified"];if(typeof b!=="undefined"){return((a-Number(new Date(b)))>(24*60*60*1000))}return false};YSLOW.Component.prototype.hasFarFutureExpiresOrMaxAge=function(){var d,b=Number(new Date()),c=YSLOW.util.Preference.getPref("minFutureExpiresSeconds",2*24*60*60),a=c*1000;if(typeof this.expires==="object"){d=Number(this.expires);if((d-b)>a){return true}}return false};YSLOW.Component.prototype.getEtag=function(){return this.headers.etag||""};YSLOW.Component.prototype.getMaxAge=function(){var b,c,a,d=this.headers["cache-control"];if(d){b=d.indexOf("max-age");if(b>-1){c=parseInt(d.substring(b+8),10);if(c>0){a=YSLOW.util.maxAgeToDate(c)}}}return a};YSLOW.Component.prototype.getSetCookieSize=function(){var c,a,b=0;if(this.headers&&this.headers["set-cookie"]){c=this.headers["set-cookie"].split("\n");if(c.length>0){for(a=0;a<c.length;a+=1){b+=c[a].length}}}return b};YSLOW.Component.prototype.getReceivedCookieSize=function(){var c,a,b=0;if(this.cookie&&this.cookie.length>0){c=this.cookie.split("\n");if(c.length>0){for(a=0;a<c.length;a+=1){b+=c[a].length}}}return b};YSLOW.controller={rules:{},rulesets:{},onloadTimestamp:null,renderers:{},default_ruleset_id:"ydefault",run_pending:0,init:function(){var b,a,d,c;YSLOW.util.event.addListener("onload",function(f){this.onloadTimestamp=f.time;YSLOW.util.setTimer(function(){YSLOW.controller.run_pending_event()})},this);YSLOW.util.event.addListener("onUnload",function(f){this.run_pending=0;this.onloadTimestamp=null},this);b=YSLOW.util.Preference.getPrefList("customRuleset.",undefined);if(b&&b.length>0){for(a=0;a<b.length;a+=1){c=b[a].value;if(typeof c==="string"&&c.length>0){d=JSON.parse(c,null);d.custom=true;this.addRuleset(d)}}}this.default_ruleset_id=YSLOW.util.Preference.getPref("defaultRuleset","ydefault");this.loadRulePreference()},run:function(d,e,b){var f,a,c=d.document;if(!c||!c.location||c.location.href.indexOf("about:")===0||"undefined"===typeof c.location.hostname){if(!b){a="Please enter a valid website address before running YSlow.";YSLOW.ysview.openDialog(YSLOW.ysview.panel_doc,389,150,a,"","Ok")}return}if(!e.PAGE.loaded){this.run_pending={win:d,yscontext:e};return}YSLOW.util.event.fire("peelStart",undefined);f=YSLOW.peeler.peel(c,this.onloadTimestamp);e.component_set=f;YSLOW.util.event.fire("peelComplete",{component_set:f});f.notifyPeelDone()},run_pending_event:function(){if(this.run_pending){this.run(this.run_pending.win,this.run_pending.yscontext,false);this.run_pending=0}},lint:function(s,c,a){var d,h,q,g,j,k,r,p=[],n=[],o=0,m=0,e=this,f=e.rulesets,l=e.default_ruleset_id;if(a){p=f[a]}else{if(l&&f[l]){p=f[l]}else{for(q in f){if(f.hasOwnProperty(q)&&f[q]){p=f[q];break}}}}h=p.rules;for(q in h){if(h.hasOwnProperty(q)&&h[q]&&this.rules.hasOwnProperty(q)){try{d=this.rules[q];g=YSLOW.util.merge(d.config,h[q]);j=d.lint(s,c.component_set,g);k=(p.weights?p.weights[q]:undefined);if(k!==undefined){k=parseInt(k,10)}if(k===undefined||k<0||k>100){if(f.ydefault.weights[q]){k=f.ydefault.weights[q]}else{k=5}}j.weight=k;if(j.score!==undefined){if(typeof j.score!=="number"){r=parseInt(j.score,10);if(!isNaN(r)){j.score=r}}if(typeof j.score==="number"){m+=j.weight;if(!YSLOW.util.Preference.getPref("allowNegativeScore",false)){if(j.score<0){j.score=0}if(typeof j.score!=="number"){j.score=-1}}if(j.score!==0){o+=j.score*(typeof j.weight!=="undefined"?j.weight:1)}}}j.name=d.name;j.category=d.category;j.rule_id=q;n[n.length]=j}catch(b){YSLOW.util.dump("YSLOW.controller.lint: "+q,b);YSLOW.util.event.fire("lintError",{rule:q,message:b})}}}c.PAGE.overallScore=o/(m>0?m:1);c.result_set=new YSLOW.ResultSet(n,c.PAGE.overallScore,p);c.result_set.url=c.component_set.doc_comp.url;YSLOW.util.event.fire("lintResultReady",{yslowContext:c});return c.result_set},runTool:function(o,k,b){var r,f,n,e,i,a,m,c,q,p,g,j=YSLOW.Tools.getTool(o);try{if(typeof j==="object"){r=j.run(k.document,k.component_set,b);if(j.print_output){f="";if(typeof r==="object"){f=r.html}else{if(typeof r==="string"){f=r}}n=YSLOW.util.getNewDoc();g=n.body||n.documentElement;g.innerHTML=f;e=n.getElementsByTagName("head")[0];if(typeof r.css==="undefined"){a="chrome://yslow/content/yslow/tool.css";m=new XMLHttpRequest();m.open("GET",a,false);m.send(null);i=m.responseText}else{i=r.css}if(typeof i==="string"){c=n.createElement("style");c.setAttribute("type","text/css");c.appendChild(n.createTextNode(i));e.appendChild(c)}if(typeof r.js!=="undefined"){q=n.createElement("script");q.setAttribute("type","text/javascript");q.appendChild(n.createTextNode(r.js));e.appendChild(q)}if(typeof r.plot_component!=="undefined"&&r.plot_component===true){YSLOW.renderer.plotComponents(n,k)}}}else{p=o+" is not a tool.";YSLOW.util.dump(p);YSLOW.util.event.fire("toolError",{tool_id:o,message:p})}}catch(d){YSLOW.util.dump("YSLOW.controller.runTool: "+o,d);YSLOW.util.event.fire("toolError",{tool_id:o,message:d})}},render:function(e,a,d){var c=this.renderers[e],b="";if(c.supports[a]!==undefined&&c.supports[a]===1){switch(a){case"components":b=c.componentsView(d.comps,d.total_size);break;case"reportcard":b=c.reportcardView(d.result_set);break;case"stats":b=c.statsView(d.stats);break;case"tools":b=c.toolsView(d.tools);break;case"rulesetEdit":b=c.rulesetEditView(d.rulesets);break}}return b},getRenderer:function(a){return this.renderers[a]},addRule:function(c){var a,b,d=["id","name","config","info","lint"];if(YSLOW.doc.rules&&YSLOW.doc.rules[c.id]){b=YSLOW.doc.rules[c.id];if(b.name){c.name=b.name}if(b.info){c.info=b.info}}for(a=0;a<d.length;a+=1){if(typeof c[d[a]]==="undefined"){throw new YSLOW.Error("Interface error","Improperly implemented rule interface")}}if(this.rules[c.id]!==undefined){throw new YSLOW.Error("Rule register error",c.id+" is already defined.")}this.rules[c.id]=c},addRuleset:function(a,d){var b,c=["id","name","rules"];for(b=0;b<c.length;b+=1){if(typeof a[c[b]]==="undefined"){throw new YSLOW.Error("Interface error","Improperly implemented ruleset interface")}if(this.checkRulesetName(a.id)&&d!==true){throw new YSLOW.Error("Ruleset register error",a.id+" is already defined.")}}this.rulesets[a.id]=a},removeRuleset:function(b){var a=this.rulesets[b];if(a&&a.custom===true){delete this.rulesets[b];if(this.default_ruleset_id===b){this.default_ruleset_id="ydefault";YSLOW.util.Preference.setPref("defaultRuleset",this.default_ruleset_id)}return a}return null},saveRulesetToPref:function(a){if(a.custom===true){YSLOW.util.Preference.setPref("customRuleset."+a.id,JSON.stringify(a,null,2))}},deleteRulesetFromPref:function(a){if(a.custom===true){YSLOW.util.Preference.deletePref("customRuleset."+a.id)}},getRuleset:function(a){return this.rulesets[a]},addRenderer:function(a){this.renderers[a.id]=a},getRegisteredRuleset:function(){return this.rulesets},getRegisteredRules:function(){return this.rules},getRule:function(a){return this.rules[a]},checkRulesetName:function(c){var d,b,a=this.rulesets;c=c.toLowerCase();for(d in a){if(a.hasOwnProperty(d)){b=a[d];if(b.id.toLowerCase()===c||b.name.toLowerCase()===c){return true}}}return false},setDefaultRuleset:function(a){if(this.rulesets[a]!==undefined){this.default_ruleset_id=a;YSLOW.util.Preference.setPref("defaultRuleset",a)}},getDefaultRuleset:function(){if(this.rulesets[this.default_ruleset_id]===undefined){this.setDefaultRuleset("ydefault")}return this.rulesets[this.default_ruleset_id]},getDefaultRulesetId:function(){return this.default_ruleset_id},loadRulePreference:function(){var b=this.getRule("yexpires"),a=YSLOW.util.Preference.getPref("minFutureExpiresSeconds",2*24*60*60);if(a>0&&b){b.config.howfar=a}}};YSLOW.util={merge:function(d,c){var e,f={};for(e in d){if(d.hasOwnProperty(e)){f[e]=d[e]}}for(e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}return f},dump:function(){var a;if(!YSLOW.DEBUG){return}a=Array.prototype.slice.apply(arguments);a=a&&a.length===1?a[0]:a;try{if(typeof Firebug!=="undefined"&&Firebug.Console&&Firebug.Console.log){Firebug.Console.log(a)}else{if(typeof Components!=="undefined"&&Components.classes&&Components.interfaces){Components.classes["@mozilla.org/consoleservice;1"].getService(Components.interfaces.nsIConsoleService).logStringMessage(JSON.stringify(a,null,2))}}}catch(c){try{console.log(a)}catch(b){}}},filter:function(d,e,b){var c,a=b?[]:{};for(c in d){if(d.hasOwnProperty(c)&&e(c,d[c])){a[b?a.length:c]=d[c]}}return a},expires_month:{Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12},prettyExpiresDate:function(a){var b;if(Object.prototype.toString.call(a)==="[object Date]"&&a.toString()!=="Invalid Date"&&!isNaN(a)){b=a.getMonth()+1;return a.getFullYear()+"/"+b+"/"+a.getDate()}else{if(!a){return"no expires"}}return"invalid date object"},maxAgeToDate:function(b){var a=new Date();a=a.getTime()+parseInt(b,10)*1000;return new Date(a)},plural:function(c,d){var b,a=c,e={are:["are","is"],s:["s",""],"do":["do","does"],num:[d,d]};for(b in e){if(e.hasOwnProperty(b)){a=a.replace(new RegExp("%"+b+"%","gm"),(d===1)?e[b][1]:e[b][0])}}return a},countExpressions:function(c){var a=0,b;b=c.indexOf("expression(");while(b!==-1){a+=1;b=c.indexOf("expression(",b+1)}return a},countAlphaImageLoaderFilter:function(f){var d,e,c,g,b=0,h=0,a={};d=f.indexOf("filter:");while(d!==-1){c=false;if(d>0&&f.charAt(d-1)==="_"){c=true}e=f.indexOf(";",d+7);if(e!==-1){g=f.substring(d+7,e);if(g.indexOf("AlphaImageLoader")!==-1){if(c){h+=1}else{b+=1}}}d=f.indexOf("filter:",d+1)}if(h>0){a.hackFilter=h}if(b>0){a.filter=b}return a},getHostname:function(b){var a=b.split("/")[2];return(a&&a.split(":")[0])||""},getUniqueDomains:function(g,e){var d,b,f,a={},c=[];for(d=0,b=g.length;d<b;d+=1){f=g[d].url.split("/");if(f[2]){a[f[2].split(":")[0]]=1}}for(d in a){if(a.hasOwnProperty(d)){if(!e){c.push(d)}else{f=d.split(".");if(isNaN(parseInt(f[f.length-1],10))){c.push(d)}}}}return c},summaryByDomain:function(b,n,c){var h,g,m,f,o,e,k,d,p,l,q={},a=[];n=[].concat(n);d=n.length;for(h=0,m=b.length;h<m;h+=1){k=b[h];f=k.url.split("/");if(f[2]){o=f[2].split(":")[0];e=q[o];if(!e){e={domain:o,count:0};q[o]=e}e.count+=1;for(g=0;g<d;g+=1){p=n[g];l=e["sum_"+p]||0;l+=parseInt(k[p],10)||0;e["sum_"+p]=l}}}for(e in q){if(q.hasOwnProperty(e)){if(!c){a.push(q[e])}else{f=e.split(".");if(isNaN(parseInt(f[f.length-1],10))){a.push(q[e])}}}}return a},isMinified:function(c){var a=c.length,b;if(a===0){return true}b=c.replace(/\n| {2}|\t|\r/g,"").length;if(((a-b)/a)>0.2){return false}return true},isETagGood:function(a){var c=/^[0-9a-f]+:[0-9a-f]+$/,b=/^[0-9a-f]+\-[0-9a-f]+\-[0-9a-f]+$/;if(!a){return true}a=a.replace(/^["']|["'][\s\S]*$/g,"");return !(b.test(a)||c.test(a))},getComponentType:function(a){var b="unknown";if(a&&typeof a==="string"){if(a==="text/html"||a==="text/plain"){b="doc"}else{if(a==="text/css"){b="css"}else{if(/javascript/.test(a)){b="js"}else{if(/flash/.test(a)){b="flash"}else{if(/image/.test(a)){b="image"}else{if(/font/.test(a)){b="font"}}}}}}}return b},base64Encode:function(j){var h,g,f,l,e="",k=0,d=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];for(h=0;h<j.length;h+=3){g=j.charCodeAt(h);if((h+1)<j.length){f=j.charCodeAt(h+1)}else{f=0;k+=1}if((h+2)<j.length){l=j.charCodeAt(h+2)}else{l=0;k+=1}e+=d[(g&252)>>2];e+=d[((g&3)<<4)|((f&240)>>4)];if(k>0){e+="="}else{e+=d[((f&15)<<2)|((l&192)>>6)]}if(k>1){e+="="}else{e+=d[(l&63)]}}return e},getXHR:function(){var a=0,d=null,b=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];if(typeof XMLHttpRequest==="function"){return new XMLHttpRequest()}for(a=0;a<b.length;a+=1){try{d=new ActiveXObject(b[a]);break}catch(c){}}return d},getComputedStyle:function(f,b,a){var e,d,c="";if(f.currentStyle){c=f.currentStyle[b]}if(f.ownerDocument&&f.ownerDocument.defaultView&&document.defaultView.getComputedStyle){e=f.ownerDocument.defaultView.getComputedStyle(f,"");if(e){c=e[b]}}if(!a){return c}if(typeof c!=="string"){return false}d=c.match(/\burl\((\'|\"|)([^\'\"]+?)\1\)/);if(d){return d[2]}else{return false}},escapeHtml:function(a){return(a||"").toString().replace(/</g,"&lt;").replace(/>/g,"&gt;")},escapeQuotes:function(b,a){if(a==="single"){return b.replace(/\'/g,"\\'")}if(a==="double"){return b.replace(/\"/g,'\\"')}return b.replace(/\'/g,"\\'").replace(/\"/g,'\\"')},formatHeaderName:(function(){var a={"content-md5":"Content-MD5",dnt:"DNT",etag:"ETag",p3p:"P3P",te:"TE","www-authenticate":"WWW-Authenticate","x-att-deviceid":"X-ATT-DeviceId","x-cdn":"X-CDN","x-ua-compatible":"X-UA-Compatible","x-xss-protection":"X-XSS-Protection"};return function(c){var b=c.toLowerCase();if(a.hasOwnProperty(b)){return a[b]}else{return b.replace(/(^|-)([a-z])/g,function(d,e,f){return e+f.toUpperCase()})}}}()),mod:function(a,b){return Math.round(a-(Math.floor(a/b)*b))},briefUrl:function(c,a){var b,d,e,f;a=a||100;if(c===undefined){return""}b=c.indexOf("//");if(-1!==b){d=c.indexOf("?");if(-1!==d){c=c.substring(0,d)+"?..."}if(c.length>a){e=c.indexOf("/",b+2);f=c.lastIndexOf("/");if(-1!==e&&-1!==f&&e!==f){c=c.substring(0,e+1)+"..."+c.substring(f)}else{c=c.substring(0,a+1)+"..."}}}return c},prettyAnchor:function(i,b,d,c,g,a,j){var e,h="",f="",k=0;if(typeof b==="undefined"){b=i}if(typeof d==="undefined"){d=""}else{d=' class="'+d+'"'}if(typeof g==="undefined"){g=100}if(typeof a==="undefined"){a=1}j=(j)?' rel="'+j+'"':"";b=YSLOW.util.escapeHtml(b);i=YSLOW.util.escapeHtml(i);e=YSLOW.util.escapeQuotes(b,"double");if(c){i=YSLOW.util.briefUrl(i,g);h=' title="'+e+'"'}while(0<i.length){f+="<a"+j+d+h+' href="'+e+'" onclick="javascript:document.ysview.openLink(\''+YSLOW.util.escapeQuotes(b)+"'); return false;\">"+i.substring(0,g);i=i.substring(g);k+=1;if(k>=a){if(0<i.length){f+="[snip]"}f+="</a>";break}else{f+="</a><font style='font-size: 0px;'> </font>"}}return f},kbSize:function(a){var b=a%(a>100?100:10);a-=b;return parseFloat(a/1000)+(0===(a%1000)?".0":"")+"K"},prettyTypes:{image:"Image",doc:"HTML/Text",cssimage:"CSS Image",css:"Stylesheet File",js:"JavaScript File",flash:"Flash Object",iframe:"IFrame",xhr:"XMLHttpRequest",redirect:"Redirect",favicon:"Favicon",unknown:"Unknown"},prettyType:function(a){return YSLOW.util.prettyTypes[a]},prettyScore:function(b){var a="F";if(!parseInt(b,10)&&b!==0){return b}if(b===-1){return"N/A"}if(b>=90){a="A"}else{if(b>=80){a="B"}else{if(b>=70){a="C"}else{if(b>=60){a="D"}else{if(b>=50){a="E"}}}}}return a},getResults:function(f,B){var x,v,u,d,c,s,C,r,q,h,e,a,F,z,t,b,p,o,j,m,k=/ <button [\s\S]+<\/button>/,n=YSLOW.util.isArray,E={},y={},w=[],D={},A={};B=(B||"basic").split(",");for(x=0,z=B.length;x<z;x+=1){if(B[x]==="all"){t=p=b=true;break}else{switch(B[x]){case"grade":t=true;break;case"stats":p=true;break;case"comps":b=true;break}}}D.w=parseInt(f.PAGE.totalSize,10);D.o=parseInt(f.PAGE.overallScore,10);D.u=encodeURIComponent(f.result_set.url);D.r=parseInt(f.PAGE.totalRequests,10);m=YSLOW.util.getPageSpaceid(f.component_set);if(m){D.s=encodeURI(m)}D.i=f.result_set.getRulesetApplied().id;if(f.PAGE.t_done){D.lt=parseInt(f.PAGE.t_done,10)}if(t){u=f.result_set.getResults();for(x=0,z=u.length;x<z;x+=1){q={};o=u[x];if(o.hasOwnProperty("score")){if(o.score>=0){q.score=parseInt(o.score,10)}else{if(o.score===-1){q.score="n/a"}}}s=o.components;if(n(s)){q.components=[];for(v=0,j=s.length;v<j;v+=1){C=s[v];if(typeof C==="string"){d=C}else{if(typeof C.url==="string"){d=C.url}}if(d){d=encodeURIComponent(d.replace(k,""));q.components.push(d)}}}A[o.rule_id]=q}D.g=A}if(p){D.w_c=parseInt(f.PAGE.totalSizePrimed,10);D.r_c=parseInt(f.PAGE.totalRequestsPrimed,10);for(c in f.PAGE.totalObjCount){if(f.PAGE.totalObjCount.hasOwnProperty(c)){E[c]={r:f.PAGE.totalObjCount[c],w:f.PAGE.totalObjSize[c]}}}D.stats=E;for(c in f.PAGE.totalObjCountPrimed){if(f.PAGE.totalObjCountPrimed.hasOwnProperty(c)){y[c]={r:f.PAGE.totalObjCountPrimed[c],w:f.PAGE.totalObjSizePrimed[c]}}}D.stats_c=y}if(b){s=f.component_set.components;for(x=0,z=s.length;x<z;x+=1){C=s[x];r=encodeURIComponent(C.url);q={type:C.type,url:r,size:C.size,resp:C.respTime};if(C.size_compressed){q.gzip=C.size_compressed}if(C.expires&&C.expires instanceof Date){q.expires=YSLOW.util.prettyExpiresDate(C.expires)}h=C.getReceivedCookieSize();if(h>0){q.cr=h}e=C.getSetCookieSize();if(e>0){q.cs=e}a=C.getEtag();if(typeof a==="string"&&a.length>0){q.etag=a}w.push(q)}D.comps=w}return D},sendBeacon:function(f,e,b){var g,k,l,c,h,d="",j=YSLOW.util,m=j.Preference,a="get";e=(e||"basic").split(",");for(g=0,k=e.length;g<k;g+=1){if(e[g]==="all"){a="post";break}else{switch(e[g]){case"grade":a="post";break;case"stats":a="post";break;case"comps":a="post";break}}}if(a==="post"){d=JSON.stringify(f,null);l=j.getXHR();l.open("POST",b,true);l.setRequestHeader("Content-Length",d.length);l.setRequestHeader("Content-Type","application/json");l.send(d)}else{for(c in f){if(f.hasOwnProperty(c)){d+=c+"="+f[c]+"&"}}h=new Image();h.src=b+"?"+d}return d},getDict:function(d,m){var h,k,c,g,a,l,f,b=YSLOW,j=b.controller,n=b.doc.rules,e={w:"size",o:"overall score",u:"url",r:"total number of requests",s:"space id of the page",i:"id of the ruleset used",lt:"page load time",grades:"100 >= A >= 90 > B >= 80 > C >= 70 > D >= 60 > E >= 50 > F >= 0 > N/A = -1"};d=(d||"basic").split(",");m=m||"ydefault";l=j.rulesets[m].weights;for(h=0,k=d.length;h<k;h+=1){if(d[h]==="all"){c=g=a=true;break}else{switch(d[h]){case"grade":c=true;break;case"stats":g=true;break;case"comps":a=true;break}}}if(c){e.g="scores of all rules in the ruleset";e.rules={};for(f in l){if(l.hasOwnProperty(f)){e.rules[f]=n[f];e.rules[f].weight=l[f]}}}if(g){e.w_c="page weight with primed cache";e.r_c="number of requests with primed cache";e.stats="number of requests and weight grouped by component type";e.stats_c="number of request and weight of components group by component type with primed cache"}if(a){e.comps="array of all the components found on the page"}return e},isObject:function(a){return Object.prototype.toString.call(a).indexOf("Object")>-1},isArray:function(a){if(Array.isArray){return Array.isArray(a)}else{return Object.prototype.toString.call(a).indexOf("Array")>-1}},objToXML:function(e,c){var a,b=YSLOW.util,f=/[<&>]/,d='<?xml version="1.0" encoding="UTF-8"?>';a=function(n){var k,l,h,g,m,j,p=function(i,o){if(o){i=decodeURIComponent(i)}if(f.test(i)){return"<![CDATA["+i+"]]>"}return i};for(k in n){if(n.hasOwnProperty(k)){l=n[k];d+="<"+k+">";if(b.isArray(l)){for(h=0,g=l.length;h<g;h+=1){m=l[h];j=typeof m;d+="<item>";if(j==="string"||j==="number"){d+=p(m,k==="components")}else{a(m)}d+="</item>"}}else{if(b.isObject(l)){a(l)}else{d+=p(l,k==="u"||k==="url")}}d+="</"+k+">"}}};c=c||"results";d+="<"+c+">";a(e);d+="</"+c+">";return d},prettyPrintResults:function(e){var c,b=YSLOW.util,f="",d={},g={w:"size",o:"overall score",u:"url",r:"# of requests",s:"space id",i:"ruleset",lt:"page load time",g:"scores",w_c:"page size (primed cache)",r_c:"# of requests (primed cache)",stats:"statistics by component",stats_c:"statistics by component (primed cache)",comps:"components found on the page",components:"offenders",cr:"received cookie size",cs:"set cookie size",resp:"response time"},a=function(i){var h=d[i];if(typeof h==="undefined"){d[i]=h=new Array((4*i)+1).join(" ")}return h};c=function(p,q){var l,m,j,h,n,k;for(l in p){if(p.hasOwnProperty(l)){m=p[l];f+=a(q)+(g[l]||l)+":";if(b.isArray(m)){f+="\n";for(j=0,h=m.length;j<h;j+=1){n=m[j];k=typeof n;if(k==="string"||k==="number"){f+=a(q+1)+decodeURIComponent(n)+"\n"}else{c(n,q+1);if(j<h-1){f+="\n"}}}}else{if(b.isObject(m)){f+="\n";c(m,q+1)}else{if(l==="score"||l==="o"){m=b.prettyScore(m)+" ("+m+")"}if(l==="w"||l==="w_c"||l==="size"||l==="gzip"||l==="cr"||l==="cs"){m=b.kbSize(m)+" ("+m+" bytes)"}f+=" "+decodeURIComponent(m)+"\n"}}}}};c(e,0);return f},getPageSpaceid:function(l){var k,f,g,e,b,d,c,j,h=/^\d+$/,a=l.getComponentsByType("doc");if(a[0]&&typeof a[0].body==="string"&&a[0].body.length>0){k=a[0].body;f=["%2fE%3d","/S=","SpaceID=","?f="," sid="];g=["%2fR%3d",":"," ","&"," "];for(e=0;e<f.length;e+=1){b=f[e];if(-1!==k.indexOf(b)){d=k.indexOf(b)+b.length;c=k.indexOf(g[e],d);if(-1!==c&&(c-d)<15){j=k.substring(d,c);if(h.test(j)){return j}}}}}return""},loadCSS:function(a,b){var c;if(!b){YSLOW.util.dump("YSLOW.util.loadCSS: doc is not specified");return""}c=b.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=a;b.body.appendChild(c);return c},openLink:function(a){if(YSLOW.util.Preference.getPref("browser.link.open_external")===3){gBrowser.selectedTab=gBrowser.addTab(a)}else{window.open(a," blank")}},smushIt:function(c,f){var e,a=this.getSmushUrl(),b=a+"/ws.php?img="+encodeURIComponent(c),d=YSLOW.util.getXHR();d.open("GET",b,true);d.onreadystatechange=function(g){e=(g?g.target:d);if(e.readyState===4){f(JSON.parse(e.responseText))}};d.send(null)},getSmushUrl:function(){var a="http://www.smushit.com/ysmush.it";return YSLOW.util.Preference.getPref("smushItURL",a)+"/"},getNewDoc:function(){var b=null,a=new XMLHttpRequest();getBrowser().selectedTab=getBrowser().addTab("about:blank");b=window;a.open("get","about:blank",false);a.overrideMimeType("text/html");a.send(null);return b.content.document},makeAbsoluteUrl:function(a,b){var e,d,c,f;if(typeof a==="string"&&b){e=b.indexOf("://");f=b.slice(0,4);if(a.indexOf("://")<0&&(f==="http"||f==="file")){if(a.slice(0,1)==="/"){d=b.indexOf("/",e+3);if(d>-1){a=b.slice(0,d)+a}else{a=b+a}}else{c=b.lastIndexOf("/");if(c>e+3){a=b.slice(0,c+1)+a}else{a=b+"/"+a}}}}return a},preventDefault:function(a){if(typeof a.preventDefault==="function"){a.preventDefault()}else{a.returnValue=false}},trim:function(a){try{return(a&&a.trim)?a.trim():a.replace(/^\s+|\s+$/g,"")}catch(b){return a}},addEventListener:function(c,d,b){var a=YSLOW.util;if(c.addEventListener){a.addEventListener=function(f,g,e){f.addEventListener(g,e,false)}}else{if(c.attachEvent){a.addEventListener=function(f,g,e){f.attachEvent("on"+g,e)}}else{a.addEventListener=function(f,g,e){f["on"+g]=e}}}a.addEventListener(c,d,b)},removeEventListener:function(c,d,b){var a=YSLOW.util;if(c.removeEventListener){a.removeEventListener=function(f,g,e){f.removeEventListener(g,e,false)}}else{if(c.detachEvent){a.removeEventListener=function(f,g,e){f.detachEvent("on"+g,e)}}else{a.removeEventListener=function(f,g,e){delete f["on"+g]}}}a.removeEventListener(c,d,b)},getCurrentTarget:function(a){return a.currentTarget||a.srcElement},getTarget:function(a){return a.target||a.srcElement},getInlineTags:function(f,d,b){var e,a,c=function(n,j,h){var l,g,k,m,o=[];if(!n){return o}k=n.getElementsByTagName(j);for(l=0,g=k.length;l<g;l+=1){m=k[l];if(!m.src){o.push({contentNode:h,body:m.innerHTML})}}return o};d=d||(f&&f.getElementsByTagName("head")[0]);b=b||(f&&f.getElementsByTagName("body")[0]);e=c(d,"style","head");e=e.concat(c(b,"style","body"));a=c(d,"script","head");a=a.concat(c(b,"script","body"));return{styles:e,scripts:a}},countDOMElements:function(a){return(a&&a.getElementsByTagName("*").length)||0},getDocCookies:function(a){return(a&&a.cookie)||""},setInjected:function(l,d,j){var g,k,f,e,a,h,m,c,b={};if(!j){return d}if(typeof l.createElement==="function"){c=l.createElement("div");c.innerHTML=j}else{c=l}f=c.getElementsByTagName("script");for(g=0,k=f.length;g<k;g+=1){e=f[g];a=e.src||e.getAttribute("src");if(a){b[a]={defer:e.defer||e.getAttribute("defer"),async:e.async||e.getAttribute("async")}}}f=c.getElementsByTagName("link");for(g=0,k=f.length;g<k;g+=1){e=f[g];a=e.href||e.getAttribute("href");if(a&&(e.rel==="stylesheet"||e.type==="text/css")){b[a]=1}}f=c.getElementsByTagName("iframe");for(g=0,k=f.length;g<k;g+=1){e=f[g];a=e.src||e.getAttribute("src");if(a){b[a]=1}}f=c.getElementsByTagName("embed");for(g=0,k=f.length;g<k;g+=1){e=f[g];a=e.src||e.getAttribute("src");if(a){b[a]=1}}f=c.getElementsByTagName("param");for(g=0,k=f.length;g<k;g+=1){e=f[g];a=e.value||e.getAttribute("value");if(a){b[a]=1}}f=c.getElementsByTagName("img");for(g=0,k=f.length;g<k;g+=1){e=f[g];a=e.src||e.getAttribute("src");if(a){b[a]=1}}for(g=0,k=d.length;g<k;g+=1){h=d[g];if(h.type==="js"||h.type==="css"||h.type==="flash"||h.type==="flash"||h.type==="image"){m=b[h.url];h.injected=!m;if(h.type==="js"&&m){h.defer=m.defer;h.async=m.async}}}return d},setTimer:function(b,a){setTimeout(b,a)}};YSLOW.util.event={subscribers:{},addListener:function(a,e,c){var b=this.subscribers,d=b[a];if(!d){d=b[a]=[]}d.push({callback:e,that:c})},removeListener:function(b,e){var c,d=this.subscribers[b],a=(d&&d.length)||0;for(c=0;c<a;c+=1){if(d[c].callback===e){d.splice(c,1);return true}}return false},fire:function(d,f){var a,b;if(typeof this.subscribers[d]==="undefined"){return false}for(a=0;a<this.subscribers[d].length;a+=1){b=this.subscribers[d][a];try{b.callback.call(b.that,f)}catch(c){}}return true}};YSLOW.util.Preference={nativePref:null,registerNative:function(a){this.nativePref=a},getPref:function(b,a){if(this.nativePref){return this.nativePref.getPref(b,a)}return a},getPrefList:function(b,a){if(this.nativePref){return this.nativePref.getPrefList(b,a)}return a},setPref:function(a,b){if(this.nativePref){this.nativePref.setPref(a,b)}},deletePref:function(a){if(this.nativePref){this.nativePref.deletePref(a)}}};YSLOW.doc={tools_desc:undefined,view_names:{},splash:{},rules:{},tools:{},components_legend:{},addRuleInfo:function(c,a,b){if(typeof c==="string"&&typeof a==="string"&&typeof b==="string"){this.rules[c]={name:a,info:b}}},addToolInfo:function(c,a,b){if(typeof c==="string"&&typeof a==="string"&&typeof b==="string"){this.tools[c]={name:a,info:b}}}};YSLOW.doc.addRuleInfo("ynumreq","Make fewer HTTP requests","Decreasing the number of components on a page reduces the number of HTTP requests required to render the page, resulting in faster page loads.  Some ways to reduce the number of components include:  combine files, combine multiple scripts into one script, combine multiple CSS files into one style sheet, and use CSS Sprites and image maps.");YSLOW.doc.addRuleInfo("ycdn","Use a Content Delivery Network (CDN)","User proximity to web servers impacts response times.  Deploying content across multiple geographically dispersed servers helps users perceive that pages are loading faster.");YSLOW.doc.addRuleInfo("yexpires","Add Expires headers","Web pages are becoming increasingly complex with more scripts, style sheets, images, and Flash on them.  A first-time visit to a page may require several HTTP requests to load all the components.  By using Expires headers these components become cacheable, which avoids unnecessary HTTP requests on subsequent page views.  Expires headers are most often associated with images, but they can and should be used on all page components including scripts, style sheets, and Flash.");YSLOW.doc.addRuleInfo("ycompress","Compress components with gzip","Compression reduces response times by reducing the size of the HTTP response.  Gzip is the most popular and effective compression method currently available and generally reduces the response size by about 70%.  Approximately 90% of today's Internet traffic travels through browsers that claim to support gzip.");YSLOW.doc.addRuleInfo("ycsstop","Put CSS at top","Moving style sheets to the document HEAD element helps pages appear to load quicker since this allows pages to render progressively.");YSLOW.doc.addRuleInfo("yjsbottom","Put JavaScript at bottom","JavaScript scripts block parallel downloads; that is, when a script is downloading, the browser will not start any other downloads.  To help the page load faster, move scripts to the bottom of the page if they are deferrable.");YSLOW.doc.addRuleInfo("yexpressions","Avoid CSS expressions","CSS expressions (supported in IE beginning with Version 5) are a powerful, and dangerous, way to dynamically set CSS properties.  These expressions are evaluated frequently:  when the page is rendered and resized, when the page is scrolled, and even when the user moves the mouse over the page.  These frequent evaluations degrade the user experience.");YSLOW.doc.addRuleInfo("yexternal","Make JavaScript and CSS external","Using external JavaScript and CSS files generally produces faster pages because the files are cached by the browser.  JavaScript and CSS that are inlined in HTML documents get downloaded each time the HTML document is requested.  This reduces the number of HTTP requests but increases the HTML document size.  On the other hand, if the JavaScript and CSS are in external files cached by the browser, the HTML document size is reduced without increasing the number of HTTP requests.");YSLOW.doc.addRuleInfo("ydns","Reduce DNS lookups","The Domain Name System (DNS) maps hostnames to IP addresses, just like phonebooks map people's names to their phone numbers.  When you type URL www.yahoo.com into the browser, the browser contacts a DNS resolver that returns the server's IP address.  DNS has a cost; typically it takes 20 to 120 milliseconds for it to look up the IP address for a hostname.  The browser cannot download anything from the host until the lookup completes.");YSLOW.doc.addRuleInfo("yminify","Minify JavaScript and CSS","Minification removes unnecessary characters from a file to reduce its size, thereby improving load times.  When a file is minified, comments and unneeded white space characters (space, newline, and tab) are removed.  This improves response time since the size of the download files is reduced.");YSLOW.doc.addRuleInfo("yredirects","Avoid URL redirects","URL redirects are made using HTTP status codes 301 and 302.  They tell the browser to go to another location.  Inserting a redirect between the user and the final HTML document delays everything on the page since nothing on the page can be rendered and no components can be downloaded until the HTML document arrives.");YSLOW.doc.addRuleInfo("ydupes","Remove duplicate JavaScript and CSS","Duplicate JavaScript and CSS files hurt performance by creating unnecessary HTTP requests (IE only) and wasted JavaScript execution (IE and Firefox).  In IE, if an external script is included twice and is not cacheable, it generates two HTTP requests during page loading.  Even if the script is cacheable, extra HTTP requests occur when the user reloads the page.  In both IE and Firefox, duplicate JavaScript scripts cause wasted time evaluating the same scripts more than once.  This redundant script execution happens regardless of whether the script is cacheable.");YSLOW.doc.addRuleInfo("yetags","Configure entity tags (ETags)","Entity tags (ETags) are a mechanism web servers and the browser use to determine whether a component in the browser's cache matches one on the origin server.  Since ETags are typically constructed using attributes that make them unique to a specific server hosting a site, the tags will not match when a browser gets the original component from one server and later tries to validate that component on a different server.");YSLOW.doc.addRuleInfo("yxhr","Make AJAX cacheable","One of AJAX's benefits is it provides instantaneous feedback to the user because it requests information asynchronously from the backend web server.  However, using AJAX does not guarantee the user will not wait for the asynchronous JavaScript and XML responses to return.  Optimizing AJAX responses is important to improve performance, and making the responses cacheable is the best way to optimize them.");YSLOW.doc.addRuleInfo("yxhrmethod","Use GET for AJAX requests","When using the XMLHttpRequest object, the browser implements POST in two steps:  (1) send the headers, and (2) send the data.  It is better to use GET instead of POST since GET sends the headers and the data together (unless there are many cookies).  IE's maximum URL length is 2 KB, so if you are sending more than this amount of data you may not be able to use GET.");YSLOW.doc.addRuleInfo("ymindom","Reduce the number of DOM elements","A complex page means more bytes to download, and it also means slower DOM access in JavaScript.  Reduce the number of DOM elements on the page to improve performance.");YSLOW.doc.addRuleInfo("yno404","Avoid HTTP 404 (Not Found) error",'Making an HTTP request and receiving a 404 (Not Found) error is expensive and degrades the user experience.  Some sites have helpful 404 messages (for example, "Did you mean ...?"), which may assist the user, but server resources are still wasted.');YSLOW.doc.addRuleInfo("ymincookie","Reduce cookie size","HTTP cookies are used for authentication, personalization, and other purposes.  Cookie information is exchanged in the HTTP headers between web servers and the browser, so keeping the cookie size small minimizes the impact on response time.");YSLOW.doc.addRuleInfo("ycookiefree","Use cookie-free domains","When the browser requests a static image and sends cookies with the request, the server ignores the cookies.  These cookies are unnecessary network traffic.  To workaround this problem, make sure that static components are requested with cookie-free requests by creating a subdomain and hosting them there.");YSLOW.doc.addRuleInfo("ynofilter","Avoid AlphaImageLoader filter","The IE-proprietary AlphaImageLoader filter attempts to fix a problem with semi-transparent true color PNG files in IE versions less than Version 7.  However, this filter blocks rendering and freezes the browser while the image is being downloaded.  Additionally, it increases memory consumption.  The problem is further multiplied because it is applied per element, not per image.");YSLOW.doc.addRuleInfo("yimgnoscale","Do not scale images in HTML","Web page designers sometimes set image dimensions by using the width and height attributes of the HTML image element.  Avoid doing this since it can result in images being larger than needed.  For example, if your page requires image myimg.jpg which has dimensions 240x720 but displays it with dimensions 120x360 using the width and height attributes, then the browser will download an image that is larger than necessary.");YSLOW.doc.addRuleInfo("yfavicon","Make favicon small and cacheable","A favicon is an icon associated with a web page; this icon resides in the favicon.ico file in the server's root.  Since the browser requests this file, it needs to be present; if it is missing, the browser returns a 404 error (see \"Avoid HTTP 404 (Not Found) error\" above).  Since favicon.ico resides in the server's root, each time the browser requests this file, the cookies for the server's root are sent.  Making the favicon small and reducing the cookie size for the server's root cookies improves performance for retrieving the favicon.  Making favicon.ico cacheable avoids frequent requests for it.");YSLOW.doc.addRuleInfo("yemptysrc","Avoid empty src or href","You may expect a browser to do nothing when it encounters an empty image src.  However, it is not the case in most browsers. IE makes a request to the directory in which the page is located; Safari, Chrome, Firefox 3 and earlier make a request to the actual page itself. This behavior could possibly corrupt user data, waste server computing cycles generating a page that will never be viewed, and in the worst case, cripple your servers by sending a large amount of unexpected traffic.");YSLOW.doc.tools_desc="Click on the tool name to launch the tool.";YSLOW.doc.addToolInfo("jslint","JSLint","Run JSLint on all JavaScript code in this document");YSLOW.doc.addToolInfo("alljs","All JS","Show all JavaScript code in this document");YSLOW.doc.addToolInfo("jsbeautified","All JS Beautified","Show all JavaScript code in this document in an easy to read format");YSLOW.doc.addToolInfo("jsminified","All JS Minified","Show all JavaScript code in this document in a minified (no comments or white space) format");YSLOW.doc.addToolInfo("allcss","All CSS","Show all CSS code in this document");YSLOW.doc.addToolInfo("cssmin","YUI CSS Compressor","Show all CSS code in the document in a minified format");YSLOW.doc.addToolInfo("smushItAll","All Smush.it&trade;","Run Smush.it&trade; on all image components in this document");YSLOW.doc.addToolInfo("printableview","Printable View","Show a printable view of grades, component lists, and statistics");YSLOW.doc.splash.title="Grade your web pages with YSlow";YSLOW.doc.splash.content={header:"YSlow gives you:",text:"<ul><li>Grade based on the performance of the page (you can define your own ruleset)</li><li>Summary of the page components</li><li>Chart with statistics</li><li>Tools for analyzing performance, including Smush.it&trade; and JSLint</li></ul>"};YSLOW.doc.splash.more_info="Learn more about YSlow and the Yahoo! Developer Network";YSLOW.doc.rulesettings_desc="Choose which ruleset (YSlow V2, Classic V1, or Small Site/Blog) best fits your specific needs.  Or create a new set and click Save as... to save it.";YSLOW.doc.components_legend.beacon="type column indicates the component is loaded after window onload event";YSLOW.doc.components_legend.after_onload="denotes 1x1 pixels image that may be image beacon";YSLOW.doc.view_names={grade:"Grade",components:"Components",stats:"Statistics",tools:"Tools",rulesetedit:"Rule Settings"};YSLOW.doc.copyright="Copyright &copy; "+(new Date()).getFullYear()+" Yahoo! Inc. All rights reserved.";YSLOW.registerRule({id:"ynumreq",url:"http://developer.yahoo.com/performance/rules.html#num_http",category:["content"],config:{max_js:3,points_js:4,max_css:2,points_css:4,max_cssimages:6,points_cssimages:3},lint:function(f,h,a){var e=h.getComponentsByType("js").length-a.max_js,b=h.getComponentsByType("css").length-a.max_css,d=h.getComponentsByType("cssimage").length-a.max_cssimages,g=100,c=[];if(e>0){g-=e*a.points_js;c[c.length]="This page has "+YSLOW.util.plural("%num% external Javascript script%s%",(e+a.max_js))+".  Try combining them into one."}if(b>0){g-=b*a.points_css;c[c.length]="This page has "+YSLOW.util.plural("%num% external stylesheet%s%",(b+a.max_css))+".  Try combining them into one."}if(d>0){g-=d*a.points_cssimages;c[c.length]="This page has "+YSLOW.util.plural("%num% external background image%s%",(d+a.max_cssimages))+".  Try combining them with CSS sprites."}return{score:g,message:c.join("\n"),components:[]}}});YSLOW.registerRule({id:"ycdn",url:"http://developer.yahoo.com/performance/rules.html#cdn",category:["server"],config:{points:10,patterns:["^([^\\.]*)\\.([^\\.]*)\\.yimg\\.com/[^/]*\\.yimg\\.com/.*$","^([^\\.]*)\\.([^\\.]*)\\.yimg\\.com/[^/]*\\.yahoo\\.com/.*$","^sec.yimg.com/","^a248.e.akamai.net","^[dehlps].yimg.com","^(ads|cn|mail|maps|s1).yimg.com","^[\\d\\w\\.]+.yimg.com","^a.l.yimg.com","^us.(js|a)2.yimg.com","^yui.yahooapis.com","^adz.kr.yahoo.com","^img.yahoo.co.kr","^img.(shopping|news|srch).yahoo.co.kr","^pimg.kr.yahoo.com","^kr.img.n2o.yahoo.com","^s3.amazonaws.com","^(www.)?google-analytics.com",".cloudfront.net",".ak.fbcdn.net","platform.twitter.com","cdn.api.twitter.com","apis.google.com",".akamaihd.net"],exceptions:["^chart.yahoo.com","^(a1|f3|f5|f3c|f5c).yahoofs.com","^us.(a1c|f3).yahoofs.com"],servers:["cloudflare-nginx"],types:["js","css","image","cssimage","flash","favicon"]},lint:function(C,f,B){var u,s,e,r,g,m,y,w,z,A,d,c,v=100,b=[],x=[],l="",a=YSLOW.util,q=a.plural,h=a.kbSize,k=a.getHostname,p=k(f.doc_comp.url),o=f.getComponentsByType(B.types),n=a.Preference.getPref("cdnHostnames",""),t=a.Preference.nativePref;if(n){n=n.split(",")}for(u=0,w=o.length;u<w;u+=1){A=o[u];e=A.url;m=k(e);c=A.headers;if(A.type==="favicon"&&m===p){continue}g=c["x-cdn"]||c["x-amz-cf-id"];if(g){continue}d=B.patterns;for(s=0,z=d.length;s<z;s+=1){r=new RegExp(d[s]);if(r.test(m)){g=1;break}}if(n){for(s=0,z=n.length;s<z;s+=1){r=new RegExp(a.trim(n[s]));if(r.test(m)){g=1;break}}}if(!g){d=B.servers;for(s=0,z=d.length;s<z;s+=1){r=new RegExp(d[s]);if(r.test(c.server)){g=1;break}}if(!g){d=B.exceptions;for(s=0,z=d.length;s<z;s+=1){r=new RegExp(d[s]);if(r.test(m)){x.push(A);g=1;break}}if(!g){b.push(A)}}}}v-=b.length*B.points;b.concat(x);if(b.length>0){l=q("There %are% %num% static component%s% that %are% not on CDN. ",b.length)}if(x.length>0){l+=q("There %are% %num% component%s% that %are% not on CDN, but %are% exceptions:",x.length)+"<ul>";for(u=0,w=b.length;u<w;u+=1){l+="<li>"+a.prettyAnchor(x[u].url,x[u].url,null,true,120,null,x[u].type)+"</li>"}l+="</ul>"}if(n){l+="<p>Using these CDN hostnames from your preferences: "+n+"</p>"}else{l+="<p>You can specify CDN hostnames in your preferences. See <a href=\"javascript:document.ysview.openLink('http://developer.yahoo.com/yslow/faq.html#faq_cdn')\">YSlow FAQ</a> for details.</p>"}if(b.length){b=a.summaryByDomain(b,["size","size_compressed"],true);for(u=0,w=b.length;u<w;u+=1){y=b[u];b[u]=y.domain+": "+q("%num% component%s%, ",y.count)+h(y.sum_size)+(y.sum_size_compressed>0?" ("+h(y.sum_size_compressed)+" GZip)":"")+(t?(" <button onclick=\"javascript:document.ysview.addCDN('"+y.domain+"')\">Add as CDN</button>"):"")}}return{score:v,message:l,components:b}}});YSLOW.registerRule({id:"yexpires",url:"http://developer.yahoo.com/performance/rules.html#expires",category:["server"],config:{points:11,howfar:172800,types:["css","js","image","cssimage","flash","favicon"]},lint:function(j,l,b){var h,d,k,c,g,e=parseInt(b.howfar,10)*1000,f=[],a=l.getComponentsByType(b.types);for(d=0,g=a.length;d<g;d+=1){k=a[d].expires;if(typeof k==="object"&&typeof k.getTime==="function"){h=new Date().getTime();if(k.getTime()>h+e){continue}}f.push(a[d])}c=100-f.length*parseInt(b.points,10);return{score:c,message:(f.length>0)?YSLOW.util.plural("There %are% %num% static component%s%",f.length)+" without a far-future expiration date.":"",components:f}}});YSLOW.registerRule({id:"ycompress",url:"http://developer.yahoo.com/performance/rules.html#gzip",category:["server"],config:{min_filesize:500,types:["doc","iframe","xhr","js","css"],points:11},lint:function(h,j,b){var d,g,c,e,f=[],a=j.getComponentsByType(b.types);for(d=0,g=a.length;d<g;d+=1){e=a[d];if(e.compressed||e.size<500){continue}f.push(e)}c=100-f.length*parseInt(b.points,10);return{score:c,message:(f.length>0)?YSLOW.util.plural("There %are% %num% plain text component%s%",f.length)+" that should be sent compressed":"",components:f}}});YSLOW.registerRule({id:"ycsstop",url:"http://developer.yahoo.com/performance/rules.html#css_top",category:["css"],config:{points:10},lint:function(h,j,b){var d,g,c,e,a=j.getComponentsByType("css"),f=[];for(d=0,g=a.length;d<g;d+=1){e=a[d];if(e.containerNode==="body"){f.push(e)}}c=100;if(f.length>0){c-=1+f.length*parseInt(b.points,10)}return{score:c,message:(f.length>0)?YSLOW.util.plural("There %are% %num% stylesheet%s%",f.length)+" found in the body of the document":"",components:f}}});YSLOW.registerRule({id:"yjsbottom",url:"http://developer.yahoo.com/performance/rules.html#js_bottom",category:["javascript"],config:{points:5},lint:function(h,j,b){var d,g,e,c,f=[],a=j.getComponentsByType("js");for(d=0,g=a.length;d<g;d+=1){e=a[d];if(e.containerNode==="head"&&!e.injected&&(!e.defer||!e.async)){f.push(e)}}c=100-f.length*parseInt(b.points,10);return{score:c,message:(f.length>0)?YSLOW.util.plural("There %are% %num% JavaScript script%s%",f.length)+" found in the head of the document":"",components:f}}});YSLOW.registerRule({id:"yexpressions",url:"http://developer.yahoo.com/performance/rules.html#css_expressions",category:["css"],config:{points:2},lint:function(j,m,b){var d,g,l,e,k=(m.inline&&m.inline.styles)||[],a=m.getComponentsByType("css"),f=[],c=100,h=0;for(d=0,g=a.length;d<g;d+=1){e=a[d];if(typeof e.expr_count==="undefined"){l=YSLOW.util.countExpressions(e.body);e.expr_count=l}else{l=e.expr_count}if(l>0){e.yexpressions=YSLOW.util.plural("%num% expression%s%",l);h+=l;f.push(e)}}for(d=0,g=k.length;d<g;d+=1){l=YSLOW.util.countExpressions(k[d].body);if(l>0){f.push("inline &lt;style&gt; tag #"+(d+1)+" ("+YSLOW.util.plural("%num% expression%s%",l)+")");h+=l}}if(h>0){c=90-h*b.points}return{score:c,message:h>0?"There are a total of "+YSLOW.util.plural("%num% expression%s%",h):"",components:f}}});YSLOW.registerRule({id:"yexternal",url:"http://developer.yahoo.com/performance/rules.html#external",category:["javascript","css"],config:{},lint:function(f,h,b){var d,e=h.inline,c=(e&&e.styles)||[],a=(e&&e.scripts)||[],g=[];if(c.length){d=YSLOW.util.plural("There are a total of %num% inline css",c.length);g.push(d)}if(a.length){d=YSLOW.util.plural("There are a total of %num% inline script%s%",a.length);g.push(d)}return{score:"n/a",message:"Only consider this if your property is a common user home page.",components:g}}});YSLOW.registerRule({id:"ydns",url:"http://developer.yahoo.com/performance/rules.html#dns_lookups",category:["content"],config:{max_domains:4,points:5},lint:function(j,l,a){var d,f,c,e=YSLOW.util,g=e.kbSize,h=e.plural,b=100,k=e.summaryByDomain(l.components,["size","size_compressed"],true);if(k.length>a.max_domains){b-=(k.length-a.max_domains)*a.points}if(k.length){for(d=0,f=k.length;d<f;d+=1){c=k[d];k[d]=c.domain+": "+h("%num% component%s%, ",c.count)+g(c.sum_size)+(c.sum_size_compressed>0?" ("+g(c.sum_size_compressed)+" GZip)":"")}}return{score:b,message:(k.length>a.max_domains)?h("The components are split over more than %num% domain%s%",a.max_domains):"",components:k}}});YSLOW.registerRule({id:"yminify",url:"http://developer.yahoo.com/performance/rules.html#minify",category:["javascript","css"],config:{points:10,types:["js","css"]},lint:function(l,n,b){var e,h,c,k,f,j=n.inline,m=(j&&j.styles)||[],d=(j&&j.scripts)||[],a=n.getComponentsByType(b.types),g=[];for(e=0,h=a.length;e<h;e+=1){f=a[e];if(typeof f.minified==="undefined"){k=YSLOW.util.isMinified(f.body);f.minified=k}else{k=f.minified}if(!k){g.push(f)}}for(e=0,h=m.length;e<h;e+=1){if(!YSLOW.util.isMinified(m[e].body)){g.push("inline &lt;style&gt; tag #"+(e+1))}}for(e=0,h=d.length;e<h;e+=1){if(!YSLOW.util.isMinified(d[e].body)){g.push("inline &lt;script&gt; tag #"+(e+1))}}c=100-g.length*b.points;return{score:c,message:(g.length>0)?YSLOW.util.plural("There %are% %num% component%s% that can be minified",g.length):"",components:g}}});YSLOW.registerRule({id:"yredirects",url:"http://developer.yahoo.com/performance/rules.html#redirects",category:["content"],config:{points:10},lint:function(j,k,b){var e,h,f,c,g=[],d=YSLOW.util.briefUrl,a=k.getComponentsByType("redirect");for(e=0,h=a.length;e<h;e+=1){f=a[e];g.push(d(f.url,80)+" redirects to "+d(f.headers.location,60))}c=100-a.length*parseInt(b.points,10);return{score:c,message:(a.length>0)?YSLOW.util.plural("There %are% %num% redirect%s%",a.length):"",components:g}}});YSLOW.registerRule({id:"ydupes",url:"http://developer.yahoo.com/performance/rules.html#js_dupes",category:["javascript","css"],config:{points:5,types:["js","css"]},lint:function(j,k,c){var f,a,d,h,e={},g=[],b=k.getComponentsByType(c.types);for(f=0,h=b.length;f<h;f+=1){a=b[f].url;if(typeof e[a]==="undefined"){e[a]={count:1,compindex:f}}else{e[a].count+=1}}for(f in e){if(e.hasOwnProperty(f)&&e[f].count>1){g.push(b[e[f].compindex])}}d=100-g.length*parseInt(c.points,10);return{score:d,message:(g.length>0)?YSLOW.util.plural("There %are% %num% duplicate component%s%",g.length):"",components:g}}});YSLOW.registerRule({id:"yetags",url:"http://developer.yahoo.com/performance/rules.html#etags",category:["server"],config:{points:11,types:["flash","js","css","cssimage","image","favicon"]},lint:function(j,k,b){var d,g,c,e,h,f=[],a=k.getComponentsByType(b.types);for(d=0,g=a.length;d<g;d+=1){e=a[d];h=e.headers&&e.headers.etag;if(h&&!YSLOW.util.isETagGood(h)){f.push(e)}}c=100-f.length*parseInt(b.points,10);return{score:c,message:(f.length>0)?YSLOW.util.plural("There %are% %num% component%s% with misconfigured ETags",f.length):"",components:f}}});YSLOW.registerRule({id:"yxhr",url:"http://developer.yahoo.com/performance/rules.html#cacheajax",category:["content"],config:{points:5,min_cache_time:3600},lint:function(j,l,b){var e,k,h,c,g,d=parseInt(b.min_cache_time,10)*1000,f=[],a=l.getComponentsByType("xhr");for(e=0;e<a.length;e+=1){g=a[e].headers["cache-control"];if(g){if(g.indexOf("no-cache")!==-1||g.indexOf("no-store")!==-1){continue}}k=a[e].expires;if(typeof k==="object"&&typeof k.getTime==="function"){h=new Date().getTime();if(k.getTime()>h+d){continue}}f.push(a[e])}c=100-f.length*parseInt(b.points,10);return{score:c,message:(f.length>0)?YSLOW.util.plural("There %are% %num% XHR component%s% that %are% not cacheable",f.length):"",components:f}}});YSLOW.registerRule({id:"yxhrmethod",url:"http://developer.yahoo.com/performance/rules.html#ajax_get",category:["server"],config:{points:5},lint:function(c,g,a){var b,d,f=[],e=g.getComponentsByType("xhr");for(b=0;b<e.length;b+=1){if(typeof e[b].method==="string"){if(e[b].method!=="GET"&&e[b].method!=="unknown"){f.push(e[b])}}}d=100-f.length*parseInt(a.points,10);return{score:d,message:(f.length>0)?YSLOW.util.plural("There %are% %num% XHR component%s% that %do% not use GET HTTP method",f.length):"",components:f}}});YSLOW.registerRule({id:"ymindom",url:"http://developer.yahoo.com/performance/rules.html#min_dom",category:["content"],config:{range:250,points:10,maxdom:900},lint:function(c,e,b){var a=e.domElementsCount,d=100;if(a>b.maxdom){d=99-Math.ceil((a-parseInt(b.maxdom,10))/parseInt(b.range,10))*parseInt(b.points,10)}return{score:d,message:(a>b.maxdom)?YSLOW.util.plural("There %are% %num% DOM element%s% on the page",a):"",components:[]}}});YSLOW.registerRule({id:"yno404",url:"http://developer.yahoo.com/performance/rules.html#no404",category:["content"],config:{points:5,types:["css","js","image","cssimage","flash","xhr","favicon"]},lint:function(h,j,b){var d,g,e,c,f=[],a=j.getComponentsByType(b.types);for(d=0,g=a.length;d<g;d+=1){e=a[d];if(parseInt(e.status,10)===404){f.push(e)}}c=100-f.length*parseInt(b.points,10);return{score:c,message:(f.length>0)?YSLOW.util.plural("There %are% %num% request%s% that %are% 404 Not Found",f.length):"",components:f}}});YSLOW.registerRule({id:"ymincookie",url:"http://developer.yahoo.com/performance/rules.html#cookie_size",category:["cookie"],config:{points:10,max_cookie_size:1000},lint:function(e,h,b){var g,d=h.cookies,a=(d&&d.length)||0,c="",f=100;if(a>b.max_cookie_size){g=Math.floor(a/b.max_cookie_size);f-=1+g*parseInt(b.points,10);c=YSLOW.util.plural("There %are% %num% byte%s% of cookies on this page",a)}return{score:f,message:c,components:[]}}});YSLOW.registerRule({id:"ycookiefree",url:"http://developer.yahoo.com/performance/rules.html#cookie_free",category:["cookie"],config:{points:5,types:["js","css","image","cssimage","flash","favicon"]},lint:function(l,m,d){var f,k,e,h,a,j=[],c=YSLOW.util.getHostname,g=c(m.doc_comp.url),b=m.getComponentsByType(d.types);for(f=0,k=b.length;f<k;f+=1){h=b[f];if(h.type==="favicon"&&c(h.url)===g){continue}a=h.cookie;if(typeof a==="string"&&a.length){j.push(b[f])}}e=100-j.length*parseInt(d.points,10);return{score:e,message:(j.length>0)?YSLOW.util.plural("There %are% %num% component%s% that %are% not cookie-free",j.length):"",components:j}}});YSLOW.registerRule({id:"ynofilter",url:"http://developer.yahoo.com/performance/rules.html#no_filters",category:["css"],config:{points:5,halfpoints:2},lint:function(m,p,c){var e,j,d,f,l,h,o,n=(p.inline&&p.inline.styles)||[],b=p.getComponentsByType("css"),g=[],a=0,k=0;for(e=0,j=b.length;e<j;e+=1){f=b[e];if(typeof f.filter_count==="undefined"){o=YSLOW.util.countAlphaImageLoaderFilter(f.body);f.filter_count=o}else{o=f.filter_count}h=0;for(l in o){if(o.hasOwnProperty(l)){if(l==="hackFilter"){k+=o[l];h+=o[l]}else{a+=o[l];h+=o[l]}}}if(h>0){b[e].yfilters=YSLOW.util.plural("%num% filter%s%",h);g.push(b[e])}}for(e=0,j=n.length;e<j;e+=1){o=YSLOW.util.countAlphaImageLoaderFilter(n[e].body);h=0;for(l in o){if(o.hasOwnProperty(l)){if(l==="hackFilter"){k+=o[l];h+=o[l]}else{a+=o[l];h+=o[l]}}}if(h>0){g.push("inline &lt;style&gt; tag #"+(e+1)+" ("+YSLOW.util.plural("%num% filter%s%",h)+")")}}d=100-(a*c.points+k*c.halfpoints);return{score:d,message:(a+k)>0?"There are a total of "+YSLOW.util.plural("%num% filter%s%",a+k):"",components:g}}});YSLOW.registerRule({id:"yimgnoscale",url:"http://developer.yahoo.com/performance/rules.html#no_scale",category:["images"],config:{points:5},lint:function(c,h,a){var b,g,d,f=[],e=h.getComponentsByType("image");for(b=0;b<e.length;b+=1){g=e[b].object_prop;if(g&&typeof g.width!=="undefined"&&typeof g.height!=="undefined"&&typeof g.actual_width!=="undefined"&&typeof g.actual_height!=="undefined"){if(g.width<g.actual_width||g.height<g.actual_height){f.push(e[b])}}}d=100-f.length*parseInt(a.points,10);return{score:d,message:(f.length>0)?YSLOW.util.plural("There %are% %num% image%s% that %are% scaled down",f.length):"",components:f}}});YSLOW.registerRule({id:"yfavicon",url:"http://developer.yahoo.com/performance/rules.html#favicon",category:["images"],config:{points:5,size:2000,min_cache_time:3600},lint:function(i,k,b){var h,j,g,d,c,f=[],e=parseInt(b.min_cache_time,10)*1000,a=k.getComponentsByType("favicon");if(a.length){g=a[0];if(parseInt(g.status,10)===404){f.push("Favicon was not found")}if(g.size>b.size){f.push(YSLOW.util.plural("Favicon is more than %num% bytes",b.size))}j=g.expires;if(typeof j==="object"&&typeof j.getTime==="function"){h=new Date().getTime();c=j.getTime()>=h+e}if(!c){f.push("Favicon is not cacheable")}}d=100-f.length*parseInt(b.points,10);return{score:d,message:(f.length>0)?f.join("\n"):"",components:[]}}});YSLOW.registerRule({id:"yemptysrc",url:"http://developer.yahoo.com/performance/rules.html#emptysrc",category:["server"],config:{points:100},lint:function(h,k,b){var g,c,f,i=k.empty_url,e=[],d=[],a="",j=parseInt(b.points,10);c=100;if(i){for(g in i){if(i.hasOwnProperty(g)){f=i[g];c-=f*j;d.push(f+" "+g)}}a=d.join(", ")+YSLOW.util.plural(" component%s% with empty link were found.",d.length)}return{score:c,message:a,components:e}}});YSLOW.registerRuleset({id:"ydefault",name:"YSlow(V2)",rules:{ynumreq:{},ycdn:{},yemptysrc:{},yexpires:{},ycompress:{},ycsstop:{},yjsbottom:{},yexpressions:{},yexternal:{},ydns:{},yminify:{},yredirects:{},ydupes:{},yetags:{},yxhr:{},yxhrmethod:{},ymindom:{},yno404:{},ymincookie:{},ycookiefree:{},ynofilter:{},yimgnoscale:{},yfavicon:{}},weights:{ynumreq:8,ycdn:6,yemptysrc:30,yexpires:10,ycompress:8,ycsstop:4,yjsbottom:4,yexpressions:3,yexternal:4,ydns:3,yminify:4,yredirects:4,ydupes:4,yetags:2,yxhr:4,yxhrmethod:3,ymindom:3,yno404:4,ymincookie:3,ycookiefree:3,ynofilter:4,yimgnoscale:3,yfavicon:2}});YSLOW.registerRuleset({id:"yslow1",name:"Classic(V1)",rules:{ynumreq:{},ycdn:{},yexpires:{},ycompress:{},ycsstop:{},yjsbottom:{},yexpressions:{},yexternal:{},ydns:{},yminify:{types:["js"],check_inline:false},yredirects:{},ydupes:{types:["js"]},yetags:{}},weights:{ynumreq:8,ycdn:6,yexpires:10,ycompress:8,ycsstop:4,yjsbottom:4,yexpressions:3,yexternal:4,ydns:3,yminify:4,yredirects:4,ydupes:4,yetags:2}});YSLOW.registerRuleset({id:"yblog",name:"Small Site or Blog",rules:{ynumreq:{},yemptysrc:{},ycompress:{},ycsstop:{},yjsbottom:{},yexpressions:{},ydns:{},yminify:{},yredirects:{},ydupes:{},ymindom:{},yno404:{},ynofilter:{},yimgnoscale:{},yfavicon:{}},weights:{ynumreq:8,yemptysrc:30,ycompress:8,ycsstop:4,yjsbottom:4,yexpressions:3,ydns:3,yminify:4,yredirects:4,ydupes:4,ymindom:3,yno404:4,ynofilter:4,yimgnoscale:3,yfavicon:2}});YSLOW.ResultSet=function(c,b,a){this.ruleset_applied=a;this.overall_score=b;this.results=c};YSLOW.ResultSet.prototype={getResults:function(){return this.results},getRulesetApplied:function(){return this.ruleset_applied},getOverallScore:function(){return this.overall_score}};YSLOW.view=function(b,g){var e,d,f,a,c;this.panel_doc=b.document;this.buttonViews={};this.curButtonId="";this.panelNode=b.panelNode;this.loadCSS(this.panel_doc);e=this.panel_doc.createElement("div");e.id="toolbarDiv";e.innerHTML=this.getToolbarSource();e.style.display="block";d=this.panel_doc.createElement("div");d.style.display="block";f='<div class="dialog-box"><h1><div class="dialog-text">text</div></h1><div class="dialog-more-text"></div><div class="buttons"><input class="dialog-left-button" type="button" value="Ok" onclick="javascript:document.ysview.closeDialog(document)"><input class="dialog-right-button" type="button" value="Cancel" onclick="javascript:document.ysview.closeDialog(document)"></div></div><div class="dialog-mask"></div>';a=this.panel_doc.createElement("div");a.id="dialogDiv";a.innerHTML=f;a.style.display="none";this.modaldlg=a;this.tooltip=new YSLOW.view.Tooltip(this.panel_doc,b.panelNode);c=this.panel_doc.createElement("div");c.id="copyrightDiv";c.innerHTML=YSLOW.doc.copyright;this.copyright=c;if(b.panelNode){b.panelNode.id="yslowDiv";b.panelNode.appendChild(a);b.panelNode.appendChild(e);b.panelNode.appendChild(d);b.panelNode.appendChild(c)}this.viewNode=d;this.viewNode.id="viewDiv";this.viewNode.className="yui-skin-sam";this.yscontext=g;YSLOW.util.addEventListener(this.panelNode,"click",function(m){var i,j,h,n,k,l=b.document.ysview.getElementByTagNameAndId(b.panelNode,"div","toolbarDiv");if(l){j=b.document.ysview.getElementByTagNameAndId(l,"li","helpLink");if(j){h=j.offsetLeft;n=j.offsetTop;k=j.offsetParent;while(k){h+=k.offsetLeft;n+=k.offsetTop;k=k.offsetParent}if(m.clientX>=h&&m.clientY>=n&&m.clientX<h+j.offsetWidth&&m.clientY<n+j.offsetHeight){return}}i=b.document.ysview.getElementByTagNameAndId(l,"div","helpDiv")}if(i&&i.style.visibility==="visible"){i.style.visibility="hidden"}});YSLOW.util.addEventListener(this.panelNode,"scroll",function(i){var h=b.document.ysview.modaldlg;if(h&&h.style.display==="block"){h.style.top=b.panelNode.scrollTop+"px";h.style.left=b.panelNode.scrollLeft+"px"}});YSLOW.util.addEventListener(this.panelNode,"mouseover",function(i){var h;if(i.target&&typeof i.target==="object"){if(i.target.nodeName==="LABEL"&&i.target.className==="rules"){if(i.target.firstChild&&i.target.firstChild.nodeName==="INPUT"&&i.target.firstChild.type==="checkbox"){h=YSLOW.controller.getRule(i.target.firstChild.value);b.document.ysview.tooltip.show("<b>"+h.name+"</b><br><br>"+h.info,i.target)}}}});YSLOW.util.addEventListener(this.panelNode,"mouseout",function(h){b.document.ysview.tooltip.hide()});YSLOW.util.addEventListener(this.panel_doc.defaultView||this.panel_doc.parentWindow,"resize",function(i){var h=b.document.ysview.modaldlg;if(h&&h.style.display==="block"){h.style.display="none"}})};YSLOW.view.prototype={setDocument:function(a){this.panel_doc=a},loadCSS:function(){},addButtonView:function(a,c){var b=this.getButtonView(a);if(!b){b=this.panel_doc.createElement("div");b.style.display="none";this.viewNode.appendChild(b);this.buttonViews[a]=b}b.innerHTML=c;this.showButtonView(a)},clearAllButtonView:function(){var b=this.buttonViews,c=this.viewNode,a=function(d){if(b.hasOwnProperty(d)){c.removeChild(b[d]);delete b[d]}};a("ysPerfButton");a("ysCompsButton");a("ysStatsButton")},showButtonView:function(b){var a,c=this.getButtonView(b);if(!c){YSLOW.util.dump("ERROR: YSLOW.view.showButtonView: Couldn't find ButtonView '"+b+"'.");return}for(a in this.buttonViews){if(this.buttonViews.hasOwnProperty(a)&&a!==b){this.buttonViews[a].style.display="none"}}if(b==="ysPerfButton"){if(this.copyright){this.copyright.style.display="none"}}else{if(this.curButtonId==="ysPerfButton"){if(this.copyright){this.copyright.style.display="block"}}}c.style.display="block";this.curButtonId=b},getButtonView:function(a){return(this.buttonViews.hasOwnProperty(a)?this.buttonViews[a]:undefined)},setButtonView:function(a,c){var b=this.getButtonView(a);if(!b){YSLOW.util.dump("ERROR: YSLOW.view.setButtonView: Couldn't find ButtonView '"+a+"'.");return}b.innerHTML=c;this.showButtonView(a)},setSplashView:function(b,c,d){var g,f="Grade your web pages with YSlow",h="YSlow gives you:",e="<li>Grade based on the performance (you can define your own rules)</li><li>Summary of the Components in the page</li><li>Chart with statistics</li><li>Tools including Smush.It and JSLint</li>",a="Learn more about YSlow and YDN";if(YSLOW.doc.splash){if(YSLOW.doc.splash.title){f=YSLOW.doc.splash.title}if(YSLOW.doc.splash.content){if(YSLOW.doc.splash.content.header){h=YSLOW.doc.splash.content.header}if(YSLOW.doc.splash.content.text){e=YSLOW.doc.splash.content.text}}if(YSLOW.doc.splash.more_info){a=YSLOW.doc.splash.more_info}}if(typeof d!=="undefined"){YSLOW.hideToolsInfo=d}else{d=YSLOW.hideToolsInfo}if(d){e=e.replace(/<li>Tools[^<]+<\/li>/,"")}g='<div id="splashDiv"><div id="splashDivCenter"><b id="splashImg" width="250" height="150" alt="splash image" src="chrome://yslow/content/yslow/img/speedometer.png"></b><div id="left"><h2>'+f+'</h2><div id="content" class="padding50"><h3>'+h+'</h3><ul id="splashBullets">'+e+"</ul>";if(typeof b!=="undefined"){YSLOW.hideAutoRun=b}else{b=YSLOW.hideAutoRun}if(!b){g+='<label><input type="checkbox" name="autorun" onclick="javascript:document.ysview.setAutorun(this.checked)" ';if(YSLOW.util.Preference.getPref("extensions.yslow.autorun",false)){g+="checked"}g+="> Autorun YSlow each time a web page is loaded</label>"}if(typeof c!=="undefined"){YSLOW.showAntiIframe=c}else{c=YSLOW.showAntiIframe}if(c){g+='<label><input type="checkbox" onclick="javascript:document.ysview.setAntiIframe(this.checked)"> Check here if the current page prevents itself from being embedded/iframed. A simpler post onload detection will be used instead.</label>'}g+='<div id="runtestDiv"><button id="runtest-btn" onclick="javascript:document.ysview.runTest()">Run Test</button></div></div><div class="footer"><div class="moreinfo"><a href="javascript:document.ysview.openLink(\'https://developer.yahoo.com/yslow/\');"><b>&#187;</b>'+a+"</a></div></div></div></div></div>";this.addButtonView("panel_about",g)},genProgressView:function(){var a='<div id="progressDiv"><div id="peel"><p>Finding components in the page:</p><div id="peelprogress"><div id="progbar"></div></div><div id="progtext"></div></div><div id="fetch"><p>Getting component information:</p><div id="fetchprogress"><div id="progbar2"></div></div><div id="progtext2">start...</div></div></div>';this.setButtonView("panel_about",a)},updateProgressView:function(a,f){var e,h,i,g,j,b,c,d,k="";if(this.curButtonId==="panel_about"){j=this.getButtonView(this.curButtonId);if(a==="peel"){e=this.getElementByTagNameAndId(j,"div","peelprogress");h=this.getElementByTagNameAndId(j,"div","progbar");i=this.getElementByTagNameAndId(j,"div","progtext");k=f.message;g=(f.current_step*100)/f.total_step}else{if(a==="fetch"){e=this.getElementByTagNameAndId(j,"div","fetchprogress");h=this.getElementByTagNameAndId(j,"div","progbar2");i=this.getElementByTagNameAndId(j,"div","progtext2");k=f.last_component_url;g=(f.current*100)/f.total}else{if(a==="message"){i=this.getElementByTagNameAndId(j,"div","progtext2");if(i){i.innerHTML=f}return}else{return}}}}if(e&&h&&i){b=e.clientWidth;if(g<0){g=0}if(g>100){g=100}g=100-g;c=(b*g)/100;if(c>b){c=b}d=b-parseInt(c,10);h.style.width=parseInt(c,10)+"px";h.style.left=parseInt(d,10)+"px";i.innerHTML=k}},updateStatusBar:function(h){var j,c,k,d,a,b=YSLOW,e=b.util,g=b.view,i=e.Preference,f=this.yscontext;if(!f.PAGE.statusbar){f.PAGE.statusbar=true;if(!f.PAGE.overallScore){b.controller.lint(h,f)}if(!f.PAGE.totalSize){f.collectStats()}j=e.kbSize(f.PAGE.totalSize);c=e.prettyScore(f.PAGE.overallScore);g.setStatusBar(c,"yslow_status_grade");g.setStatusBar(j,"yslow_status_size");if(i.getPref("optinBeacon",false)){d=i.getPref("beaconInfo","basic"),a=i.getPref("beaconUrl","http://rtblab.pclick.yahoo.com/images/ysb.gif");k=e.getResults(f,d);e.sendBeacon(k,d,a)}}},getRulesetListSource:function(a){var e,c,d="",b=YSLOW.controller.getDefaultRulesetId();for(e in a){if(a[e]){d+='<option value="'+a[e].id+'" ';if(!c&&a[e].hasOwnProperty("custom")&&a[e].custom){c=true;d+='class="firstInGroup" '}if(b!==undefined&&e===b){d+="selected"}d+=">"+a[e].name+"</option>"}}return d},updateRulesetList:function(){var e,g,c,d=this.panel_doc.getElementsByTagName("select"),a=YSLOW.controller.getRegisteredRuleset(),b=this.getRulesetListSource(a),f=function(h){this.ownerDocument.ysview.onChangeRuleset(h)};for(e=0;e<d.length;e+=1){if(d[e].id==="toolbar-rulesetList"){g=d[e].parentNode;if(g&&g.id==="toolbar-ruleset"){c=this.panel_doc.createElement("select");if(c){c.id="toolbar-rulesetList";c.name="rulesets";c.onchange=f;c.innerHTML=b}g.replaceChild(c,d[e])}}}},getToolbarSource:function(){var b,a,d='<div id="menu">',c={home:"Home",grade:"Grade",components:"Components",stats:"Statistics",tools:"Tools"};if(YSLOW.doc&&YSLOW.doc.view_names){for(b in c){if(c.hasOwnProperty(b)&&YSLOW.doc.view_names[b]){c[b]=YSLOW.doc.view_names[b]}}}a=YSLOW.controller.getRegisteredRuleset();d='<div id="toolbar-ruleset" class="floatRight">Rulesets <select id="toolbar-rulesetList" name="rulesets" onchange="javascript:document.ysview.onChangeRuleset(event)">'+this.getRulesetListSource(a)+"</select>";d+='<button onclick="javascript:document.ysview.showRuleSettings()">Edit</button><ul id="tbActions"><li id="printLink" class="first"><a href="javascript:document.ysview.openPrintableDialog(document)"><b class="icon">&asymp;</b><em>Printable View</em></a></li><li id="helpLink"><a href="javascript:document.ysview.showHideHelp()"><b class="icon">?</b><em>Help &darr;</em></a></li></ul></div>';d+='<div id="helpDiv" class="help" style="visibility: hidden"><div><a href="javascript:document.ysview.openLink(\'http://developer.yahoo.com/yslow/help/\')">YSlow Help</a></div><div><a href="javascript:document.ysview.openLink(\'http://developer.yahoo.com/yslow/faq.html\')">YSlow FAQ</a></div><div class="new-section"><a href="javascript:document.ysview.openLink(\'http://developer.yahoo.net/blog/archives/performance/\')">YSlow Blog</a></div><div><a href="javascript:document.ysview.openLink(\'http://tech.groups.yahoo.com/group/exceptional-performance/\')">YSlow Community</a></div><div class="new-section"><a href="javascript:document.ysview.openLink(\'http://developer.yahoo.com/yslow/feedback.html\')">Send Feedback</a></div><div class="new-section"><div><a class="social yslow" href="javascript:document.ysview.openLink(\'http://developer.yahoo.com/yslow/\')">YSlow Home</a></div><div><a class="social facebook" href="javascript:document.ysview.openLink(\'http://www.facebook.com/getyslow\')">Like YSlow</a></div><div><a class="social twitter" href="javascript:document.ysview.openLink(\'http://twitter.com/getyslow\')">Follow YSlow</a></div></div><div class="new-section" id="help-version">Version '+YSLOW.version+"</div></div>";d+='<div id="nav-menu"><ul class="yui-nav" id="toolbarLinks"><li class="first selected off" id="ysHomeButton"><a href="javascript:document.ysview.setSplashView()" onclick="javascript:document.ysview.onclickToolbarMenu(event)"><em>'+c.home+'</em><span class="pipe"/></a></li><li id="ysPerfButton"><a href="javascript:document.ysview.showPerformance()" onclick="javascript:document.ysview.onclickToolbarMenu(event)"><em>'+c.grade+'</em><span class="pipe"/></a></li><li id="ysCompsButton"><a href="javascript:document.ysview.showComponents()" onclick="javascript:document.ysview.onclickToolbarMenu(event)"><em>'+c.components+'</em><span class="pipe"/></a></li><li id="ysStatsButton"><a href="javascript:document.ysview.showStats()" onclick="javascript:document.ysview.onclickToolbarMenu(event)"><em>'+c.stats+'</em><span class="pipe"/></a></li><li id="ysToolButton"><a href="javascript:document.ysview.showTools()" onclick="javascript:document.ysview.onclickToolbarMenu(event)"><em>'+c.tools+"</em></a></li></ul></div>";d+="</div>";return d},show:function(b){var c="html",a="";b=b||this.yscontext.defaultview;if(this.yscontext.component_set===null){YSLOW.controller.run(window.top.content,this.yscontext,false);this.yscontext.defaultview=b}else{if(this.getButtonView(b)){this.showButtonView(b)}else{if("ysCompsButton"===b){a+=this.yscontext.genComponents(c);this.addButtonView("ysCompsButton",a)}else{if("ysStatsButton"===b){a+=this.yscontext.genStats(c);this.addButtonView("ysStatsButton",a);YSLOW.renderer.plotComponents(this.getButtonView("ysStatsButton"),this.yscontext)}else{if("ysToolButton"===b){a+=this.yscontext.genToolsView(c);this.addButtonView("ysToolButton",a)}else{a+=this.yscontext.genPerformance(c);this.addButtonView("ysPerfButton",a)}}}}this.panelNode.scrollTop=0;this.panelNode.scrollLeft=0;this.updateStatusBar(this.yscontext.document);this.updateToolbarSelection()}},updateToolbarSelection:function(){var a,b,c;switch(this.curButtonId){case"ysCompsButton":case"ysPerfButton":case"ysStatsButton":case"ysToolButton":a=this.getElementByTagNameAndId(this.panelNode,"li",this.curButtonId);if(a){if(a.className.indexOf("selected")!==-1){return}else{a.className+=" selected";if(a.previousSibling){a.previousSibling.className+=" off"}}}break;default:break}b=this.getElementByTagNameAndId(this.panelNode,"ul","toolbarLinks");c=b.firstChild;while(c){if(c.id!==this.curButtonId&&c.className.indexOf("selected")!==-1){this.unselect(c);if(c.previousSibling){YSLOW.view.removeClassName(c.previousSibling,"off")}}c=c.nextSibling}},showPerformance:function(){this.show("ysPerfButton")},showStats:function(){this.show("ysStatsButton")},showComponents:function(){this.show("ysCompsButton")},showTools:function(){this.show("ysToolButton")},showRuleSettings:function(){var a=this.yscontext.genRulesetEditView("html");this.addButtonView("ysRuleEditButton",a);this.panelNode.scrollTop=0;this.panelNode.scrollLeft=0;this.updateToolbarSelection()},runTest:function(){YSLOW.controller.run(window.top.content,this.yscontext,false)},setAutorun:function(a){YSLOW.util.Preference.setPref("extensions.yslow.autorun",a)},setAntiIframe:function(a){YSLOW.antiIframe=a},addCDN:function(k){var d,b,f=this,h=document,l=f.yscontext,m=YSLOW.util.Preference,g=m.getPref("cdnHostnames",""),a=f.panel_doc,c=a.getElementById("tab-label-list"),j=c.getElementsByTagName("li"),e=j.length;if(g){g=g.replace(/\s+/g,"").split(",");g.push(k);g=g.join()}else{g=k}m.setPref("extensions.yslow.cdnHostnames",g);for(d=0;d<e;d+=1){c=j[d];if(c.className.indexOf("selected")>-1){b=c.id;break}}YSLOW.controller.lint(l.document,l);f.addButtonView("ysPerfButton",l.genPerformance("html"));YSLOW.view.restoreStatusBar(l);f.updateToolbarSelection();c=a.getElementById(b);f.onclickTabLabel({currentTarget:c},true)},onChangeRuleset:function(d){var e,b,f,g,a=YSLOW.util.getCurrentTarget(d),c=a.options[a.selectedIndex];YSLOW.controller.setDefaultRuleset(c.value);e=a.ownerDocument;b="Do you want to run the selected ruleset now?";f="Run Test";g=function(i){var h;e.ysview.closeDialog(e);if(e.yslowContext.component_set===null){YSLOW.controller.run(e.yslowContext.document.defaultView||e.yslowContext.document.parentWindow,e.yslowContext,false)}else{YSLOW.controller.lint(e.yslowContext.document,e.yslowContext)}h=e.yslowContext.genPerformance("html");e.ysview.addButtonView("ysPerfButton",h);e.ysview.panelNode.scrollTop=0;e.ysview.panelNode.scrollLeft=0;YSLOW.view.restoreStatusBar(e.yslowContext);e.ysview.updateToolbarSelection()};this.openDialog(e,389,150,b,undefined,f,g)},onclickTabLabel:function(a,g){var c,b,d,i,k,j,f,l=YSLOW.util.getCurrentTarget(a),h=l.parentNode,e=h.nextSibling;if(l.className.indexOf("selected")!==-1||l.id.indexOf("label")===-1){return false}if(h){c=h.firstChild;while(c){if(this.unselect(c)){b=c.id.substring(5);break}c=c.nextSibling}l.className+=" selected";d=l.id.substring(5);c=e.firstChild;while(c){f=c.id.substring(3);if(!i&&b&&f===b){if(c.className.indexOf("yui-hidden")===-1){c.className+=" yui-hidden"}i=true}if(!k&&d&&f===d){YSLOW.view.removeClassName(c,"yui-hidden");k=true;j=c}if((i||!b)&&(k||!d)){break}c=c.nextSibling}if(g===true&&k===true&&j){this.positionResultTab(j,e,l)}}return false},positionResultTab:function(b,a,g){var e,i,j,f=5,h=this.panel_doc,d=h.defaultView||h.parentWindow,c=d.offsetHeight?d.offsetHeight:d.innerHeight,k=g.offsetTop+b.offsetHeight;a.style.height=k+"px";b.style.position="absolute";b.style.left=g.offsetLeft+g.offsetWidth+"px";b.style.top=g.offsetTop+"px";e=b.offsetTop;i=b.offsetParent;while(i!==null){e+=i.offsetTop;i=i.offsetParent}if(e<this.panelNode.scrollTop||e+b.offsetHeight>this.panelNode.scrollTop+c){if(e<this.panelNode.scrollTop){this.panelNode.scrollTop=e-f}else{j=e+b.offsetHeight-this.panelNode.scrollTop-c+f;if(j>e-this.panelNode.scrollTop){j=e-this.panelNode.scrollTop}this.panelNode.scrollTop+=j}}},onclickResult:function(a){YSLOW.util.preventDefault(a);return this.onclickTabLabel(a,true)},unselect:function(a){return YSLOW.view.removeClassName(a,"selected")},filterResult:function(j,a){var f,e,b,g,c,h,d,i=this.getButtonView("ysPerfButton");if(a==="all"){e=true}if(i){f=this.getElementByTagNameAndId(i,"ul","tab-label-list")}if(f){b=f.firstChild;d=f.nextSibling;c=d.firstChild;while(b){YSLOW.view.removeClassName(b,"first");if(e||b.className.indexOf(a)!==-1){b.style.display="block";if(g===undefined){g=c;h=b;YSLOW.view.removeClassName(c,"yui-hidden");b.className+=" first";if(b.className.indexOf("selected")===-1){b.className+=" selected"}b=b.nextSibling;c=c.nextSibling;continue}}else{b.style.display="none"}if(c.className.indexOf("yui-hidden")===-1){c.className+=" yui-hidden"}this.unselect(b);b=b.nextSibling;c=c.nextSibling}if(g){this.positionResultTab(g,d,h)}}},updateFilterSelection:function(c){var a,b=YSLOW.util.getCurrentTarget(c);YSLOW.util.preventDefault(c);if(b.className.indexOf("selected")!==-1){return}b.className+=" selected";a=b.parentNode.firstChild;while(a){if(a!==b&&this.unselect(a)){break}a=a.nextSibling}this.filterResult(b.ownerDocument,b.id)},onclickToolbarMenu:function(a){var e,c=YSLOW.util.getCurrentTarget(a),d=c.parentNode,b=d.parentNode;if(d.className.indexOf("selected")!==-1){return}d.className+=" selected";if(d.previousSibling){d.previousSibling.className+=" off"}if(b){e=b.firstChild;while(e){if(e!==d&&this.unselect(e)){if(e.previousSibling){YSLOW.view.removeClassName(e.previousSibling,"off")}break}e=e.nextSibling}}},expandCollapseComponentType:function(e,b){var c,d=YSLOW.controller.getRenderer("html"),a=this.getButtonView("ysCompsButton");if(a){c=this.getElementByTagNameAndId(a,"table","components-table");d.expandCollapseComponentType(e,c,b)}},expandAll:function(d){var b,c=YSLOW.controller.getRenderer("html"),a=this.getButtonView("ysCompsButton");if(a){b=this.getElementByTagNameAndId(a,"table","components-table");c.expandAllComponentType(d,b)}},regenComponentsTable:function(f,e,b){var c,d=YSLOW.controller.getRenderer("html"),a=this.getButtonView("ysCompsButton");if(a){c=this.getElementByTagNameAndId(a,"table","components-table");d.regenComponentsTable(f,c,e,b,this.yscontext.component_set)}},showComponentHeaders:function(c){var b,d,a=this.getButtonView("ysCompsButton");if(a){b=this.getElementByTagNameAndId(a,"tr",c);if(b){d=b.firstChild;if(b.style.display==="none"){b.style.display="table-row"}else{b.style.display="none"}}}},openLink:function(a){YSLOW.util.openLink(a)},openPopup:function(c,b,e,a,d){window.open(c,b||"_blank","width="+(e||626)+",height="+(a||436)+","+(d||"toolbar=0,status=1,location=1,resizable=1"))},runTool:function(a,b){YSLOW.controller.runTool(a,this.yscontext,b)},onclickRuleset:function(f){var c,b,a,e,g=YSLOW.util.getCurrentTarget(f),d=g.className.indexOf("ruleset-");YSLOW.util.preventDefault(f);if(d!==-1){b=g.className.indexOf(" ",d+8);if(b!==-1){c=g.className.substring(d+8,b)}else{c=g.className.substring(d+8)}a=this.getButtonView("ysRuleEditButton");if(a){e=this.getElementByTagNameAndId(a,"form","edit-form");YSLOW.renderer.initRulesetEditForm(g.ownerDocument,e,YSLOW.controller.getRuleset(c))}}return this.onclickTabLabel(f,false)},openSaveAsDialog:function(c,b){var a='<label>Save ruleset as: <input type="text" id="saveas-name" class="text-input" name="saveas-name" length="100" maxlength="100"></label>',d="Save",e=function(l){var i,g,f,j,h,k=YSLOW.util.getCurrentTarget(l).ownerDocument;if(k.ysview.modaldlg){i=k.ysview.getElementByTagNameAndId(k.ysview.modaldlg,"input","saveas-name")}if(i){if(YSLOW.controller.checkRulesetName(i.value)===true){g=a+'<div class="error">'+i.value+" ruleset already exists.</div>";k.ysview.closeDialog(k);k.ysview.openDialog(k,389,150,g,"",d,e)}else{f=k.ysview.getButtonView("ysRuleEditButton");if(f){j=k.ysview.getElementByTagNameAndId(f,"form",b);h=k.createElement("input");h.type="hidden";h.name="saveas-name";h.value=i.value;j.appendChild(h);j.submit()}k.ysview.closeDialog(k)}}};this.openDialog(c,389,150,a,undefined,d,e)},openPrintableDialog:function(d){var c="Please run YSlow first before using Printable View.",b="Check which information you want to view or print<br>",a='<div id="printOptions"><label><input type="checkbox" name="print-type" value="grade" checked>Grade</label><label><input type="checkbox" name="print-type" value="components" checked>Components</label><label><input type="checkbox" name="print-type" value="stats" checked>Statistics</label></div>',e="Ok",f=function(j){var g,h=YSLOW.util.getCurrentTarget(j).ownerDocument,l=h.getElementsByName("print-type"),k={};for(g=0;g<l.length;g+=1){if(l[g].checked){k[l[g].value]=1}}h.ysview.closeDialog(h);h.ysview.runTool("printableview",{options:k,yscontext:h.yslowContext})};if(d.yslowContext.component_set===null){this.openDialog(d,389,150,c,"","Ok");return}this.openDialog(d,389,150,b,a,e,f)},getElementByTagNameAndId:function(c,d,e){var a,b;if(c){b=c.getElementsByTagName(d);if(b.length>0){for(a=0;a<b.length;a+=1){if(b[a].id===e){return b[a]}}}}return null},openDialog:function(w,o,n,h,g,e,r){var q,p,s,l,k,a,b,d,u,f,c,m,t=this.modaldlg,v=t.getElementsByTagName("div");for(q=0;q<v.length;q+=1){if(v[q].className&&v[q].className.length>0){if(v[q].className==="dialog-box"){s=v[q]}else{if(v[q].className==="dialog-text"){l=v[q]}else{if(v[q].className==="dialog-more-text"){k=v[q]}}}}}if(t&&s&&l&&k){l.innerHTML=(h?h:"");k.innerHTML=(g?g:"");b=t.getElementsByTagName("input");for(p=0;p<b.length;p+=1){if(b[p].className==="dialog-left-button"){a=b[p]}}if(a){a.value=e;a.onclick=r||function(i){w.ysview.closeDialog(w)}}d=w.defaultView||w.parentWindow;u=d.innerWidth;f=d.innerHeight;c=Math.floor((u-o)/2);m=Math.floor((f-n)/2);s.style.left=((c&&c>0)?c:225)+"px";s.style.top=((m&&m>0)?m:80)+"px";t.style.left=this.panelNode.scrollLeft+"px";t.style.top=this.panelNode.scrollTop+"px";t.style.display="block";if(b.length>0){b[0].focus()}}},closeDialog:function(b){var a=this.modaldlg;a.style.display="none"},saveRuleset:function(e,b){var c,d=YSLOW.controller.getRenderer("html"),a=this.getButtonView("ysRuleEditButton");if(a){c=this.getElementByTagNameAndId(a,"form",b);d.saveRuleset(e,c)}},deleteRuleset:function(e,b){var c,d=YSLOW.controller.getRenderer("html"),a=this.getButtonView("ysRuleEditButton");if(a){c=this.getElementByTagNameAndId(a,"form",b);d.deleteRuleset(e,c)}},shareRuleset:function(f,d){var a,h,e,i,g,b=YSLOW.controller.getRenderer("html"),c=this.getButtonView("ysRuleEditButton");if(c){a=this.getElementByTagNameAndId(c,"form",d);h=b.getEditFormRulesetId(a);e=YSLOW.controller.getRuleset(h);if(e){i=YSLOW.Exporter.exportRuleset(e);if(i){g="<label>"+i.message+"</label>";this.openDialog(f,389,150,g,"","Ok")}}}},createRuleset:function(c,b){var a,d,f=c.parentNode,e=f.parentNode,g=e.firstChild;while(g){this.unselect(g);g=g.nextSibling}a=this.getButtonView("ysRuleEditButton");if(a){d=this.getElementByTagNameAndId(a,"form",b);YSLOW.renderer.initRulesetEditForm(this.panel_doc,d)}},showHideHelp:function(){var a,b=this.getElementByTagNameAndId(this.panelNode,"div","toolbarDiv");if(b){a=this.getElementByTagNameAndId(b,"div","helpDiv")}if(a){if(a.style.visibility==="visible"){a.style.visibility="hidden"}else{a.style.visibility="visible"}}},smushIt:function(b,a){YSLOW.util.smushIt(a,function(g){var e,d,f,h,c="";if(g.error){c+="<br><div>"+g.error+"</div>"}else{f=YSLOW.util.getSmushUrl();h=YSLOW.util.makeAbsoluteUrl(g.dest,f);c+="<div>Original size: "+g.src_size+" bytes</div><div>Result size: "+g.dest_size+" bytes</div><div>% Savings: "+g.percent+"%</div><div><a href=\"javascript:document.ysview.openLink('"+h+"')\">Click here to view or save the result image.</a></div>"}e='<div class="smushItResult"><div>Image: '+YSLOW.util.briefUrl(a,250)+"</div></div>";d=c;b.ysview.openDialog(b,389,150,e,d,"Ok")})},checkAllRules:function(f,c,b){var d,a,e,g;if(typeof b!=="boolean"){return}a=this.getButtonView("ysRuleEditButton");if(a){e=this.getElementByTagNameAndId(a,"form",c);g=e.elements;for(d=0;d<g.length;d+=1){if(g[d].type==="checkbox"){g[d].checked=b}}}}};YSLOW.view.Tooltip=function(b,a){this.tooltip=b.createElement("div");if(this.tooltip){this.tooltip.id="tooltipDiv";this.tooltip.innerHTML="";this.tooltip.style.display="none";if(a){a.appendChild(this.tooltip)}}this.timer=null};YSLOW.view.Tooltip.prototype={show:function(c,b){var a=this;this.text=c;this.target=b;this.tooltipData={text:c,target:b};this.timer=YSLOW.util.setTimer(function(){a.showX()},500)},showX:function(){if(this.tooltipData){this.showTooltip(this.tooltipData.text,this.tooltipData.target)}this.timer=null},showTooltip:function(o,g){var e,p,n,d,c,b,h,k=10,j=0,i=0,m=g.ownerDocument,f=m.defaultView||m.parentWindow,l=f.offsetWidth?f.offsetWidth:f.innerWidth,a=f.offsetHeight?f.offsetHeight:f.innerHeight;this.tooltip.innerHTML=o;this.tooltip.style.display="block";e=this.tooltip.offsetWidth;p=this.tooltip.offsetHeight;if(e>l||p>a){this.tooltip.style.display="none";return}n=g.offsetParent;while(n!==null){j+=n.offsetLeft;i+=n.offsetTop;n=n.offsetParent}j+=g.offsetLeft;i+=g.offsetTop;if(j<m.ysview.panelNode.scrollLeft||i<m.ysview.panelNode.scrollTop||(i+g.offsetHeight>m.ysview.panelNode.scrollTop+a)){this.tooltip.style.display="none";return}d=j+g.offsetWidth/2;c=i+g.offsetHeight/2;if(j+g.offsetWidth+k+e<l){j+=g.offsetWidth+k;if((i>=m.ysview.panelNode.scrollTop)&&(i-k+p+k<=m.ysview.panelNode.scrollTop+a)){i=i-k;b="right top"}else{i+=g.offsetHeight-p;b="right bottom"}}else{if(i-p-k>=m.ysview.panelNode.scrollTop){i-=p+k;b="top"}else{i+=g.offsetHeight+k;b="bottom"}h=Math.floor(d-e/2);if((h>=m.ysview.panelNode.scrollLeft)&&(h+e<=m.ysview.panelNode.scrollLeft+l)){j=h}else{if(h<m.ysview.panelNode.scrollLeft){j=m.ysview.panelNode.scrollLeft}else{j=m.ysview.panelNode.scrollLeft+l-k-e}}}if(b){this.tooltip.className=b}this.tooltip.style.left=j+"px";this.tooltip.style.top=i+"px"},hide:function(){if(this.timer){clearTimeout(this.timer)}this.tooltip.style.display="none"}};YSLOW.view.setStatusBar=function(c,a){var b=document.getElementById(a||"yslow_status_grade");if(b){b.value=c}};YSLOW.view.clearStatusBar=function(){this.setStatusBar("","yslow_status_time");this.setStatusBar("YSlow","yslow_status_grade");this.setStatusBar("","yslow_status_size")};YSLOW.view.restoreStatusBar=function(d){var c,a,b;if(d){if(d.PAGE.overallScore){c=YSLOW.util.prettyScore(d.PAGE.overallScore);this.setStatusBar(c,"yslow_status_grade")}if(d.PAGE.totalSize){a=YSLOW.util.kbSize(d.PAGE.totalSize);this.setStatusBar(a,"yslow_status_size")}if(d.PAGE.t_done){b=d.PAGE.t_done/1000+"s";this.setStatusBar(b,"yslow_status_time")}}};YSLOW.view.toggleStatusBar=function(a){document.getElementById("yslow-status-bar").hidden=a};YSLOW.view.removeClassName=function(c,a){var b,d;if(c&&c.className&&c.className.length>0&&a&&a.length>0){d=c.className.split(" ");for(b=0;b<d.length;b+=1){if(d[b]===a){d.splice(b,1);c.className=d.join(" ");return true}}}return false};YSLOW.context=function(a){this.document=a;this.component_set=null;this.result_set=null;this.onloadTimestamp=null;if(YSLOW.renderer){YSLOW.renderer.reset()}this.PAGE={totalSize:0,totalRequests:0,totalObjCount:{},totalObjSize:{},totalSizePrimed:0,totalRequestsPrimed:0,totalObjCountPrimed:{},totalObjSizePrimed:{},canvas_data:{},statusbar:false,overallScore:0,t_done:undefined,loaded:false}};YSLOW.context.prototype={defaultview:"ysPerfButton",computeStats:function(l){var e,k,d,h,m,o,n,c,j,a,f={},g={},b=0;if(!this.component_set){return}e=this.component_set.components;if(!e){return}for(h=0,m=e.length;h<m;h+=1){k=e[h];if(!l||!k.hasFarFutureExpiresOrMaxAge()){b+=1;d=k.type;f[d]=(typeof f[d]==="undefined"?1:f[d]+1);o=0;if(!l||!k.hasOldModifiedDate()){if(k.compressed==="gzip"||k.compressed==="deflate"){if(k.size_compressed){o=parseInt(k.size_compressed,10)}}else{o=k.size}}g[d]=(typeof g[d]==="undefined"?o:g[d]+o)}}n=0;c=YSLOW.peeler.types;j={};for(h=0;h<c.length;h+=1){a=c[h];if(typeof f[a]!=="undefined"){if(g[a]>0){j[a]=g[a]}n+=g[a]}}return{total_size:n,num_requests:b,count_obj:f,size_obj:g,canvas_data:j}},collectStats:function(){var a=this.computeStats();if(a!==undefined){this.PAGE.totalSize=a.total_size;this.PAGE.totalRequests=a.num_requests;this.PAGE.totalObjCount=a.count_obj;this.PAGE.totalObjSize=a.size_obj;this.PAGE.canvas_data.empty=a.canvas_data}a=this.computeStats(true);if(a){this.PAGE.totalSizePrimed=a.total_size;this.PAGE.totalRequestsPrimed=a.num_requests;this.PAGE.totalObjCountPrimed=a.count_obj;this.PAGE.totalObjSizePrimed=a.size_obj;this.PAGE.canvas_data.primed=a.canvas_data}},genPerformance:function(b,a){if(this.result_set===null){if(!a){a=this.document}YSLOW.controller.lint(a,this)}return YSLOW.controller.render(b,"reportcard",{result_set:this.result_set})},genStats:function(b){var a={};if(!this.PAGE.totalSize){this.collectStats()}a.PAGE=this.PAGE;return YSLOW.controller.render(b,"stats",{stats:a})},genComponents:function(a){if(!this.PAGE.totalSize){this.collectStats()}return YSLOW.controller.render(a,"components",{comps:this.component_set.components,total_size:this.PAGE.totalSize})},genToolsView:function(b){var a=YSLOW.Tools.getAllTools();return YSLOW.controller.render(b,"tools",{tools:a})},genRulesetEditView:function(a){return YSLOW.controller.render(a,"rulesetEdit",{rulesets:YSLOW.controller.getRegisteredRuleset()})}};YSLOW.renderer={sortBy:"type",sortDesc:false,bPrintable:false,colors:{doc:"#8963df",redirect:"#FC8C8C",iframe:"#FFDFDF",xhr:"#89631f",flash:"#8D4F5B",js:"#9fd0e8",css:"#aba5eb",cssimage:"#677ab8",image:"#d375cd",favicon:"#a26c00",unknown:"#888888"},reset:function(){this.sortBy="type";this.sortDesc=false},genStats:function(j,k){var f,g,c,b,m,h,a,e,d="",l=0;if(!j.PAGE){return""}if(k){f=j.PAGE.totalObjCountPrimed;g=j.PAGE.totalObjSizePrimed;c=j.PAGE.totalRequestsPrimed;l=j.PAGE.totalSizePrimed}else{f=j.PAGE.totalObjCount;g=j.PAGE.totalObjSize;c=j.PAGE.totalRequests;l=j.PAGE.totalSize}b=YSLOW.peeler.types;m=(k)?"primed":"empty";for(h=0;h<b.length;h+=1){a=b[h];if(typeof f[a]!=="undefined"){d+='<tr><td class="legend"><div class="stats-legend" style="background: '+this.colors[a]+'">&nbsp;</div></td><td class="count">'+f[a]+'</td><td class="type">'+YSLOW.util.prettyType(a)+'</td><td class="size">'+YSLOW.util.kbSize(g[a])+"</td></tr>"}}e='<div id="stats-detail"><div class="summary-row">HTTP Requests - '+c+'</div><div class="summary-row-2">Total Weight - '+YSLOW.util.kbSize(l)+'</div><table id="stats-table">'+d+"</table></div>";return e},plotComponents:function(a,b){if(typeof a!=="object"){return}this.plotOne(a,b.PAGE.canvas_data.empty,b.PAGE.totalSize,"comp-canvas-empty");this.plotOne(a,b.PAGE.canvas_data.primed,b.PAGE.totalSizePrimed,"comp-canvas-primed")},plotOne:function(l,d,k,j){var c,e,n,b,h,a,g,o,f,m=l.getElementsByTagName("canvas");for(e=0;e<m.length;e+=1){if(m[e].id===j){c=m[e]}}if(!c){return}n=c.getContext("2d");b=[c.width,c.height];h=Math.min(b[0],b[1])/2;a=[b[0]/2,b[1]/2];g=0;for(o in d){if(d.hasOwnProperty(o)&&d[o]){f=d[o]/k;n.beginPath();n.moveTo(a[0],a[1]);n.arc(a[0],a[1],h,Math.PI*(-0.5+2*g),Math.PI*(-0.5+2*(g+f)),false);n.lineTo(a[0],a[1]);n.closePath();n.fillStyle=this.colors[o];n.fill();g+=f}}},getComponentHeadersTable:function(a){var c,b='<table><tr class="respHeaders"><td colspan=2>Response Headers</td></tr>';for(c in a.headers){if(a.headers.hasOwnProperty(c)&&a.headers[c]){b+='<tr><td class="param-name">'+YSLOW.util.escapeHtml(YSLOW.util.formatHeaderName(c))+'</td><td class="param-value">'+YSLOW.util.escapeHtml(a.headers[c])+"</td></tr>"}}if(a.req_headers){b+='<tr class="reqHeaders"><td colspan=2>Request Headers</td></tr>';for(c in a.req_headers){if(a.req_headers.hasOwnProperty(c)&&a.req_headers[c]){b+='<tr><td class="param-name">'+YSLOW.util.escapeHtml(YSLOW.util.formatHeaderName(c))+'</td><td class="param-value"><p>'+YSLOW.util.escapeHtml(a.req_headers[c])+"</p></td></tr>"}}}b+="</table>";return b},genComponentRow:function(g,f,b,e){var c,l,d,a,k,j,h;if(typeof b!=="string"){b=""}if(f.status>=400&&f.status<500){b+=" compError"}if(f.after_onload===true){b+=" afteronload"}c="compHeaders"+f.id;l='<tr class="'+b+" type-"+f.type+'"'+(e?' style="display:none"':"")+">";for(d in g){if(g.hasOwnProperty(d)){a=d;k="";if(d==="type"){k+=f[d];if(f.is_beacon){k+=" &#8224;"}if(f.after_onload){k+=" *"}}else{if(d==="size"){k+=YSLOW.util.kbSize(f.size)}else{if(d==="url"){if(f.status>=400&&f.status<500){l+='<td class="'+a+'">'+f[d]+" (status: "+f.status+")</td>";continue}else{k+=YSLOW.util.prettyAnchor(f[d],f[d],undefined,!YSLOW.renderer.bPrintable,100,1,f.type)}}else{if(d==="gzip"&&(f.compressed==="gzip"||f.compressed==="deflate")){k+=(f.size_compressed!==undefined?YSLOW.util.kbSize(f.size_compressed):"uncertain")}else{if(d==="set-cookie"){j=f.getSetCookieSize();k+=j>0?j:""}else{if(d==="cookie"){h=f.getReceivedCookieSize();k+=h>0?h:""}else{if(d==="etag"){k+=f.getEtag()}else{if(d==="expires"){k+=YSLOW.util.prettyExpiresDate(f.expires)}else{if(d==="headers"){if(YSLOW.renderer.bPrintable){continue}if(f.raw_headers&&f.raw_headers.length>0){k+="<a href=\"javascript:document.ysview.showComponentHeaders('"+c+'\')"><b class="mag"></b></a>'}}else{if(d==="action"){if(YSLOW.renderer.bPrintable){continue}if(f.type==="cssimage"||f.type==="image"){if(f.response_type===undefined||f.response_type==="image"){k+="<a href=\"javascript:document.ysview.smushIt(document, '"+f.url+"')\">smush.it</a>"}}}else{if(f[d]!==undefined){k+=f[d]}}}}}}}}}}}l+='<td class="'+a+'">'+k+"</td>"}}l+="</tr>";if(f.raw_headers&&f.raw_headers.length>0){l+='<tr id="'+c+'" class="headers" style="display:none;"><td colspan="12">'+this.getComponentHeadersTable(f)+"</td></tr>"}return l},componentSortCallback:function(c,l){var d,f,g,j="",h="",k=YSLOW.renderer.sortBy,e=YSLOW.renderer.sortDesc;switch(k){case"type":j=c.type;h=l.type;break;case"size":j=c.size?Number(c.size):0;h=l.size?Number(l.size):0;break;case"gzip":j=c.size_compressed?Number(c.size_compressed):0;h=l.size_compressed?Number(l.size_compressed):0;break;case"set-cookie":j=c.getSetCookieSize();h=l.getSetCookieSize();break;case"cookie":j=c.getReceivedCookieSize();h=l.getReceivedCookieSize();break;case"headers":break;case"url":j=c.url;h=l.url;break;case"respTime":j=c.respTime?Number(c.respTime):0;h=l.respTime?Number(l.respTime):0;break;case"etag":j=c.getEtag();h=l.getEtag();break;case"action":if(c.type==="cssimage"||c.type==="image"){j="smush.it"}if(l.type==="cssimage"||l.type==="image"){h="smush.it"}break;case"expires":j=c.expires||0;h=l.expires||0;break}if(j===h){if(c.id>l.id){return(e)?-1:1}if(c.id<l.id){return(e)?1:-1}}if(k==="type"){f=YSLOW.peeler.types;for(d=0,g=f.length;d<g;d+=1){if(c.type===f[d]){return(e)?1:-1}if(l.type===f[d]){return(e)?-1:1}}}if(j>h){return(e)?-1:1}if(j<h){return(e)?1:-1}return 0},sortComponents:function(d,c,b){var a=d;this.sortBy=c;this.sortDesc=b;a.sort(this.componentSortCallback);return a},genRulesCheckbox:function(k){var c,a,i,b,g="",m=0,l=YSLOW.controller.getRegisteredRules(),e=0,h='<div class="column1">',f='<div class="column2">',d='<div class="column3">';for(a in l){if(l.hasOwnProperty(a)&&l[a]){i=l[a];c='<label class="rules"><input id="rulesetEditRule'+a+'" name="rules" value="'+a+'" type="checkbox"'+(k.rules[a]?" checked":"")+">"+i.name+"</label><br>";if(k.rules[a]!==undefined){m+=1}if(k.weights!==undefined&&k.weights[a]!==undefined){g+='<input type="hidden" name="weight-'+a+'" value="'+k.weights[i.id]+'">'}b=(e%3);switch(b){case 0:h+=c;break;case 1:f+=c;break;case 2:d+=c;break}e+=1}}h+="</div>";f+="</div>";d+="</div>";return'<h4><span id="rulesetEditFormTitle">'+k.name+'</span> Ruleset <span id="rulesetEditFormNumRules" class="font10">(includes '+parseInt(m,10)+" of "+parseInt(e,10)+' rules)</span></h4><div class="rulesColumns"><table><tr><td>'+h+"</td><td>"+f+"</td><td>"+d+'</td></tr></table><div id="rulesetEditWeightsDiv" class="weightsDiv">'+g+"</div></div>"},genRulesetEditForm:function(a){var b="";b+='<div id="rulesetEditFormDiv"><form id="edit-form" action="javascript:document.ysview.saveRuleset(document, \'edit-form\')"><div class="floatRight"><a href="javascript:document.ysview.checkAllRules(document, \'edit-form\', true)">Check All</a>|<a href="javascript:document.ysview.checkAllRules(document, \'edit-form\', false)">Uncheck All</a></div>'+YSLOW.renderer.genRulesCheckbox(a)+'<div class="buttons"><input type="button" value="Save ruleset as ..." onclick="javascript:document.ysview.openSaveAsDialog(document, \'edit-form\')"><span id="rulesetEditCustomButtons" style="visibility: '+(a.custom===true?"visible":"hidden")+'"><input type="button" value="Save" onclick="this.form.submit()"><!--<input type="button" value="Share" onclick="javascript:document.ysview.shareRuleset(document, \'edit-form\')">--><input class="btn_delete" type="button" value="Delete" onclick="javascript:document.ysview.deleteRuleset(document, \'edit-form\')"></span></div><div id="rulesetEditRulesetId"><input type="hidden" name="ruleset-id" value="'+a.id+'"></div><div id="rulesetEditRulesetName"><input type="hidden" name="ruleset-name" value="'+a.name+'"></div></form></div>';return b},initRulesetEditForm:function(u,b,p){var o,r,q,n,s,w,g,v,f,k,a,e,m,c=b.elements,d="",l=[],h=0,t=0;for(r=0;r<c.length;r+=1){if(c[r].name==="rules"){c[r].checked=false;l[c[r].id]=c[r];t+=1}else{if(c[r].name==="saveas-name"){b.removeChild(c[r])}}}o=b.getElementsByTagName("div");for(r=0;r<o.length;r+=1){if(o[r].id==="rulesetEditWeightsDiv"){f=o[r]}else{if(o[r].id==="rulesetEditRulesetId"){w=o[r]}else{if(o[r].id==="rulesetEditRulesetName"){g=o[r]}}}}e=b.parentNode.getElementsByTagName("span");for(q=0;q<e.length;q+=1){if(e[q].id==="rulesetEditFormTitle"){v=e[q]}else{if(e[q].id==="rulesetEditCustomButtons"){s=e[q];if(p!==undefined&&p.custom===true){s.style.visibility="visible"}else{s.style.visibility="hidden"}}else{if(e[q].id==="rulesetEditFormNumRules"){a=e[q]}}}}if(p){k=p.rules;for(n in k){if(k.hasOwnProperty(n)&&k[n]){m=l["rulesetEditRule"+n];if(m){m.checked=true}if(p.weights!==undefined&&p.weights[n]!==undefined){d+='<input type="hidden" name="weight-'+n+'" value="'+p.weights[n]+'">'}h+=1}}a.innerHTML="(includes "+parseInt(h,10)+" of "+parseInt(t,10)+" rules)";w.innerHTML='<input type="hidden" name="ruleset-id" value="'+p.id+'">';g.innerHTML='<input type="hidden" name="ruleset-name" value="'+p.name+'">';v.innerHTML=p.name}else{w.innerHTML="";g.innerHTML="";v.innerHTML="New";a.innerHTML=""}f.innerHTML=d}};YSLOW.registerRenderer({id:"html",supports:{components:1,reportcard:1,stats:1,tools:1,rulesetEdit:1},genComponentsTable:function(b,o,g){var m,k,n,l,e={type:"TYPE",size:"SIZE<br> (KB)",gzip:"GZIP<br> (KB)","set-cookie":"COOKIE&nbsp;RECEIVED<br>(bytes)",cookie:"COOKIE&nbsp;SENT<br>(bytes)",headers:"HEADERS",url:"URL",expires:"EXPIRES<br>(Y/M/D)",respTime:"RESPONSE<br> TIME&nbsp;(ms)",etag:"ETAG",action:"ACTION"},i=false,d="",h="",a=0,c=0;if(o!==undefined&&e[o]===undefined){return""}if(YSLOW.renderer.bPrintable){o=YSLOW.renderer.sortBy;g=YSLOW.renderer.sortDesc}else{if(o===undefined||o==="type"){o="type";i=true}}b=YSLOW.renderer.sortComponents(b,o,g);d+='<table id="components-table"><tr>';for(m in e){if(e.hasOwnProperty(m)&&e[m]){if(YSLOW.renderer.bPrintable&&(m==="action"||m==="components"||m==="headers")){continue}d+="<th";if(o===m){d+=' class=" sortBy"'}d+=">";if(YSLOW.renderer.bPrintable){d+=e[m]}else{d+='<div class="';if(o===m){d+=(g?" sortDesc":" sortAsc")}d+='"><a href="javascript:document.ysview.regenComponentsTable(document, \''+m+"'"+(o===m?(g?", false":", true"):"")+')">'+(o===m?(g?"&darr;":"&uarr;"):"")+" "+e[m]+"</a></div>"}}}d+="</tr>";for(k=0;k<b.length;k+=1){l=b[k];if((o===undefined||o==="type")&&!YSLOW.renderer.bPrintable){if(n===undefined){n=l.type}else{if(n!==l.type){d+='<tr class="type-summary '+(i?"expand":"collapse")+'"><td><a href="javascript:document.ysview.expandCollapseComponentType(document, \''+n+'\')"><b class="expcol"><b class="exp exph"></b><b class="exp expv"></b><b class="col"></b></b><span class="rowTitle type-'+n+'">'+n+"&nbsp;("+a+')</span></a></td><td class="size">'+YSLOW.util.kbSize(c)+"</td><td><!-- GZIP --></td><td></td><td></td><td><!-- HEADERS --></td><td><!-- URL --></td><td><!-- EXPIRES --></td><td><!-- RESPTIME --></td><td><!-- ETAG --></td><td><!-- ACTION--></td></tr>";d+=h;h="";a=0;c=0;n=l.type}}h+=YSLOW.renderer.genComponentRow(e,l,(a%2===0?"even":"odd"),i);a+=1;c+=l.size}else{d+=YSLOW.renderer.genComponentRow(e,l,(k%2===0?"even":"odd"),false)}}if(h.length>0){d+='<tr class="type-summary '+(i?"expand":"collapse")+'"><td><a href="javascript:document.ysview.expandCollapseComponentType(document, \''+n+'\')"><b class="expcol"><b class="exp exph"></b><b class="exp expv"></b><b class="col"></b></b><span class="rowTitle type-'+n+'">'+n+"&nbsp;("+a+')</span></a></td><td class="size">'+YSLOW.util.kbSize(c)+"</td><td><!-- GZIP --></td><td></td><td></td><td><!-- HEADERS --></td><td><!-- URL --></td><td><!-- EXPIRES --></td><td><!-- RESPTIME --></td><td><!-- ETAG --></td><td><!-- ACTION--></td></tr>";d+=h}d+="</table>";return d},componentsView:function(g,b){var d,c=this.genComponentsTable(g,YSLOW.renderer.sortBy,false),e="in type column indicates the component is loaded after window onload event.",a="denotes 1x1 pixels image that may be image beacon",f="Components";if(YSLOW.doc){if(YSLOW.doc.components_legend){if(YSLOW.doc.components_legend.beacon){e=YSLOW.doc.components_legend.beacon}if(YSLOW.doc.components_legend.after_onload){a=YSLOW.doc.components_legend.after_onload}}if(YSLOW.doc.view_names&&YSLOW.doc.view_names.components){f=YSLOW.doc.view_names.components}}d='<div id="componentsDiv"><div id="summary"><span class="view-title">'+f+'</span>The page has a total of <span class="number">'+g.length+'</span> components and a total weight of <span class="number">'+YSLOW.util.kbSize(b)+'</span> bytes</div><div id="expand-all"><a href="javascript:document.ysview.expandAll(document)"><b>&#187;</b><span id="expand-all-text">Expand All</span></a></div><div id="components">'+c+'</div><div class="legend">* '+e+"<br>&#8224; "+a+"</div></div>";return d},reportcardPrintableView:function(d,b,g){var e,c,k,a,h,f='<div id="reportDiv"><table><tr class="header"><td colspan="2">Overall Grade: '+b+"  (Ruleset applied: "+g.name+")</td></tr>";for(e=0;e<d.length;e+=1){k=d[e];if(typeof k==="object"){a=YSLOW.util.prettyScore(k.score);h="grade-"+(a==="N/A"?"NA":a);f+='<tr><td class="grade '+h+'"><b>'+a+'</b></td><td class="desc"><p>'+k.name+'<br><div class="message">'+k.message+"</div>";if(k.components&&k.components.length>0){f+='<ul class="comps-list">';for(c=0;c<k.components.length;c+=1){if(typeof k.components[c]==="string"){f+="<li>"+k.components[c]+"</li>"}else{if(k.components[c].url!==undefined){f+="<li>"+YSLOW.util.briefUrl(k.components[c].url,60)+"</li>"}}}f+="</ul><br>"}f+="</p></td></tr>"}}f+="</table></div>";return f},getFilterCode:function(h,e,c,a){var g,b,f,j,m,n,d,l=e.length,k=[];for(b in h){if(h.hasOwnProperty(b)&&h[b]){k.push(b)}}k.sort();g='<div id="filter"><ul><li class="first selected" id="all" onclick="javascript:document.ysview.updateFilterSelection(event)"><a href="#">ALL ('+l+')</a></li><li class="first">FILTER BY: </li>';for(f=0,j=k.length;f<j;f+=1){g+="<li";if(f===0){g+=' class="first"'}g+=' id="'+k[f]+'" onclick="javascript:document.ysview.updateFilterSelection(event)"><a href="#">'+k[f].toUpperCase()+" ("+h[k[f]]+")</a></li>"}m="http://developer.yahoo.com/yslow/scoremeter/?url="+encodeURIComponent(a)+"&grade="+c;for(f=0;f<l;f+=1){n=e[f];d=parseInt(n.score,10);if(d>=0&&d<100){m+="&"+n.rule_id.toLowerCase()+"="+d}}m=encodeURIComponent(encodeURIComponent(m));a=encodeURIComponent(encodeURIComponent(a.slice(0,60)+(a.length>60?"...":"")));g+='<li class="social"><a class="facebook" href="javascript:document.ysview.openPopup(\'http://www.facebook.com/sharer.php?t=YSlow%20Scoremeter&u='+m+"', 'facebook')\" title=\"Share these results\"><span>Share</span></a></li>";g+='<li class="social"><a class="twitter" href="javascript:document.ysview.openPopup(\'http://twitter.com/share?original_referer=&source=tweetbutton&text=YSlow%20grade%20'+c+"%20for%20"+a+"&url="+m+"&via=getyslow', 'twitter')\" title=\"Tweet these results\"><span>Tweet</spam></a></li>";g+="</ul></div>";return g},reportcardView:function(c){var g,u,s,r,h,b,f,y,o,v,x,w,a,e,l='<div id="reportDiv">',t=c.getRulesetApplied(),n=c.getResults(),d=c.url,z="Grade",q="",p="",m={};if(YSLOW.doc){if(YSLOW.doc.view_names&&YSLOW.doc.view_names.grade){z=YSLOW.doc.view_names.grade}}g=YSLOW.util.prettyScore(c.getOverallScore());if(YSLOW.renderer.bPrintable){return this.reportcardPrintableView(n,g,t)}l+='<div id="summary"><table><tr><td><div class="bigFont">'+z+'</div></td><td class="padding5"><div id="overall-grade" class="grade-'+g+'">'+g+'</div></td><td class="padding15">Overall performance score '+Math.round(c.getOverallScore())+'</td><td class="padding15">Ruleset applied: '+t.name+'</td><td class="padding15">URL: '+YSLOW.util.briefUrl(d,100)+"</td></tr></table></div>";for(u=0;u<n.length;u+=1){h=n[u];if(typeof h==="object"){b=YSLOW.util.prettyScore(h.score);f=u+1;y="";o="grade-"+(b==="N/A"?"NA":b);v=parseInt(h.score,10);if(isNaN(v)||h.score===-1){v="n/a"}else{v+="%"}q+='<li id="label'+f+'"';if(u===0){y+="first selected"}if(h.category){for(r=0;r<h.category.length;r+=1){if(y.length>0){y+=" "}y+=h.category[r];if(m[h.category[r]]===undefined){m[h.category[r]]=0}m[h.category[r]]+=1}}if(y.length>0){q+=' class="'+y+'"'}q+=' onclick="javascript:document.ysview.onclickResult(event)"><a href="#" class="'+o+'"><div class="tab-label"><span class="grade" title="'+v+'">'+b+'</span><span class="desc">'+h.name+"</span></div></a></li>";p+='<div id="tab'+f+'" class="result-tab';if(u!==0){p+=" yui-hidden"}x=h.message.split("\n");if(x){h.message=x.join("<br>")}p+='"><h4>Grade '+b+" on "+h.name+"</h4><p>"+h.message+"<br>";if(h.components&&h.components.length>0){p+='<ul class="comps-list">';for(s=0;s<h.components.length;s+=1){w=h.components[s];if(typeof w==="string"){p+="<li>"+w+"</li>"}else{if(w.url!==undefined){p+="<li>";a=h.rule_id.toLowerCase();if(h.rule_id.match("expires")){p+="("+YSLOW.util.prettyExpiresDate(w.expires)+") "}p+=YSLOW.util.prettyAnchor(w.url,w.url,undefined,true,120,undefined,w.type)+"</li>"}}}p+="</ul><br>"}p+="</p>";e=YSLOW.controller.getRule(h.rule_id);if(e){p+='<hr><p class="rule-info">'+(e.info||"** To be added **")+"</p>";if(e.url!==undefined){p+='<p class="more-info"><a href="javascript:document.ysview.openLink(\''+e.url+"')\"><b>&#187;</b>Read More</a></p>"}}p+="</div>"}}l+='<div id="reportInnerDiv">'+this.getFilterCode(m,n,g,d)+'<div id="result" class="yui-navset yui-navset-left"><ul class="yui-nav" id="tab-label-list">'+q+'</ul><div class="yui-content">'+p+'</div><div id="copyright2">'+YSLOW.doc.copyright+"</div></div></div></div>";return l},statsView:function(b){var a="",c="Stats";if(YSLOW.doc){if(YSLOW.doc.view_names&&YSLOW.doc.view_names.stats){c=YSLOW.doc.view_names.stats}}a+='<div id="statsDiv"><div id="summary"><span class="view-title">'+c+'</span>The page has a total of <span class="number">'+b.PAGE.totalRequests+'</span> HTTP requests and a total weight of <span class="number">'+YSLOW.util.kbSize(b.PAGE.totalSize)+"</span> bytes with empty cache</div>";a+='<div class="section-header">WEIGHT GRAPHS</div>';a+='<div id="empty-cache"><div class="stats-graph floatLeft"><div class="canvas-title">Empty Cache</div><canvas id="comp-canvas-empty" width="150" height="150"></canvas></div><div class="yslow-stats-empty">'+YSLOW.renderer.genStats(b,false)+"</div></div>";a+='<div id="primed-cache"><div class="stats-graph floatLeft"><div class="canvas-title">Primed Cache</div><canvas id="comp-canvas-primed" width="150" height="150"></canvas></div><div class="yslow-stats-primed">'+YSLOW.renderer.genStats(b,true)+"</div></div>";a+="</div>";return a},toolsView:function(e){var d,c,b,a="<table>",g="Tools",f="Click the Launch Tool link next to the tool you want to run to start the tool.";if(YSLOW.doc){if(YSLOW.doc.tools_desc){f=YSLOW.doc.tools_desc}if(YSLOW.doc.view_names&&YSLOW.doc.view_names.tools){g=YSLOW.doc.view_names.tools}}for(d=0;d<e.length;d+=1){b=e[d];a+='<tr><td class="name"><b><a href="#" onclick="javascript:document.ysview.runTool(\''+b.id+"', {'yscontext': document.yslowContext })\">"+b.name+"</a></b></td><td>-</td><td>"+(b.short_desc||"Short text here explaining what are the main benefits of running this App")+"</td></tr>"}a+="</table>";c='<div id="toolsDiv"><div id="summary"><span class="view-title">'+g+"</span>"+f+'</div><div id="tools">'+a+"</div></div>";return c},rulesetEditView:function(n){var c,l,e,d,g='<div id="settingsDiv" class="yui-navset yui-navset-left">',m,j,i=0,b=false,a,f,k="Rule Settings",h="Choose which ruleset better fit your specific needs. You can Save As an existing rule, based on an existing ruleset.";if(YSLOW.doc){if(YSLOW.doc.rulesettings_desc){h=YSLOW.doc.rulesettings_desc}if(YSLOW.doc.view_names&&YSLOW.doc.view_names.rulesetedit){k=YSLOW.doc.view_names.rulesetedit}}f=YSLOW.controller.getDefaultRulesetId();m='<ul class="yui-nav"><li class="header">STANDARD SETS</li>';for(c in n){if(n.hasOwnProperty(c)&&n[c]){l=n[c];e="tab"+i;if(!b&&l.custom===true){m+='<li class="new-section header" id="custom-set-title">CUSTOM SETS</li>';b=true}m+='<li id="label'+i+'" class="ruleset-'+l.id;if(c===f){a=n[c];m+=' selected"'}m+='" onclick="javascript:document.ysview.onclickRuleset(event)"><a href="#'+e+'">'+l.name+"</a></li>";i+=1}}m+='<li class="new-section create-ruleset" id="create-ruleset"><input type="button" value="New Set" onclick="javascript:document.ysview.createRuleset(this, \'edit-form\')"></li></ul>';j='<div class="yui-content">'+YSLOW.renderer.genRulesetEditForm(a)+"</div>";g+=m+j;d='<div id="rulesetEditDiv"><div id="summary"><span class="view-title">'+k+"</span>"+h+"</div>"+g+"</div>";return d},rulesetEditUpdateTab:function(s,a,m,b,k){var c,l,p,e,j,q,n,h,d,i,r,o,f,g=a.parentNode.parentNode.parentNode;if(g&&g.id==="settingsDiv"&&m.custom===true){c=g.firstChild;l=c.nextSibling;if(b<1){p=c.firstChild;while(p){e=p.className.indexOf("ruleset-");if(e!==-1){j=p.className.substring(e+8);e=j.indexOf(" ");if(e!==-1){j=j.substring(0,e)}if(m.id===j){e=p.id.indexOf("label");if(e!==-1){q=p.id.substring(e+5);if(p.className.indexOf("selected")!==-1){n={};n.currentTarget=r;s.ysview.onclickRuleset(n)}if(p.previousSibling&&p.previousSibling.id==="custom-set-title"&&p.nextSibling&&p.nextSibling.id==="create-ruleset"){h=p.previousSibling}c.removeChild(p);if(h){c.removeChild(h)}}break}else{r=p}}p=p.nextSibling}}else{p=c.lastChild;while(p){i=p.id.indexOf("label");if(i!==-1){d=p.id.substring(i+5);break}p=p.previousSibling}d=Number(d)+1;p=s.createElement("li");p.className="ruleset-"+m.id;p.id="label"+d;p.onclick=function(t){s.ysview.onclickRuleset(t)};p.innerHTML='<a href="#tab'+d+'">'+m.name+"</a>";c.insertBefore(p,c.lastChild);o=c.firstChild;while(o){if(o.id&&o.id==="custom-set-title"){h=o;break}o=o.nextSibling}if(!h){h=s.createElement("li");h.className="new-section header";h.id="custom-set-title";h.innerHTML="CUSTOM SETS";c.insertBefore(h,p)}if(k){f={};f.currentTarget=p;s.ysview.onclickRuleset(f)}}}},hasClassName:function(d,a){var b,c=d.split(" ");if(c){for(b=0;b<c.length;b+=1){if(c[b]===a){return true}}}return false},expandCollapseComponentType:function(w,t,e,a,c){var n,r,o,v,g,p,k,q,d,s,l,u,h,m,b=this.hasClassName,f={expand:0,collapse:0};if(typeof c==="boolean"&&c===true){v=true}if(t){for(r=0,s=t.rows.length;r<s;r+=1){g=t.rows[r];d=g.className;if(b(d,"type-summary")){if(b(d,"expand")){f.expand+=1;n=false}else{if(b(d,"collapse")){f.collapse+=1;n=true}}p=g.getElementsByTagName("span")[0];if(v||b(p.className,"type-"+e)){if(v){k=p.className.split(" ");for(o=0;o<k.length;o+=1){if(k[o].substring(0,5)==="type-"){e=k[o].substring(5)}}}if(typeof n!=="boolean"||(typeof a==="boolean"&&a===n)){if(v){n=!a;continue}else{return}}YSLOW.view.removeClassName(g,(n?"collapse":"expand"));g.className+=(n?" expand":" collapse");if(n){f.collapse-=1;f.expand+=1}else{f.collapse+=1;f.expand-=1}}}else{if(b(d,"type-"+e)){if(n){g.style.display="none";q=g.nextSibling;if(q.id.indexOf("compHeaders")!==-1){q.style.display="none"}}else{g.style.display="table-row"}}}}}if(f.expand===0||f.collapse===0){l=t.parentNode.previousSibling;if(l){u=l.getElementsByTagName("span");for(r=0;r<u.length;r+=1){if(u[r].id==="expand-all-text"){h=u[r]}}m=false;if(h.innerHTML.indexOf("Expand")!==-1){m=true}if(m){if(f.expand===0){h.innerHTML="Collapse All"}}else{if(f.collapse===0){h.innerHTML="Expand All"}}}}},expandAllComponentType:function(g,f){var e,b,c=false,d=f.parentNode.previousSibling,a=d.getElementsByTagName("span");for(b=0;b<a.length;b+=1){if(a[b].id==="expand-all-text"){e=a[b]}}if(e){if(e.innerHTML.indexOf("Expand")!==-1){c=true}}this.expandCollapseComponentType(g,f,undefined,c,true);if(e){e.innerHTML=(c?"Collapse All":"Expand All")}},regenComponentsTable:function(g,e,f,b,h){var a,d,c;if(e){if(b===undefined){b=false}if(f==="type"){a=true}d=e.parentNode.previousSibling;if(d.id==="expand-all"){d.style.visibility=(a?"visible":"hidden")}c=this.genComponentsTable(h.components,f,b);e.parentNode.innerHTML=c}},saveRuleset:function(j,b){var d,c,f,a,e,k,m,l,h={},g={};if(b){h.custom=true;h.rules={};h.weights={};for(d=0;d<b.elements.length;d+=1){c=b.elements[d];if(c.name==="rules"&&c.type==="checkbox"){if(c.checked){h.rules[c.value]={}}}else{if(c.name==="saveas-name"){e=c.value}else{if(c.name==="ruleset-name"){k=c.value}else{if(c.name==="ruleset-id"){m=c.value}else{if((f=c.name.indexOf("weight-"))!==-1){g[c.name.substring(f)]=c.value}}}}}}l=h.rules;for(a in l){if(l.hasOwnProperty(a)&&g["weight-"+a]){h.weights[a]=parseInt(g["weight-"+a],10)}}if(e){h.id=e.replace(/\s/g,"-");h.name=e}else{h.id=m;h.name=k}if(h.id&&h.name){YSLOW.controller.addRuleset(h,true);YSLOW.controller.saveRulesetToPref(h);if(e!==undefined){this.updateRulesetUI(j,b,h,1)}}}},updateRulesetUI:function(f,e,a,d){var c,b=f.getElementsByTagName("form");for(c=0;c<b.length;c+=1){if(b[c].id===e.id){this.rulesetEditUpdateTab(f,b[c],a,d,(b[c]===e))}}f.ysview.updateRulesetList()},deleteRuleset:function(d,c){var b=this.getEditFormRulesetId(c),a=YSLOW.controller.removeRuleset(b);if(a&&a.custom){YSLOW.controller.deleteRulesetFromPref(a);this.updateRulesetUI(d,c,a,-1)}},getEditFormRulesetId:function(b){var a,c=b.getElementsByTagName("input");for(a=0;a<c.length;a+=1){if(c[a].name==="ruleset-id"){return c[a].value}}return undefined}});YSLOW.registerRenderer({id:"xml",supports:{components:1,reportcard:1,stats:1},componentsView:function(e,b){var d,a,c="<components>";for(d=0;d<e.length;d+=1){c+="<component>";c+="<type>"+e[d].type+"</type>";c+="<size>"+e[d].size+"</size>";if(e[d].compressed===false){c+="<gzip/>"}else{c+="<gzip>"+(e[d].size_compressed!==undefined?parseInt(e[d].size_compressed,10):"uncertain")+"</gzip>"}a=e[d].getSetCookieSize();if(a>0){c+="<set-cookie>"+parseInt(a,10)+"</set-cookie>"}a=e[d].getReceivedCookieSize();if(a>0){c+="<cookie>"+parseInt(a,10)+"</cookie>"}c+="<url>"+encodeURI(e[d].url)+"</url>";c+="<expires>"+e[d].expires+"</expires>";c+="<resptime>"+e[d].respTime+"</resptime>";c+="<etag>"+e[d].getEtag()+"</etag>";c+="</component>"}c+="</components>";return c},reportcardView:function(g){var d,b,k,e=g.getOverallScore(),c=YSLOW.util.prettyScore(e),h=g.getRulesetApplied(),f=g.getResults(),a='<performance ruleset="'+h.name+'" url="'+g.url+'">';a+='<overall grade="'+c+'" score="'+e+'" />';for(d=0;d<f.length;d+=1){k=f[d];a+='<lints id="'+k.rule_id+'" ruletext="'+k.name+'" hreftext="'+YSLOW.controller.getRule(k.rule_id).url+'" grade="'+YSLOW.util.prettyScore(k.score)+'" score="'+k.score+'" category="'+k.category.join(",")+'">';a+="<message>"+k.message+"</message>";if(f.components&&f.components.length>0){a+="<offenders>";for(b=0;b<k.components.length;b+=1){if(typeof k.components[b]==="string"){a+="<offender>"+k.components[b]+"</offender>"}else{if(k.components[b].url!==undefined){a+="<offender>"+k.components[b].url+"</offender>"}}}a+="</offenders>"}a+="</lints>"}a+="</performance>";return a},statsView:function(d){var c,g,b,f='<items type="primedCache">',e='<items type="emptyCache">',a=YSLOW.peeler.types;for(c=0;c<a.length;c+=1){g=a[c];if((d.PAGE.totalObjCountPrimed[g])!==undefined){f+='<item type="'+g+'" count="'+d.PAGE.totalObjCountPrimed[g]+'" size="'+d.PAGE.totalObjSizePrimed[g]+'" />'}if((d.PAGE.totalObjCount[g])!==undefined){e+='<item type="'+g+'" count="'+d.PAGE.totalObjCount[g]+'" size="'+d.PAGE.totalObjSize[g]+'" />'}}f+="</items>";e+="</items>";b='<stats numRequests="'+d.PAGE.totalRequests+'" totalSize="'+d.PAGE.totalSize+'" numRequests_p="'+d.PAGE.totalRequestsPrimed+'" totalSize_p="'+d.PAGE.totalSizePrimed+'">'+f+e+"</stats>";return b}});YSLOW.peeler={types:["doc","js","css","iframe","flash","cssimage","image","favicon","xhr","redirect","font"],NODETYPE:{ELEMENT:1,DOCUMENT:9},CSSRULE:{IMPORT_RULE:3,FONT_FACE_RULE:5},peel:function(a,b){},findDocuments:function(b){var k,n,f,l,g,h,a,o,m,c={};YSLOW.util.event.fire("peelProgress",{total_step:7,current_step:1,message:"Finding documents"});if(!b){return}if(!YSLOW.util.Preference.getPref("extensions.yslow.getFramesComponents",true)){c[b.URL]={document:b,type:"doc"};return c}l="doc";if(b.nodeType===this.NODETYPE.DOCUMENT){n=b;f=b.URL}else{if(b.nodeType===this.NODETYPE.ELEMENT&&b.nodeName.toLowerCase()==="frame"){n=b.contentDocument;f=b.src}else{if(b.nodeType===this.NODETYPE.ELEMENT&&b.nodeName.toLowerCase()==="iframe"){n=b.contentDocument;f=b.src;l="iframe";try{m=b.contentWindow;m=m&&m.parent;m=m&&m.document;m=m||b.ownerDocument;if(m&&m.URL===f){f=!b.getAttribute("src")?"":"about:blank"}}catch(d){YSLOW.util.dump(d)}}else{return c}}}c[f]={document:n,type:l};try{k=n.getElementsByTagName("iframe");for(g=0,h=k.length;g<h;g+=1){a=k[g];if(a.src){o=this.findDocuments(a);if(o){c=YSLOW.util.merge(c,o)}}}k=n.getElementsByTagName("frame");for(g=0,h=k.length;g<h;g+=1){a=k[g];o=this.findDocuments(a);if(o){c=YSLOW.util.merge(c,o)}}}catch(j){YSLOW.util.dump(j)}return c},findComponentsInNode:function(c,a,i){var b=[];try{b=this.findStyleSheets(c,a)}catch(j){YSLOW.util.dump(j)}try{b=b.concat(this.findScripts(c))}catch(h){YSLOW.util.dump(h)}try{b=b.concat(this.findFlash(c))}catch(g){YSLOW.util.dump(g)}try{b=b.concat(this.findCssImages(c))}catch(f){YSLOW.util.dump(f)}try{b=b.concat(this.findImages(c))}catch(e){YSLOW.util.dump(e)}try{if(i==="doc"){b=b.concat(this.findFavicon(c,a))}}catch(d){YSLOW.util.dump(d)}return b},addComponentsNotInNode:function(b,a){var d,c,e,k,f,g=["flash","js","css","doc","redirect"],h=YSLOW.net.getResponseURLsByType("xhr");if(h.length>0){for(c=0;c<h.length;c+=1){b.addComponent(h[c],"xhr",a)}}e=YSLOW.net.getResponseURLsByType("image");if(e.length>0){for(c=0;c<e.length;c+=1){k="image";if(e[c].indexOf("favicon.ico")!==-1){k="favicon"}b.addComponentNoDuplicate(e[c],k,a)}}for(d=0;d<g.length;d+=1){f=YSLOW.net.getResponseURLsByType(g[d]);for(c=0;c<f.length;c+=1){b.addComponentNoDuplicate(f[c],g[d],a)}}},findStyleSheets:function(d,a){var l,b,e,j,k=d.getElementsByTagName("head")[0],g=d.getElementsByTagName("body")[0],c=[],h=this,f=function(q,n){var p,m,s,o,r;for(p=0,m=q.length;p<m;p+=1){s=q[p];o=s.href||s.getAttribute("href");if(o&&(s.rel==="stylesheet"||s.type==="text/css")){c.push({type:"css",href:o===d.URL?"":o,containerNode:n});r=YSLOW.util.makeAbsoluteUrl(o,a);c=c.concat(h.findImportedStyleSheets(s.sheet,r))}}};YSLOW.util.event.fire("peelProgress",{total_step:7,current_step:2,message:"Finding StyleSheets"});if(k||g){if(k){f(k.getElementsByTagName("link"),"head")}if(g){f(g.getElementsByTagName("link"),"body")}}else{f(d.getElementsByTagName("link"))}l=d.getElementsByTagName("style");for(e=0,j=l.length;e<j;e+=1){b=l[e];c=c.concat(h.findImportedStyleSheets(b.sheet,a))}return c},findImportedStyleSheets:function(l,a){var d,m,j,f,b,g,k=/url\s*\(["']*([^"'\)]+)["']*\)/i,c=[];try{if(!(m=l.cssRules)){return c}for(d=0,g=m.length;d<g;d+=1){j=m[d];if(j.type===YSLOW.peeler.CSSRULE.IMPORT_RULE&&j.styleSheet&&j.href){c.push({type:"css",href:j.href,base:a});f=YSLOW.util.makeAbsoluteUrl(j.href,a);c=c.concat(this.findImportedStyleSheets(j.styleSheet,f))}else{if(j.type===YSLOW.peeler.CSSRULE.FONT_FACE_RULE){if(j.style&&typeof j.style.getPropertyValue==="function"){b=j.style.getPropertyValue("src");b=k.exec(b);if(b){b=b[1];c.push({type:"font",href:b,base:a})}}}else{break}}}}catch(h){YSLOW.util.dump(h)}return c},findScripts:function(d){var e=[],c=d.getElementsByTagName("head")[0],a=d.getElementsByTagName("body")[0],b=function(g,h){var k,f,j,l,m;for(k=0,f=g.length;k<f;k+=1){j=g[k];l=j.type;if(l&&l.toLowerCase().indexOf("javascript")<0){continue}m=j.src||j.getAttribute("src");if(m){e.push({type:"js",href:m===d.URL?"":m,containerNode:h})}}};YSLOW.util.event.fire("peelProgress",{total_step:7,current_step:3,message:"Finding JavaScripts"});if(c||a){if(c){b(c.getElementsByTagName("script"),"head")}if(a){b(a.getElementsByTagName("script"),"body")}}else{b(d.getElementsByTagName("script"))}return e},findFlash:function(e){var c,d,b,a,f=[];YSLOW.util.event.fire("peelProgress",{total_step:7,current_step:4,message:"Finding Flash"});b=e.getElementsByTagName("embed");for(c=0,a=b.length;c<a;c+=1){d=b[c];if(d.src){f.push({type:"flash",href:d.src})}}b=e.getElementsByTagName("object");for(c=0,a=b.length;c<a;c+=1){d=b[c];if(d.data&&d.type==="application/x-shockwave-flash"){f.push({type:"flash",href:d.data})}}return f},findCssImages:function(e){var l,h,d,g,a,b,m,c=[],k={},n=["backgroundImage","listStyleImage","content","cursor"],f=n.length;YSLOW.util.event.fire("peelProgress",{total_step:7,current_step:5,message:"Finding CSS Images"});g=e.getElementsByTagName("*");for(l=0,m=g.length;l<m;l+=1){d=g[l];for(h=0;h<f;h+=1){a=n[h];b=YSLOW.util.getComputedStyle(d,a,true);if(b&&!k[b]){c.push({type:"cssimage",href:b});k[b]=1}}}return c},findImages:function(d){var c,b,h,f,a,g=[],e={};YSLOW.util.event.fire("peelProgress",{total_step:7,current_step:6,message:"Finding Images"});h=d.getElementsByTagName("img");for(c=0,a=h.length;c<a;c+=1){b=h[c];f=b.src;if(f&&!e[f]){g.push({type:"image",href:f,obj:{width:b.width,height:b.height}});e[f]=1}}return g},findFavicon:function(g,e){var d,b,f,c,a,h=[];YSLOW.util.event.fire("peelProgress",{total_step:7,current_step:7,message:"Finding favicon"});c=g.getElementsByTagName("link");for(d=0,b=c.length;d<b;d+=1){f=c[d];a=(f.rel||"").toLowerCase();if(f.href&&(a==="icon"||a==="shortcut icon")){h.push({type:"favicon",href:f.href})}}if(!h.length){h.push({type:"favicon",href:YSLOW.util.makeAbsoluteUrl("/favicon.ico",e)})}return h},getBaseHref:function(c){var a;try{a=c.getElementsByTagName("base")[0];a=(a&&a.href)||c.URL}catch(b){YSLOW.util.dump(b)}return a}};YSLOW.peeler.peel=function(d){var a,g,f,e,b,h=[];try{g=this.findDocuments(d);for(a in g){if(g.hasOwnProperty(a)){f=g[a];if(f){h.push({type:f.type,href:a});e=f.document;if(e&&a){b=this.getBaseHref(e);h=h.concat(this.findComponentsInNode(e,b,f.type))}}}}}catch(c){YSLOW.util.dump(c);YSLOW.util.event.fire("peelError",{message:c})}return h};YUI.add("yslow-config",function(a){a.namespace("YSLOW").config={host:"http://chrisirhc.github.com/yslow/pkg/bookmarklet/dev/",js:"yslow-bookmarklet.js",css:"yslow-style.css"}});YUI().use(function(b){var a=YUI({win:window,doc:document});b.Get.script=function(){return a.Get.script.apply(a,arguments)};b.use("features","node-base","node-style","yql","jsonp-url","yslow-config",function(e){var D,w,f,B,A,l=e.config.win,G=e.config.doc,F=e.namespace("YSLOW").config,v=e.Array.each,u=e.Object.each,m=l.encodeURIComponent,j=e.UA.ie&&e.UA.ie<7?1800:6000,z=F.table?'use "'+F.table+'";':"",k=230+m(z).length,x=9,r=l.navigator.userAgent,d=m('"'+r+'"').length,n=new YSLOW.context(G),i=/^(chrome\-extension|data|chrome|javascript|about|resource|jar|file):/i,q=e.one("#YSLOW-bookmarklet");if(F.yql){e.YQLRequest.BASE_URL="://"+F.yql}YSLOW.bookmarklet=true;A=e.Node.getDOMNode(q);A.style.cssText="display:block;background:#fff;border:1px solid #000;position:fixed;bottom:0;left:0;height:50%;width:100%;z-index:2147483647;_position:absolute;_height:350px;";D=A.contentWindow;w=D.document;w.body.innerHTML='<div style="display:none;" id="yslowDiv"></div>';D.panelNode=w.getElementById("yslowDiv");if(e.one("meta[name=viewport]")){q.setStyles({position:"absolute",width:"974px"})}YSLOW.controller.init();w.ysview=new YSLOW.view(D,n);w.yslowContext=n;function t(I){I.preventDefault();try{delete l.YSLOW}catch(H){l.YSLOW=null}q.remove()}function s(J){var I=J.target.ancestor("li",true),H=I.hasClass("restore");J.preventDefault();q.setStyle("height",(H?50:100)+"%");I.toggleClass("restore")}YUI({win:D,doc:w}).use("features","node-base","node-style",function(K){var I=K.Node.create,J=I('<li id="fsClose"><a href="#"><b class="icon">X</b><em>Close</em></a></li>'),H=I('<li id="fsLink"><a href="#"><b class="icon exp">&and;</b><em class="exp">Expand</em><b class="icon res">&or;</b><em class="res">Restore</em></a></li>');K.Get.css(F.host+F.css);J.on("click",t);H.on("click",s);if(e.UA.mobile){if(!e.UA.ipad){H.addClass("restore");q.setStyle("height","100%")}else{q.setStyle("width","100%")}}K.one("#tbActions").insert(H,1);K.one("#tbActions").append(J);K.one("#ysToolButton").remove();K.one("#printLink").remove()});function p(M){var K,I,H,J=YSLOW.peeler.getBaseHref(G),L=new YSLOW.ComponentSet(G);for(K=0,H=M.length;K<H;K+=1){I=M[K];L.addComponent(I.href,I.type,I.base?I.base:J,{obj:I.obj,component:I,comp:I})}return L}function E(K){var H=k+d,I=[],J=[];v(K,function(L){H+=m(L).length+x;if(H<=j||!I.length){I.push(L)}else{J.push('"'+I.join('","')+'"');H=k+d+m(L).length+x;I=[L]}});J.push('"'+I.join('","')+'"');return J}function y(H){YSLOW.util.event.fire("componentFetchProgress",{total:B+2,current:B+2,last_component_url:"Done"});n.component_set=H;YSLOW.util.event.fire("peelComplete",{component_set:H});H.notifyPeelDone()}function c(O){var J,H,I,L=YSLOW.util.getHostname,M=L(O.doc_comp.url),N=O.components,K=O.cookies;for(J=0,H=N.length;J<H;J+=1){I=N[J];if(L(I.url)===M&&I.cookie.length<K.length){I.cookie=K}}}function g(){w.ysview.openDialog(w,400,150,"Ooops! An error occured fetching page components. Plese try again.",null,"OK",function(){w.ysview.setSplashView(true,true,true);w.ysview.closeDialog(w)})}function o(I,K,M){var L,J=I.query,H=J&&J.results;if(!H||I.error){return g()}YSLOW.util.event.fire("componentFetchProgress",{total:B+2,current:B-f,last_component_url:YSLOW.util.plural("%num% component%s% fetched",(J&&J.count)||0)});H=H&&H.resources;v(H,function(O){var N,Q=O.redirect,P="";if(Q){Q=[].concat(Q);N=K[Q[0].url];v(Q,function(R){var S={};u(R.headers,function(U,T){S[T.toLowerCase()]=U});M.push({url:R.url,href:R.url,rawHeaders:"Location: "+S.location+"\n",status:R.status,headers:S,type:"redirect"})})}else{N=K[O.url]}N.href=N.url=O.url;u(O.headers,function(S,R){P+=R+": "+S+"\n"});N.rawHeaders=P;N.status=O.status;N.headers=O.headers;N.content=O.content});if(!(f-=1)){L=p(M);YSLOW.util.event.fire("componentFetchProgress",{total:B+2,current:B+1,last_component_url:"Checking post onload components"});L.inline=YSLOW.util.getInlineTags(G);L.domElementsCount=YSLOW.util.countDOMElements(G);L.cookies=YSLOW.util.getDocCookies(G);c(L);L.components=YSLOW.util.setInjected(G,L.components,L.doc_comp.body);L.setAfterOnload(y)}}function h(I,J,H){H=E(H);f=B=H.length;v(H,function(K){e.YQL(z+"select * from data.headers where url in ("+K+') and ua="'+r+'";',{on:{success:o,failure:g,timeout:g},args:[I,J]})})}function C(I){var L,J,K,H,N={},M=[],O=[];for(L=0,H=I.length;L<H;L+=1){J=I[L];K=J.href;if(K&&!i.test(K)){N[K]=J;O.push(J);M.push(K)}else{if(!K){O.push(J)}}}return h(N,O,M)}YSLOW.controller.run=function(I,J,H){YSLOW.util.event.fire("peelStart");C(YSLOW.peeler.peel(G))};YSLOW.util.event.addListener("peelStart",function(){w.ysview.genProgressView()});YSLOW.util.event.addListener("peelProgress",function(H){w.ysview.updateProgressView("peel",H)});YSLOW.util.event.addListener("componentFetchProgress",function(H){w.ysview.updateProgressView("fetch",H)});YSLOW.util.event.addListener("componentFetchDone",function(){w.ysview.show()});w.ysview.setSplashView(true,true,true)})});